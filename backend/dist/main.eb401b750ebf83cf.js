"use strict";var Yj=Object.defineProperty,Zj=Object.defineProperties,Xj=Object.getOwnPropertyDescriptors,E0=Object.getOwnPropertySymbols,e6=Object.prototype.hasOwnProperty,t6=Object.prototype.propertyIsEnumerable,b0=(Nt,bt,Ye)=>bt in Nt?Yj(Nt,bt,{enumerable:!0,configurable:!0,writable:!0,value:Ye}):Nt[bt]=Ye,Y=(Nt,bt)=>{for(var Ye in bt||(bt={}))e6.call(bt,Ye)&&b0(Nt,Ye,bt[Ye]);if(E0)for(var Ye of E0(bt))t6.call(bt,Ye)&&b0(Nt,Ye,bt[Ye]);return Nt},kt=(Nt,bt)=>Zj(Nt,Xj(bt));(self.webpackChunkOEI=self.webpackChunkOEI||[]).push([[179],{934:()=>{function Nt(n){return"function"==typeof n}let bt=!1;const Ye={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else bt&&console.log("RxJS: Back to a better error behavior. Thank you. <3");bt=n},get useDeprecatedSynchronousErrorHandling(){return bt}};function li(n){setTimeout(()=>{throw n},0)}const Rc={closed:!0,next(n){},error(n){if(Ye.useDeprecatedSynchronousErrorHandling)throw n;li(n)},complete(){}},Mc=Array.isArray||(n=>n&&"number"==typeof n.length);function cd(n){return null!==n&&"object"==typeof n}const kc=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,r)=>`${r+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class tt{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof tt)e.remove(this);else if(null!==e)for(let s=0;s<e.length;++s)e[s].remove(this);if(Nt(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof kc?hm(s.errors):[s]}}if(Mc(o)){let s=-1,a=o.length;for(;++s<a;){const c=o[s];if(cd(c))try{c.unsubscribe()}catch(l){t=t||[],l instanceof kc?t=t.concat(hm(l.errors)):t.push(l)}}}if(t)throw new kc(t)}add(t){let e=t;if(!t)return tt.EMPTY;switch(typeof t){case"function":e=new tt(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof tt)){const o=e;e=new tt,e._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=e;if(null===r)e._parentOrParents=this;else if(r instanceof tt){if(r===this)return e;e._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return e;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[e]:i.push(e),e}remove(t){const e=this._subscriptions;if(e){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}}}var n;function hm(n){return n.reduce((t,e)=>t.concat(e instanceof kc?e.errors:e),[])}tt.EMPTY=((n=new tt).closed=!0,n);const Nc="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ze extends tt{constructor(t,e,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Rc;break;case 1:if(!t){this.destination=Rc;break}if("object"==typeof t){t instanceof Ze?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new fm(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new fm(this,t,e,r)}}[Nc](){return this}static create(t,e,r){const i=new Ze(t,e,r);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class fm extends Ze{constructor(t,e,r,i){super(),this._parentSubscriber=t;let o,s=this;Nt(e)?o=e:e&&(o=e.next,r=e.error,i=e.complete,e!==Rc&&(s=Object.create(e),Nt(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;Ye.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:r}=Ye;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):li(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;li(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);Ye.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),Ye.useDeprecatedSynchronousErrorHandling)throw r;li(r)}}__tryOrSetError(t,e,r){if(!Ye.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(i){return Ye.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(li(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Us="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pc(n){return n}let Ne=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const{operator:o}=this,s=function(n,t,e){if(n){if(n instanceof Ze)return n;if(n[Nc])return n[Nc]()}return n||t||e?new Ze(n,t,e):new Ze(Rc)}(e,r,i);if(s.add(o?o.call(s,this.source):this.source||Ye.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ye.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){Ye.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),function(n){for(;n;){const{closed:t,destination:e,isStopped:r}=n;if(t||r)return!1;n=e&&e instanceof Ze?e:null}return!0}(e)?e.error(r):console.warn(r)}}forEach(e,r){return new(r=gm(r))((i,o)=>{let s;s=this.subscribe(a=>{try{e(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})}_subscribe(e){const{source:r}=this;return r&&r.subscribe(e)}[Us](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?Pc:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=gm(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function gm(n){if(n||(n=Ye.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const bo=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class S0 extends tt{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}class mm extends Ze{constructor(t){super(t),this.destination=t}}let un=(()=>{class n extends Ne{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Nc](){return new mm(this)}lift(e){const r=new vm(this,this);return r.operator=e,r}next(e){if(this.closed)throw new bo;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(e)}}error(e){if(this.closed)throw new bo;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new bo;this.isStopped=!0;const{observers:e}=this,r=e.length,i=e.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new bo;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new bo;return this.hasError?(e.error(this.thrownError),tt.EMPTY):this.isStopped?(e.complete(),tt.EMPTY):(this.observers.push(e),new S0(this,e))}asObservable(){const e=new Ne;return e.source=this,e}}return n.create=(t,e)=>new vm(t,e),n})();class vm extends un{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):tt.EMPTY}}function xc(n){return n&&"function"==typeof n.schedule}function W(n,t){return function(r){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new T0(n,t))}}class T0{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new I0(t,this.project,this.thisArg))}}class I0 extends Ze{constructor(t,e,r){super(t),this.project=e,this.count=0,this.thisArg=r||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const _m=n=>t=>{for(let e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()},Oc="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Cm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ym(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const ld=n=>{if(n&&"function"==typeof n[Us])return(n=>t=>{const e=n[Us]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(Cm(n))return _m(n);if(ym(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,li),t))(n);if(n&&"function"==typeof n[Oc])return(n=>t=>{const e=n[Oc]();for(;;){let r;try{r=e.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${cd(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function ud(n,t){return new Ne(e=>{const r=new tt;let i=0;return r.add(t.schedule(function(){i!==n.length?(e.next(n[i++]),e.closed||r.add(this.schedule())):e.complete()})),r})}function He(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Us]}(n))return function(n,t){return new Ne(e=>{const r=new tt;return r.add(t.schedule(()=>{const i=n[Us]();r.add(i.subscribe({next(o){r.add(t.schedule(()=>e.next(o)))},error(o){r.add(t.schedule(()=>e.error(o)))},complete(){r.add(t.schedule(()=>e.complete()))}}))})),r})}(n,t);if(ym(n))return function(n,t){return new Ne(e=>{const r=new tt;return r.add(t.schedule(()=>n.then(i=>{r.add(t.schedule(()=>{e.next(i),r.add(t.schedule(()=>e.complete()))}))},i=>{r.add(t.schedule(()=>e.error(i)))}))),r})}(n,t);if(Cm(n))return ud(n,t);if(function(n){return n&&"function"==typeof n[Oc]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ne(e=>{const r=new tt;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=n[Oc](),r.add(t.schedule(function(){if(e.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void e.error(a)}s?e.complete():(e.next(o),this.schedule())}))})),r})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Ne?n:new Ne(ld(n))}class dd extends Ze{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class hd extends Ze{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function fd(n,t){if(t.closed)return;if(n instanceof Ne)return n.subscribe(t);let e;try{e=ld(n)(t)}catch(r){t.error(r)}return e}function Pt(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(Pt((i,o)=>He(n(i,o)).pipe(W((s,a)=>t(i,s,o,a))),e)):("number"==typeof t&&(e=t),r=>r.lift(new U0(n,e)))}class U0{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V0(t,this.project,this.concurrent))}}class V0 extends hd{constructor(t,e,r=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new dd(this),r=this.destination;r.add(e);const i=fd(t,e);i!==e&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Vs(n=Number.POSITIVE_INFINITY){return Pt(Pc,n)}function pd(n,t){return t?ud(n,t):new Ne(_m(n))}function gd(){return function(t){return t.lift(new B0(t))}}class B0{constructor(t){this.connectable=t}call(t,e){const{connectable:r}=this;r._refCount++;const i=new j0(t,r),o=e.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class j0 extends Ze{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:r}=this,i=t._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class Em extends Ne{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new tt,t.add(this.source.subscribe(new $0(this.getSubject(),this))),t.closed&&(this._connection=null,t=tt.EMPTY)),t}refCount(){return gd()(this)}}const q0=(()=>{const n=Em.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class $0 extends mm{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function K0(){return new un}function Pe(n){for(let t in n)if(n[t]===Pe)return t;throw Error("Could not find renamed property on target object.")}function md(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function _e(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(_e).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function vd(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const J0=Pe({__forward_ref__:Pe});function Be(n){return n.__forward_ref__=Be,n.toString=function(){return _e(this())},n}function J(n){return bm(n)?n():n}function bm(n){return"function"==typeof n&&n.hasOwnProperty(J0)&&n.__forward_ref__===Be}class Li extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function ue(n){return"string"==typeof n?n:null==n?"":String(n)}function Zt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ue(n)}function Lc(n,t){const e=t?` in ${t}`:"";throw new Li("201",`No provider for ${Zt(n)} found${e}`)}function yn(n,t){null==n&&function(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function jr(n){return Am(n,Uc)||Am(n,Sm)}function Am(n,t){return n.hasOwnProperty(t)?n[t]:null}function wm(n){return n&&(n.hasOwnProperty(Cd)||n.hasOwnProperty(rT))?n[Cd]:null}const Uc=Pe({\u0275prov:Pe}),Cd=Pe({\u0275inj:Pe}),Sm=Pe({ngInjectableDef:Pe}),rT=Pe({ngInjectorDef:Pe});var ee=(()=>((ee=ee||{})[ee.Default=0]="Default",ee[ee.Host=1]="Host",ee[ee.Self=2]="Self",ee[ee.SkipSelf=4]="SkipSelf",ee[ee.Optional=8]="Optional",ee))();let yd;function ui(n){const t=yd;return yd=n,t}function Tm(n,t,e){const r=jr(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&ee.Optional?null:void 0!==t?t:void Lc(_e(n),"Injector")}function di(n){return{toString:n}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),En=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(En||(En={})),En))();const oT="undefined"!=typeof globalThis&&globalThis,sT="undefined"!=typeof window&&window,aT="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie=oT||"undefined"!=typeof global&&global||sT||aT,Ao={},Le=[],Vc=Pe({\u0275cmp:Pe}),Ed=Pe({\u0275dir:Pe}),bd=Pe({\u0275pipe:Pe}),Im=Pe({\u0275mod:Pe}),qr=Pe({\u0275fac:Pe}),Hs=Pe({__NG_ELEMENT_ID__:Pe});let cT=0;function ft(n){return di(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||En.Emulated,id:"c",styles:n.styles||Le,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,o=n.features,s=n.pipes;return r.id+=cT++,r.inputs=Mm(n.inputs,e),r.outputs=Mm(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Dm):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Fm):null,r})}function Dm(n){return Vt(n)||function(n){return n[Ed]||null}(n)}function Fm(n){return function(n){return n[bd]||null}(n)}const Rm={};function bn(n){return di(()=>{const t={type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Rm[n.id]=n.type),t})}function Mm(n,t){if(null==n)return Ao;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const re=ft;function Vt(n){return n[Vc]||null}function Pn(n,t){const e=n[Im]||null;if(!e&&!0===t)throw new Error(`Type ${_e(n)} does not have '\u0275mod' property.`);return e}function Cr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Xn(n){return Array.isArray(n)&&!0===n[1]}function Sd(n){return 0!=(8&n.flags)}function qc(n){return 2==(2&n.flags)}function $c(n){return 1==(1&n.flags)}function er(n){return null!==n.template}function pT(n){return 0!=(512&n[2])}function ji(n,t){return n.hasOwnProperty(qr)?n[qr]:null}class Nm{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bt(){return Pm}function Pm(n){return n.type.prototype.ngOnChanges&&(n.setInput=_T),vT}function vT(){const n=Om(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Ao)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function _T(n,t,e,r){const i=Om(n)||function(n,t){return n[xm]=t}(n,{previous:Ao,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[e],c=s[a];o[a]=new Nm(c&&c.currentValue,t,s===Ao),n[r]=t}Bt.ngInherit=!0;const xm="__ngSimpleChanges__";function Om(n){return n[xm]||null}const Lm="http://www.w3.org/2000/svg";let Dd;function Fd(){return void 0!==Dd?Dd:"undefined"!=typeof document?document:void 0}function nt(n){return!!n.listen}const Vm={createRenderer:(n,t)=>Fd()};function lt(n){for(;Array.isArray(n);)n=n[0];return n}function Gc(n,t){return lt(t[n])}function Ln(n,t){return lt(t[n.index])}function Rd(n,t){return n.data[t]}function wn(n,t){const e=t[n];return Cr(e)?e:e[0]}function Md(n){return 128==(128&n[2])}function fi(n,t){return null==t?null:n[t]}function Bm(n){n[18]=0}function kd(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const ae={lFrame:Qm(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jm(){return ae.bindingsEnabled}function F(){return ae.lFrame.lView}function Te(){return ae.lFrame.tView}function R(n){return ae.lFrame.contextLView=n,n[8]}function pt(){let n=qm();for(;null!==n&&64===n.type;)n=n.parent;return n}function qm(){return ae.lFrame.currentTNode}function yr(n,t){const e=ae.lFrame;e.currentTNode=n,e.isParent=t}function Nd(){return ae.lFrame.isParent}function zc(){return ae.isInCheckNoChangesMode}function Wc(n){ae.isInCheckNoChangesMode=n}function en(){const n=ae.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function $r(){return ae.lFrame.bindingIndex}function Fo(){return ae.lFrame.bindingIndex++}function Gr(n){const t=ae.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function NT(n,t){const e=ae.lFrame;e.bindingIndex=e.bindingRootIndex=n,xd(t)}function xd(n){ae.lFrame.currentDirectiveIndex=n}function Ld(n){ae.lFrame.currentQueryIndex=n}function xT(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Wm(n,t,e){if(e&ee.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&ee.Host||(i=xT(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=ae.lFrame=Km();return r.currentTNode=t,r.lView=n,!0}function Kc(n){const t=Km(),e=n[1];ae.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Km(){const n=ae.lFrame,t=null===n?null:n.child;return null===t?Qm(n):t}function Qm(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Jm(){const n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ym=Jm;function Qc(){const n=Jm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tn(){return ae.lFrame.selectedIndex}function pi(n){ae.lFrame.selectedIndex=n}function rt(){const n=ae.lFrame;return Rd(n.tView,n.selectedIndex)}function Jc(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-e,c),l&&((n.viewHooks||(n.viewHooks=[])).push(e,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,l)),null!=h&&(n.destroyHooks||(n.destroyHooks=[])).push(e,h)}}function Yc(n,t,e){ev(n,t,3,e)}function Zc(n,t,e,r){(3&n[2])===e&&ev(n,t,e,r)}function Ud(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function ev(n,t,e,r){const o=null!=r?r:-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&n[18]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(n[18]+=65536),(a<o||-1==o)&&(jT(n,e,t,c),n[18]=(4294901760&n[18])+c+2),c++}function jT(n,t,e,r){const i=e[r]<0,o=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Gs{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Xc(n,t,e){const r=nt(n);let i=0;for(;i<e.length;){const o=e[i];if("number"==typeof o){if(0!==o)break;i++;const s=e[i++],a=e[i++],c=e[i++];r?n.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=o,a=e[++i];Hd(s)?r&&n.setProperty(t,s,a):r?n.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function tv(n){return 3===n||4===n||6===n}function Hd(n){return 64===n.charCodeAt(0)}function el(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||nv(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function nv(n,t,e,r,i){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function rv(n){return-1!==n}function Ro(n){return 32767&n}function Mo(n,t){let e=function(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let Bd=!0;function tl(n){const t=Bd;return Bd=n,t}let KT=0;function Ws(n,t){const e=qd(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,jd(r.data,n),jd(t,null),jd(r.blueprint,null));const i=nl(n,t),o=n.injectorIndex;if(rv(i)){const s=Ro(i),a=Mo(i,t),c=a[1].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function jd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function qd(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function nl(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function rl(n,t,e){!function(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Hs)&&(r=e[Hs]),null==r&&(r=e[Hs]=KT++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function sv(n,t,e){if(e&ee.Optional)return n;Lc(t,"NodeInjector")}function av(n,t,e,r){if(e&ee.Optional&&void 0===r&&(r=null),0==(e&(ee.Self|ee.Host))){const i=n[9],o=ui(void 0);try{return i?i.get(t,r,e&ee.Optional):Tm(t,r,e&ee.Optional)}finally{ui(o)}}return sv(r,t,e)}function cv(n,t,e,r=ee.Default,i){if(null!==n){const o=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Hs)?n[Hs]:void 0;return"number"==typeof t?t>=0?255&t:YT:t}(e);if("function"==typeof o){if(!Wm(t,n,r))return r&ee.Host?sv(i,e,r):av(t,e,r,i);try{const s=o(r);if(null!=s||r&ee.Optional)return s;Lc(e)}finally{Ym()}}else if("number"==typeof o){let s=null,a=qd(n,t),c=-1,l=r&ee.Host?t[16][6]:null;for((-1===a||r&ee.SkipSelf)&&(c=-1===a?nl(n,t):t[a+8],-1!==c&&dv(r,!1)?(s=t[1],a=Ro(c),t=Mo(c,t)):a=-1);-1!==a;){const h=t[1];if(uv(o,a,h.data)){const f=ZT(a,t,e,s,r,l);if(f!==lv)return f}c=t[a+8],-1!==c&&dv(r,t[1].data[a+8]===l)&&uv(o,a,t)?(s=h,a=Ro(c),t=Mo(c,t)):a=-1}}}return av(t,e,r,i)}const lv={};function YT(){return new ko(pt(),F())}function ZT(n,t,e,r,i,o){const s=t[1],a=s.data[n+8],h=function(n,t,e,r,i){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,h=o>>20,p=i?a+h:n.directiveEnd;for(let g=r?a:a+h;g<p;g++){const _=s[g];if(g<c&&e===_||g>=c&&_.type===e)return g}if(i){const g=s[c];if(g&&er(g)&&g.type===e)return c}return null}(a,s,e,null==r?qc(a)&&Bd:r!=s&&0!=(3&a.type),i&ee.Host&&o===a);return null!==h?Ks(t,s,h,a):lv}function Ks(n,t,e,r){let i=n[e];const o=t.data;if(function(n){return n instanceof Gs}(i)){const s=i;s.resolving&&function(n,t){throw new Li("200",`Circular dependency in DI detected for ${n}`)}(Zt(o[e]));const a=tl(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ui(s.injectImpl):null;Wm(n,r,ee.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Pm(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==c&&ui(c),tl(a),s.resolving=!1,Ym()}}return i}function uv(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function dv(n,t){return!(n&ee.Self||n&ee.Host&&t)}class ko{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return cv(this._tNode,this._lView,t,r,e)}}function Sn(n){return di(()=>{const t=n.prototype.constructor,e=t[qr]||$d(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[qr]||$d(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $d(n){return bm(n)?()=>{const t=$d(J(n));return t&&t()}:ji(n)}const Po="__parameters__";function qi(n,t,e){return di(()=>{const r=function(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,h){const f=c.hasOwnProperty(Po)?c[Po]:Object.defineProperty(c,Po,{value:[]})[Po];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class de{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=X({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const n1=new de("AnalyzeForEntryComponents");function Er(n,t){n.forEach(e=>Array.isArray(e)?Er(e,t):t(e))}function ol(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function $i(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Tn(n,t,e){let r=Oo(n,t);return r>=0?n[1|r]=e:(r=~r,function(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function Wd(n,t){const e=Oo(n,t);if(e>=0)return n[1|e]}function Oo(n,t){return function(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const ea={},Qd="__NG_DI_FLAG__",Lo="ngTempTokenPath",h1=/\n/gm,Jd="__source",Yd=Pe({provide:String,useValue:Pe});let ta;function Uo(n){const t=ta;return ta=n,t}function p1(n,t=ee.Default){if(void 0===ta)throw new Error("inject() must be called from an injection context");return null===ta?Tm(n,void 0,t):ta.get(n,t&ee.Optional?null:void 0,t)}function x(n,t=ee.Default){return(yd||p1)(J(n),t)}function Gi(n){const t=[];for(let e=0;e<n.length;e++){const r=J(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,o=ee.Default;for(let s=0;s<r.length;s++){const a=r[s],c=g1(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(x(i,o))}else t.push(x(r))}return t}function na(n,t){return n[Qd]=t,n.prototype[Qd]=t,n}function g1(n){return n[Qd]}function mv(n,t,e,r){const i=n[Lo];throw t[Jd]&&i.unshift(t[Jd]),n.message=function(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=_e(t);if(Array.isArray(t))i=t.map(_e).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):_e(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(h1,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[Lo]=null,n}const Vo=na(qi("Inject",n=>({token:n})),-1),fn=na(qi("Optional"),8),vi=na(qi("SkipSelf"),4);let ll,ul;function Bo(n){var t;return(null==(t=function(){if(void 0===ll&&(ll=null,Ie.trustedTypes))try{ll=Ie.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return ll}())?void 0:t.createHTML(n))||n}function Ev(n){var t;return(null==(t=function(){if(void 0===ul&&(ul=null,Ie.trustedTypes))try{ul=Ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return ul}())?void 0:t.createHTML(n))||n}class zi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function In(n){return n instanceof zi?n.changingThisBreaksApplicationSecurity:n}function br(n,t){const e=function(n){return n instanceof zi&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class O1{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Bo(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class L1{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Bo(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=Bo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const s=e.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const V1=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,H1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ia(n){return(n=String(n)).match(V1)||n.match(H1)?n:"unsafe:"+n}function Tv(n){return(n=String(n)).split(",").map(t=>ia(t.trim())).join(", ")}function Ar(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function oa(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const Iv=Ar("area,br,col,hr,img,wbr"),Dv=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fv=Ar("rp,rt"),th=oa(Iv,oa(Dv,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oa(Fv,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oa(Fv,Dv)),nh=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rh=Ar("srcset"),Rv=oa(nh,rh,Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),B1=Ar("script,style,template");class j1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!th.hasOwnProperty(e))return this.sanitizedSomething=!0,!B1.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!Rv.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;nh[a]&&(c=ia(c)),rh[a]&&(c=Tv(c)),this.buf.push(" ",s,'="',Mv(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();th.hasOwnProperty(e)&&!Iv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Mv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const q1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$1=/([^\#-~ |!])/g;function Mv(n){return n.replace(/&/g,"&amp;").replace(q1,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace($1,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dl;function kv(n,t){let e=null;try{dl=dl||function(n){const t=new L1(n);return function(){try{return!!(new window.DOMParser).parseFromString(Bo(""),"text/html")}catch(n){return!1}}()?new O1(t):t}(n);let r=t?String(t):"";e=dl.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=dl.getInertBodyElement(r)}while(r!==o);return Bo((new j1).sanitizeChildren(ih(e)||e))}finally{if(e){const r=ih(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function ih(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ve=(()=>((Ve=Ve||{})[Ve.NONE=0]="NONE",Ve[Ve.HTML=1]="HTML",Ve[Ve.STYLE=2]="STYLE",Ve[Ve.SCRIPT=3]="SCRIPT",Ve[Ve.URL=4]="URL",Ve[Ve.RESOURCE_URL=5]="RESOURCE_URL",Ve))();function sa(n){const t=aa();return t?Ev(t.sanitize(Ve.HTML,n)||""):br(n,"HTML")?Ev(In(n)):kv(Fd(),ue(n))}function De(n){const t=aa();return t?t.sanitize(Ve.URL,n)||"":br(n,"URL")?In(n):ia(ue(n))}function aa(){const n=F();return n&&n[12]}const xv="__ngContext__";function jt(n,t){n[xv]=t}function sh(n){const t=function(n){return n[xv]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function hl(n){return n.ngOriginalError}function aI(n,...t){n.error(...t)}class Wi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=this._findContext(t),i=function(n){return n&&n.ngErrorLogger||aI}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(hl(t)):null}_findOriginalError(t){let e=t&&hl(t);for(;e&&hl(e);)e=hl(e);return e||null}}const $v=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))();function wr(n){return n instanceof Function?n():n}var Dn=(()=>((Dn=Dn||{})[Dn.Important=1]="Important",Dn[Dn.DashCase=2]="DashCase",Dn))();function lh(n,t){return undefined(n,t)}function la(n){const t=n[3];return Xn(t)?t[3]:t}function uh(n){return Qv(n[13])}function dh(n){return Qv(n[4])}function Qv(n){for(;null!==n&&!Xn(n);)n=n[4];return n}function qo(n,t,e,r,i){if(null!=r){let o,s=!1;Xn(r)?o=r:Cr(r)&&(s=!0,r=r[0]);const a=lt(r);0===n&&null!==e?null==i?t_(t,e,a):Ki(t,e,a,i||null,!0):1===n&&null!==e?Ki(t,e,a,i||null,!0):2===n?function(n,t,e){const r=pl(n,t);r&&function(n,t,e,r){nt(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function(n,t,e,r,i){const o=e[7];o!==lt(e)&&qo(t,n,r,o,i);for(let a=10;a<e.length;a++){const c=e[a];ua(c[1],c,n,t,r,o)}}(t,n,o,e,i)}}function fh(n,t,e){return nt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Yv(n,t){const e=n[9],r=e.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,kd(i,-1)),e.splice(r,1)}function ph(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&Yv(i,r),t>0&&(n[e-1][4]=r[4]);const o=$i(n,10+t);!function(n,t){ua(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Zv(n,t){if(!(256&t[2])){const e=t[11];nt(e)&&e.destroyNode&&ua(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return gh(n[1],n);for(;t;){let e=null;if(Cr(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)Cr(t)&&gh(t[1],t),t=t[3];null===t&&(t=n),Cr(t)&&gh(t[1],t),e=t&&t[4]}t=e}}(t)}}function gh(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Gs)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):lt(t[s]),c=r[i=e[o+2]],l=e[o+3];"boolean"==typeof l?a.removeEventListener(e[o],c,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const s=r[i=e[o+1]];e[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(n,t),1===t[1].type&&nt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Xn(t[3])){e!==t[3]&&Yv(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function Xv(n,t,e){return function(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===En.None||i===En.Emulated)return null}return Ln(r,e)}(n,t.parent,e)}function Ki(n,t,e,r,i){nt(n)?n.insertBefore(t,e,r,i):t.insertBefore(e,r,i)}function t_(n,t,e){nt(n)?n.appendChild(t,e):t.appendChild(e)}function n_(n,t,e,r,i){null!==r?Ki(n,t,e,r,i):t_(n,t,e)}function pl(n,t){return nt(n)?n.parentNode(t):t.parentNode}let o_=function(n,t,e){return 40&n.type?Ln(n,e):null};function gl(n,t,e,r){const i=Xv(n,r,t),o=t[11],a=function(n,t,e){return o_(n,t,e)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let c=0;c<e.length;c++)n_(o,i,e[c],a,!1);else n_(o,i,e,a,!1)}function ml(n,t){if(null!==t){const e=t.type;if(3&e)return Ln(t,n);if(4&e)return vh(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return ml(n,r);{const i=n[t.index];return Xn(i)?vh(-1,i):lt(i)}}if(32&e)return lh(t,n)()||lt(n[t.index]);{const r=a_(n,t);return null!==r?Array.isArray(r)?r[0]:ml(la(n[16]),r):ml(n,t.next)}}return null}function a_(n,t){return null!==t?n[16][6].projection[t.projection]:null}function vh(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return ml(r,i)}return t[7]}function _h(n,t,e,r,i,o,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===t&&(a&&jt(lt(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)_h(n,t,e.child,r,i,o,!1),qo(t,n,i,a,o);else if(32&c){const l=lh(e,r);let h;for(;h=l();)qo(t,n,i,h,o);qo(t,n,i,a,o)}else 16&c?l_(n,t,r,e,i,o):qo(t,n,i,a,o);e=s?e.projectionNext:e.next}}function ua(n,t,e,r,i,o){_h(e,r,n.firstChild,t,i,o,!1)}function l_(n,t,e,r,i,o){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)qo(t,n,i,c[l],o);else _h(n,t,c,s[3],i,o,!0)}function u_(n,t,e){nt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Ch(n,t,e){nt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function d_(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const h_="ng-template";function NI(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==d_(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function f_(n){return 4===n.type&&n.value!==h_}function PI(n,t,e){return t===(4!==n.type||e?n.value:h_)}function xI(n,t,e){let r=4;const i=n.attrs||[],o=function(n){for(let t=0;t<n.length;t++)if(tv(n[t]))return t;return n.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!PI(n,c,e)||""===c&&1===t.length){if(tr(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==n.attrs){if(!NI(n.attrs,l,e)){if(tr(r))return!1;s=!0}continue}const f=OI(8&r?"class":c,i,f_(n),e);if(-1===f){if(tr(r))return!1;s=!0;continue}if(""!==l){let p;p=f>o?"":i[f+1].toLowerCase();const g=8&r?p:null;if(g&&-1!==d_(g,l,0)||2&r&&l!==p){if(tr(r))return!1;s=!0}}}}else{if(!s&&!tr(r)&&!tr(c))return!1;if(s&&tr(c))continue;s=!1,r=c|1&r}}return tr(r)||s}function tr(n){return 0==(1&n)}function OI(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function p_(n,t,e=!1){for(let r=0;r<t.length;r++)if(xI(n,t[r],e))return!0;return!1}function g_(n,t){return n?":not("+t.trim()+")":t}function BI(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!tr(s)&&(t+=g_(o,i),i=""),r=s,o=o||!tr(r);e++}return""!==i&&(t+=g_(o,i)),t}const he={};function v(n){m_(Te(),F(),tn()+n,zc())}function m_(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Yc(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Zc(t,o,0,e)}pi(e)}function vl(n,t){return n<<17|t<<2}function nr(n){return n>>17&32767}function yh(n){return 2|n}function zr(n){return(131068&n)>>2}function Eh(n,t){return-131069&n|t<<2}function bh(n){return 1|n}function I_(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const s=n.data[o];Ld(i),s.contentQueries(2,t[o],o)}}}function da(n,t,e,r,i,o,s,a,c,l){const h=t.blueprint.slice();return h[0]=i,h[2]=140|r,Bm(h),h[3]=h[15]=n,h[8]=e,h[10]=s||n&&n[10],h[11]=a||n&&n[11],h[12]=c||n&&n[12]||null,h[9]=l||n&&n[9]||null,h[6]=o,h[16]=2==t.type?n[16]:h,h}function $o(n,t,e,r,i){let o=n.data[t];if(null===o)o=function(n,t,e,r,i){const o=qm(),s=Nd(),c=n.data[t]=function(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c)),c}(n,t,e,r,i),ae.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function(){const n=ae.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return yr(o,!0),o}function Go(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function ha(n,t,e){Kc(t);try{const r=n.viewQuery;null!==r&&Hh(1,r,e);const i=n.template;null!==i&&D_(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&I_(n,t),n.staticViewQueries&&Hh(2,n.viewQuery,e);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)AD(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,Qc()}}function zo(n,t,e,r){const i=t[2];if(256==(256&i))return;Kc(t);const o=zc();try{Bm(t),function(n){ae.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&D_(n,t,e,2,r);const s=3==(3&i);if(!o)if(s){const l=n.preOrderCheckHooks;null!==l&&Yc(t,l,null)}else{const l=n.preOrderHooks;null!==l&&Zc(t,l,0,null),Ud(t,0)}if(function(n){for(let t=uh(n);null!==t;t=dh(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(1024&i[2])&&kd(o,1),i[2]|=1024}}}(t),function(n){for(let t=uh(n);null!==t;t=dh(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];Md(r)&&zo(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&I_(n,t),!o)if(s){const l=n.contentCheckHooks;null!==l&&Yc(t,l)}else{const l=n.contentHooks;null!==l&&Zc(t,l,1),Ud(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)pi(~i);else{const o=i,s=e[++r],a=e[++r];NT(s,o),a(2,t[o])}}}finally{pi(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)bD(n,t[e])}(t,a);const c=n.viewQuery;if(null!==c&&Hh(2,c,r),!o)if(s){const l=n.viewCheckHooks;null!==l&&Yc(t,l)}else{const l=n.viewHooks;null!==l&&Zc(t,l,2),Ud(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,kd(t[3],-1))}finally{Qc()}}function rD(n,t,e,r){const i=t[10],o=!zc(),s=function(n){return 4==(4&n[2])}(t);try{o&&!s&&i.begin&&i.begin(),s&&ha(n,t,r),zo(n,t,e,r)}finally{o&&!s&&i.end&&i.end()}}function D_(n,t,e,r,i){const o=tn(),s=2&r;try{pi(-1),s&&t.length>20&&m_(n,t,20,zc()),e(r,i)}finally{pi(o)}}function kh(n,t,e){!jm()||(function(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||Ws(e,t),jt(r,t);const s=e.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=er(c);l&&vD(t,e,c);const h=Ks(t,n,a,e);jt(h,t),null!==s&&_D(0,a-i,h,c,0,s),l&&(wn(e.index,t)[8]=h)}}(n,t,e,Ln(e,t)),128==(128&e.flags)&&function(n,t,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,a=ae.lFrame.currentDirectiveIndex;try{pi(s);for(let c=r;c<i;c++){const l=n.data[c],h=t[c];xd(c),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&L_(l,h)}}finally{pi(-1),xd(a)}}(n,t,e))}function Nh(n,t,e=Ln){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(t,n):n[s];n[i++]=a}}}function R_(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=yl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function yl(n,t,e,r,i,o,s,a,c,l){const h=20+r,f=h+i,p=function(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:he);return e}(h,f),g="function"==typeof l?l():l;return p[1]={type:n,blueprint:p,template:e,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1}}function P_(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function Fn(n,t,e,r,i,o,s,a){const c=Ln(t,e);let h,l=t.inputs;!a&&null!=l&&(h=l[r])?(W_(n,e,h,r,i),qc(t)&&function(n,t){const e=wn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,nt(o)?o.setProperty(c,r,i):Hd(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ph(n,t,e,r){let i=!1;if(jm()){const o=function(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];p_(e,s.selectors,!1)&&(i||(i=[]),rl(Ws(e,t),n,s.type),er(s)?(U_(n,e),i.unshift(s)):i.push(s))}return i}(n,t,e),s=null===r?null:{"":-1};if(null!==o){i=!0,V_(e,n.data.length,o.length);for(let h=0;h<o.length;h++){const f=o[h];f.providersResolver&&f.providersResolver(f)}let a=!1,c=!1,l=Go(n,t,o.length,null);for(let h=0;h<o.length;h++){const f=o[h];e.mergedAttrs=el(e.mergedAttrs,f.hostAttrs),H_(n,e,t,l,f),mD(l,f,s),null!==f.contentQueries&&(e.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=128);const p=f.type.prototype;!a&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),l++}!function(n,t){const r=t.directiveEnd,i=n.data,o=t.attrs,s=[];let a=null,c=null;for(let l=t.directiveStart;l<r;l++){const h=i[l],f=h.inputs,p=null===o||f_(t)?null:CD(f,o);s.push(p),a=P_(f,l,a),c=P_(h.outputs,l,c)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=c}(n,e)}s&&function(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new Li("301",`Export of name '${t[i+1]}' not found!`);r.push(t[i],o)}}}(e,r,s)}return e.mergedAttrs=el(e.mergedAttrs,e.attrs),i}function O_(n,t,e,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,i,s)}}function L_(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function U_(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function mD(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;er(t)&&(e[""]=n)}}function V_(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function H_(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=ji(i.type)),s=new Gs(o,er(i),null);n.blueprint[r]=s,e[r]=s,O_(n,t,0,r,Go(n,e,i.hostVars,he),i)}function vD(n,t,e){const r=Ln(t,n),i=R_(e),o=n[10],s=El(n,da(n,i,null,e.onPush?64:16,r,t,o,o.createRenderer(r,e),null,null));n[t.index]=s}function Sr(n,t,e,r,i,o){const s=Ln(n,t);!function(n,t,e,r,i,o,s){if(null==o)nt(n)?n.removeAttribute(t,i,e):t.removeAttribute(i);else{const a=null==s?ue(o):s(o,r||"",i);nt(n)?n.setAttribute(t,i,a,e):e?t.setAttributeNS(e,i,a):t.setAttribute(i,a)}}(t[11],s,o,n.value,e,r,i)}function _D(n,t,e,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const l=s[c++],h=s[c++],f=s[c++];null!==a?r.setInput(e,f,l,h):e[h]=f}}}function CD(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function B_(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function bD(n,t){const e=wn(t,n);if(Md(e)){const r=e[1];80&e[2]?zo(r,e,r.template,e[8]):e[5]>0&&Oh(e)}}function Oh(n){for(let r=uh(n);null!==r;r=dh(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];zo(s,o,s.template,o[8])}else o[5]>0&&Oh(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=wn(e[r],n);Md(i)&&i[5]>0&&Oh(i)}}function AD(n,t){const e=wn(t,n),r=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),ha(r,e,e[8])}function El(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Lh(n){for(;n;){n[2]|=64;const t=la(n);if(pT(n)&&!t)return n;n=t}return null}function Vh(n,t,e){const r=t[10];r.begin&&r.begin();try{zo(n,t,n.template,e)}catch(i){throw z_(t,i),i}finally{r.end&&r.end()}}function j_(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=sh(e),i=r[1];rD(i,r,i.template,e)}}(n[8])}function Hh(n,t,e){Ld(0),t(n,e)}const DD=(()=>Promise.resolve(null))();function q_(n){return n[7]||(n[7]=[])}function $_(n){return n.cleanup||(n.cleanup=[])}function z_(n,t){const e=n[9],r=e?e.get(Wi,null):null;r&&r.handleError(t)}function W_(n,t,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],c=t[s],l=n.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function Wr(n,t,e){const r=Gc(t,n);!function(n,t,e){nt(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function bl(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=vd(i,a):2==o&&(r=vd(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}const fa=new de("INJECTOR",-1);class K_{get(t,e=ea){if(e===ea){const r=new Error(`NullInjectorError: No provider for ${_e(t)}!`);throw r.name="NullInjectorError",r}return e}}const pa=new de("Set Injector scope."),ga={},MD={};let Bh;function Q_(){return void 0===Bh&&(Bh=new K_),Bh}function J_(n,t=null,e=null,r){return new ND(n,e,t||Q_(),r)}class ND{constructor(t,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&Er(e,a=>this.processProvider(a,t,e)),Er([t],a=>this.processInjectorType(a,[],o)),this.records.set(fa,Wo(void 0,this));const s=this.records.get(pa);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:_e(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ea,r=ee.Default){this.assertNotDestroyed();const i=Uo(this),o=ui(void 0);try{if(!(r&ee.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(t)&&jr(t);a=c&&this.injectableDefInScope(c)?Wo(jh(t),ga):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&ee.Self?Q_():this.parent).get(t,e=r&ee.Optional&&e===ea?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Lo]=s[Lo]||[]).unshift(_e(t)),i)throw s;return mv(s,t,"R3InjectorError",this.source)}throw s}finally{ui(o),Uo(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(_e(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,r){if(!(t=J(t)))return!1;let i=wm(t);const o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=wm(o)),null==i)return!1;if(null!=i.imports&&!a){let h;r.push(s);try{Er(i.imports,f=>{this.processInjectorType(f,e,r)&&(void 0===h&&(h=[]),h.push(f))})}finally{}if(void 0!==h)for(let f=0;f<h.length;f++){const{ngModule:p,providers:g}=h[f];Er(g,_=>this.processProvider(_,p,g||Le))}}this.injectorDefTypes.add(s);const c=ji(s)||(()=>new s);this.records.set(s,Wo(c,ga));const l=i.providers;if(null!=l&&!a){const h=t;Er(l,f=>this.processProvider(f,h,l))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,r){let i=Ko(t=J(t))?t:J(t&&t.provide);const o=function(n,t,e){return Z_(n)?Wo(void 0,n.useValue):Wo(Y_(n),ga)}(t);if(Ko(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Wo(void 0,ga,!0),s.factory=()=>Gi(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}hydrate(t,e){return e.value===ga&&(e.value=MD,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=J(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function jh(n){const t=jr(n),e=null!==t?t.factory:ji(n);if(null!==e)return e;if(n instanceof de)throw new Error(`Token ${_e(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const r=function(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${_e(n)}: (${r.join(", ")}).`)}const e=function(n){const t=n&&(n[Uc]||n[Sm]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Y_(n,t,e){let r;if(Ko(n)){const i=J(n);return ji(i)||jh(i)}if(Z_(n))r=()=>J(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Gi(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>x(J(n.useExisting));else{const i=J(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return ji(i)||jh(i);r=()=>new i(...Gi(n.deps))}return r}function Wo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Z_(n){return null!==n&&"object"==typeof n&&Yd in n}function Ko(n){return"function"==typeof n}const X_=function(n,t,e){return function(n,t=null,e=null,r){const i=J_(n,t,e,r);return i._resolveInjectorDefTypes(),i}({name:e},t,n,e)};let Fe=(()=>{class n{static create(e,r){return Array.isArray(e)?X_(e,r,""):X_(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=ea,n.NULL=new K_,n.\u0275prov=X({token:n,providedIn:"any",factory:()=>x(fa)}),n.__NG_ELEMENT_ID__=-1,n})();function eF(n,t){Jc(sh(n)[1],pt())}function qe(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(er(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=Kh(n.inputs),s.declaredInputs=Kh(n.declaredInputs),s.outputs=Kh(n.outputs);const a=i.hostBindings;a&&iF(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&nF(n,c),l&&rF(n,l),md(n.inputs,i.inputs),md(n.declaredInputs,i.declaredInputs),md(n.outputs,i.outputs),er(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===qe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=el(i.hostAttrs,e=el(e,i.hostAttrs))}}(r)}function Kh(n){return n===Ao?{}:n===Le?[]:n}function nF(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function rF(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function iF(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let Al=null;function Qo(){if(!Al){const n=Ie.Symbol;if(n&&n.iterator)Al=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Al=r)}}}return Al}function va(n){return!!Qh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qo()in n)}function Qh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Tr(n,t,e){return n[t]=e}function qt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Qi(n,t,e,r){const i=qt(n,t,e);return qt(n,t+1,r)||i}function Ir(n,t,e,r){const i=F();return qt(i,Fo(),t)&&(Te(),Sr(rt(),i,n,t,e,r)),Ir}function Yo(n,t,e,r){return qt(n,Fo(),e)?t+ue(e)+r:he}function es(n,t,e,r,i,o,s,a,c,l){const f=function(n,t,e,r,i,o){const s=Qi(n,t,e,r);return Qi(n,t+2,i,o)||s}(n,$r(),e,i,s,c);return Gr(4),f?t+ue(e)+r+ue(i)+o+ue(s)+a+ue(c)+l:he}function T(n,t,e,r,i,o,s,a){const c=F(),l=Te(),h=n+20,f=l.firstCreatePass?function(n,t,e,r,i,o,s,a,c){const l=t.consts,h=$o(t,n,4,s||null,fi(l,a));Ph(t,e,h,fi(l,c)),Jc(t,h);const f=h.tViews=yl(2,h,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,h),f.queries=t.queries.embeddedTView(h)),h}(h,l,c,t,e,r,i,o,s):l.data[h];yr(f,!1);const p=c[11].createComment("");gl(l,c,p,f),jt(p,c),El(c,c[h]=B_(p,c,p,f)),$c(f)&&kh(l,c,f),null!=s&&Nh(c,f,a)}function D(n,t=ee.Default){const e=F();return null===e?x(n,t):cv(pt(),e,J(n),t)}function ef(){throw new Error("invalid")}function C(n,t,e){const r=F();return qt(r,Fo(),t)&&Fn(Te(),rt(),r,n,t,r[11],e,!1),C}function tf(n,t,e,r,i){const s=i?"class":"style";W_(n,e,t.inputs[s],s,r)}function u(n,t,e,r){const i=F(),o=Te(),s=20+n,a=i[11],c=i[s]=fh(a,t,ae.lFrame.currentNamespace),l=o.firstCreatePass?function(n,t,e,r,i,o,s){const a=t.consts,l=$o(t,n,2,i,fi(a,o));return Ph(t,e,l,fi(a,s)),null!==l.attrs&&bl(l,l.attrs,!1),null!==l.mergedAttrs&&bl(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,0,t,e,r):o.data[s];yr(l,!0);const h=l.mergedAttrs;null!==h&&Xc(a,c,h);const f=l.classes;null!==f&&Ch(a,c,f);const p=l.styles;null!==p&&u_(a,c,p),64!=(64&l.flags)&&gl(o,i,c,l),0===ae.lFrame.elementDepthCount&&jt(c,i),ae.lFrame.elementDepthCount++,$c(l)&&(kh(o,i,l),function(n,t,e){if(Sd(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}(o,l,i)),null!==r&&Nh(i,l)}function d(){let n=pt();Nd()?ae.lFrame.isParent=!1:(n=n.parent,yr(n,!1));const t=n;ae.lFrame.elementDepthCount--;const e=Te();e.firstCreatePass&&(Jc(e,n),Sd(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&tf(e,t,F(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&tf(e,t,F(),t.stylesWithoutHost,!1)}function Z(n,t,e,r){u(n,t,e,r),d()}function G(){return F()}function Ca(n){return!!n&&"function"==typeof n.then}const Tl=function(n){return!!n&&"function"==typeof n.subscribe};function w(n,t,e,r){const i=F(),o=Te(),s=pt();return function(n,t,e,r,i,o,s,a){const c=$c(r),h=n.firstCreatePass&&$_(n),f=t[8],p=q_(t);let g=!0;if(3&r.type||a){const y=Ln(r,t),A=a?a(y):y,S=p.length,M=a?B=>a(lt(B[r.index])):r.index;if(nt(e)){let B=null;if(!a&&c&&(B=function(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=t[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,i,r.index)),null!==B)(B.__ngLastListenerFn__||B).__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,g=!1;else{o=nf(r,t,f,o,!1);const se=e.listen(A,i,o);p.push(o,se),h&&h.push(i,M,S,S+1)}}else o=nf(r,t,f,o,!0),A.addEventListener(i,o,s),p.push(o),h&&h.push(i,M,S,s)}else o=nf(r,t,f,o,!1);const _=r.outputs;let E;if(g&&null!==_&&(E=_[i])){const y=E.length;if(y)for(let A=0;A<y;A+=2){const Et=t[E[A]][E[A+1]].subscribe(o),Yn=p.length;p.push(o,Et),h&&h.push(i,r.index,Yn,-(Yn+1))}}}(o,i,i[11],s,n,t,!!e,r),w}function jC(n,t,e,r){try{return!1!==e(r)}catch(i){return z_(n,i),!1}}function nf(n,t,e,r,i){return function o(s){if(s===Function)return r;const a=2&n.flags?wn(n.index,t):t;0==(32&t[2])&&Lh(a);let c=jC(t,0,r,s),l=o.__ngNextListenerFn__;for(;l;)c=jC(t,0,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function b(n=1){return function(n){return(ae.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,ae.lFrame.contextLView))[8]}(n)}function xe(n,t,e){return Dr(n,"",t,"",e),xe}function Dr(n,t,e,r,i){const o=F(),s=Yo(o,t,e,r);return s!==he&&Fn(Te(),rt(),o,n,s,o[11],i,!1),Dr}function YC(n,t,e,r,i){const o=n[e+1],s=null===t;let a=r?nr(o):zr(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];$F(n[a],t)&&(c=!0,n[a+1]=r?bh(h):yh(h)),a=r?nr(h):zr(h)}c&&(n[e+1]=r?yh(o):bh(o))}function $F(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Oo(n,t)>=0}function Il(n,t){return function(n,t,e,r){const i=F(),o=Te(),s=Gr(2);o.firstUpdatePass&&function(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[tn()],s=function(n,t){return t>=n.expandoStartIndex}(n,e);(function(n,t){return 0!=(n.flags&(t?16:32))})(o,r)&&null===t&&!s&&(t=!1),t=function(n,t,e,r){const i=function(n){const t=ae.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=ya(e=rf(null,n,t,e,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=rf(i,n,t,e,r),null===o){let c=function(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==zr(r))return n[nr(r)]}(n,t,r);void 0!==c&&Array.isArray(c)&&(c=rf(null,n,t,c[1],r),c=ya(c,t.attrs,r),function(n,t,e,r){n[nr(e?t.classBindings:t.styleBindings)]=r}(n,t,r,c))}else o=function(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=ya(r,n[o].hostAttrs,e);return ya(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=nr(s),c=zr(s);n[r]=e;let h,l=!1;if(Array.isArray(e)){const f=e;h=f[1],(null===h||Oo(f,h)>0)&&(l=!0)}else h=e;if(i)if(0!==c){const p=nr(n[a+1]);n[r+1]=vl(p,a),0!==p&&(n[p+1]=Eh(n[p+1],r)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=vl(a,0),0!==a&&(n[a+1]=Eh(n[a+1],r)),a=r;else n[r+1]=vl(c,0),0===a?a=r:n[c+1]=Eh(n[c+1],r),c=r;l&&(n[r+1]=yh(n[r+1])),YC(n,h,r,!0),YC(n,h,r,!1),function(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Oo(o,t)>=0&&(e[r+1]=bh(e[r+1]))}(t,h,n,r,o),s=vl(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,e,s,r)}}(o,n,s,r),t!==he&&qt(i,s,t)&&function(n,t,e,r,i,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1];Dl(function(n){return 1==(1&n)}(l)?ly(c,t,e,i,zr(l),s):void 0)||(Dl(o)||function(n){return 2==(2&n)}(l)&&(o=ly(c,null,e,i,a,s)),function(n,t,e,r,i){const o=nt(n);if(t)i?o?n.addClass(e,r):e.classList.add(r):o?n.removeClass(e,r):e.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:Dn.DashCase;if(null==i)o?n.removeStyle(e,r,s):e.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=Dn.Important),o?n.setStyle(e,r,i,s):e.style.setProperty(r,i,a?"important":"")}}}(r,s,Gc(tn(),e),i,o))}(o,o.data[tn()],i,i[11],n,i[s+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=_e(In(n)))),n}(t,e),r,s)}(n,t,null,!0),Il}function rf(n,t,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],r=ya(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function ya(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Tn(n,s,!!e||t[++o]))}return void 0===n?null:n}function ly(n,t,e,r,i,o){const s=null===t;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),h=l?c[1]:c,f=null===h;let p=e[i+1];p===he&&(p=f?Le:void 0);let g=f?Wd(p,r):h===r?p:void 0;if(l&&!Dl(g)&&(g=Wd(c,r)),Dl(g)&&(a=g,s))return a;const _=n[i+1];i=s?nr(_):zr(_)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Wd(c,r))}return a}function Dl(n){return void 0!==n}function m(n,t=""){const e=F(),r=Te(),i=n+20,o=r.firstCreatePass?$o(r,i,1,t,null):r.data[i],s=e[i]=function(n,t){return nt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);gl(r,e,s,o),yr(o,!1)}function $t(n){return Gt("",n,""),$t}function Gt(n,t,e){const r=F(),i=Yo(r,n,t,e);return i!==he&&Wr(r,tn(),i),Gt}function vt(n,t,e,r,i){const o=F(),s=function(n,t,e,r,i,o){const a=Qi(n,$r(),e,i);return Gr(2),a?t+ue(e)+r+ue(i)+o:he}(o,n,t,e,r,i);return s!==he&&Wr(o,tn(),s),vt}function sf(n,t,e,r,i,o,s,a,c){const l=F(),h=es(l,n,t,e,r,i,o,s,a,c);return h!==he&&Wr(l,tn(),h),sf}const Ji=void 0;var SR=["en",[["a","p"],["AM","PM"],Ji],[["AM","PM"],Ji,Ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ji,"{1} 'at' {0}",Ji],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let as={};function Fy(n){return n in as||(as[n]=Ie.ng&&Ie.ng.common&&Ie.ng.common.locales&&Ie.ng.common.locales[n]),as[n]}var V=(()=>((V=V||{})[V.LocaleId=0]="LocaleId",V[V.DayPeriodsFormat=1]="DayPeriodsFormat",V[V.DayPeriodsStandalone=2]="DayPeriodsStandalone",V[V.DaysFormat=3]="DaysFormat",V[V.DaysStandalone=4]="DaysStandalone",V[V.MonthsFormat=5]="MonthsFormat",V[V.MonthsStandalone=6]="MonthsStandalone",V[V.Eras=7]="Eras",V[V.FirstDayOfWeek=8]="FirstDayOfWeek",V[V.WeekendRange=9]="WeekendRange",V[V.DateFormat=10]="DateFormat",V[V.TimeFormat=11]="TimeFormat",V[V.DateTimeFormat=12]="DateTimeFormat",V[V.NumberSymbols=13]="NumberSymbols",V[V.NumberFormats=14]="NumberFormats",V[V.CurrencyCode=15]="CurrencyCode",V[V.CurrencySymbol=16]="CurrencySymbol",V[V.CurrencyName=17]="CurrencyName",V[V.Currencies=18]="Currencies",V[V.Directionality=19]="Directionality",V[V.PluralCase=20]="PluralCase",V[V.ExtraData=21]="ExtraData",V))();const Fl="en-US";let Ry=Fl;function lf(n,t,e,r,i){if(n=J(n),Array.isArray(n))for(let o=0;o<n.length;o++)lf(n[o],t,e,r,i);else{const o=Te(),s=F();let a=Ko(n)?n:J(n.provide),c=Y_(n);const l=pt(),h=1048575&l.providerIndexes,f=l.directiveStart,p=l.providerIndexes>>20;if(Ko(n)||!n.multi){const g=new Gs(c,i,D),_=df(a,t,i?h:h+p,f);-1===_?(rl(Ws(l,s),o,a),uf(o,n,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(g),s.push(g)):(e[_]=g,s[_]=g)}else{const g=df(a,t,h+p,f),_=df(a,t,h,h+p),E=g>=0&&e[g],y=_>=0&&e[_];if(i&&!y||!i&&!E){rl(Ws(l,s),o,a);const A=function(n,t,e,r,i){const o=new Gs(n,e,D);return o.multi=[],o.index=t,o.componentProviders=0,eE(o,i,r&&!e),o}(i?AM:bM,e.length,i,r,c);!i&&y&&(e[_].providerFactory=A),uf(o,n,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(A),s.push(A)}else uf(o,n,g>-1?g:_,eE(e[i?_:g],c,!i&&r));!i&&r&&y&&e[_].componentProviders++}}}function uf(n,t,e,r){const i=Ko(t);if(i||function(n){return!!n.useClass}(t)){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const a=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const c=a.indexOf(e);-1===c?a.push(e,[r,s]):a[c+1].push(r,s)}else a.push(e,s)}}}function eE(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function df(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function bM(n,t,e,r){return hf(this.multi,[])}function AM(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ks(e,e[1],this.providerFactory.index,r);o=a.slice(0,s),hf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],hf(i,o);return o}function hf(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Je(n,t=[]){return e=>{e.providersResolver=(r,i)=>function(n,t,e){const r=Te();if(r.firstCreatePass){const i=er(n);lf(e,r.data,r.blueprint,i,!0),lf(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class tE{}const rE="ngComponent";class TM{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${_e(n)}. Did you add it to @NgModule.entryComponents?`);return t[rE]=n,t}(t)}}let Yi=(()=>{class n{}return n.NULL=new TM,n})();function Pl(...n){}function ls(n,t){return new wt(Ln(n,t))}const FM=function(){return ls(pt(),F())};let wt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=FM,n})();class xl{}let Qr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>MM(),n})();const MM=function(){const n=F(),e=wn(pt().index,n);return function(n){return n[11]}(Cr(e)?e:n)};let pf=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>null}),n})();class Sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const gf=new Sa("13.0.2"),us={};function Ol(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(lt(o)),Xn(o))for(let a=10;a<o.length;a++){const c=o[a],l=c[1].firstChild;null!==l&&Ol(c[1],c,l,r)}const s=e.type;if(8&s)Ol(n,t,e.child,r);else if(32&s){const a=lh(e,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=a_(t,e);if(Array.isArray(a))r.push(...a);else{const c=la(t[16]);Ol(c[1],c,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class Ta{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ol(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Xn(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(ph(t,r),$i(e,r))}this._attachedToViewContainer=!1}Zv(this._lView[1],this._lView)}onDestroy(t){!function(n,t,e,r){const i=q_(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&$_(n).push(r,i.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){Lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Wc(!0);try{Vh(n,t,e)}finally{Wc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){ua(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class PM extends Ta{constructor(t){super(t),this._view=t}detectChanges(){j_(this._view)}checkNoChanges(){!function(n){Wc(!0);try{j_(n)}finally{Wc(!1)}}(this._view)}get context(){return null}}class oE extends Yi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Vt(t);return new mf(e,this.ngModule)}}function sE(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const OM=new de("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$v});class mf extends tE{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(BI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return sE(this.componentDef.inputs)}get outputs(){return sE(this.componentDef.outputs)}create(t,e,r,i){const o=(i=i||this.ngModule)?function(n,t){return{get:(e,r,i)=>{const o=n.get(e,us,i);return o!==us||r===us?o:t.get(e,r,i)}}}(t,i.injector):t,s=o.get(xl,Vm),a=o.get(pf,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=r?function(n,t,e){if(nt(n))return n.selectRootElement(t,e===En.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(c,r,this.componentDef.encapsulation):fh(s.createRenderer(null,this.componentDef),l,function(n){const t=n.toLowerCase();return"svg"===t?Lm:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,p=function(n,t){return{components:[],scheduler:n||$v,clean:DD,playerHandler:t||null,flags:0}}(),g=yl(0,null,null,1,0,null,null,null,null,null),_=da(null,g,p,f,null,null,s,c,a,o);let E,y;Kc(_);try{const A=function(n,t,e,r,i,o){const s=e[1];e[20]=n;const c=$o(s,20,2,"#host",null),l=c.mergedAttrs=t.hostAttrs;null!==l&&(bl(c,l,!0),null!==n&&(Xc(i,n,l),null!==c.classes&&Ch(i,n,c.classes),null!==c.styles&&u_(i,n,c.styles)));const h=r.createRenderer(n,t),f=da(e,R_(t),null,t.onPush?64:16,e[20],c,r,h,o||null,null);return s.firstCreatePass&&(rl(Ws(c,e),s,t.type),U_(s,c),V_(c,e.length,1)),El(e,f),e[20]=f}(h,this.componentDef,_,s,c);if(h)if(r)Xc(c,h,["ng-version",gf.full]);else{const{attrs:S,classes:M}=function(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!tr(i))break;i=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);S&&Xc(c,h,S),M&&M.length>0&&Ch(c,h,M.join(" "))}if(y=Rd(g,20),void 0!==e){const S=y.projection=[];for(let M=0;M<this.ngContentSelectors.length;M++){const B=e[M];S.push(null!=B?Array.from(B):null)}}E=function(n,t,e,r,i){const o=e[1],s=function(n,t,e){const r=pt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),H_(n,r,t,Go(n,t,1,null),e));const i=Ks(t,n,r.directiveStart,r);jt(i,t);const o=Ln(r,t);return o&&jt(o,t),i}(o,e,t);if(r.components.push(s),n[8]=s,i&&i.forEach(c=>c(s,t)),t.contentQueries){const c=pt();t.contentQueries(1,s,c.directiveStart)}const a=pt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(pi(a.index),O_(e[1],a,0,a.directiveStart,a.directiveEnd,t),L_(t,s)),s}(A,this.componentDef,_,p,[eF]),ha(g,_,null)}finally{Qc()}return new VM(this.componentType,E,ls(y,_),_,y)}}class VM extends class{}{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new PM(i),this.componentType=t}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Mr{}class aE{}const ds=new Map;class lE extends Mr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new oE(this);const r=Pn(t);this._bootstrapComponents=wr(r.bootstrap),this._r3Injector=J_(t,e,[{provide:Mr,useValue:this},{provide:Yi,useValue:this.componentFactoryResolver}],_e(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Fe.THROW_IF_NOT_FOUND,r=ee.Default){return t===Fe||t===Mr||t===fa?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class _f extends aE{constructor(t){super(),this.moduleType=t,null!==Pn(t)&&function(n){const t=new Set;!function e(r){const i=Pn(r,!0),o=i.id;null!==o&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${_e(t)} vs ${_e(t.name)}`)}(o,ds.get(o),r),ds.set(o,r));const s=wr(i.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new lE(this.moduleType,t)}}function Jr(n,t,e){const r=en()+n,i=F();return i[r]===he?Tr(i,r,e?t.call(e):t()):function(n,t){return n[t]}(i,r)}function Hn(n,t,e,r){return function(n,t,e,r,i,o){const s=t+e;return qt(n,s,i)?Tr(n,s+1,o?r.call(o,i):r(i)):Ia(n,s+1)}(F(),en(),n,t,e,r)}function H(n,t,e,r,i){return function(n,t,e,r,i,o,s){const a=t+e;return Qi(n,a,i,o)?Tr(n,a+2,s?r.call(s,i,o):r(i,o)):Ia(n,a+2)}(F(),en(),n,t,e,r,i)}function uE(n,t,e,r,i,o){return function(n,t,e,r,i,o,s,a){const c=t+e;return function(n,t,e,r,i){const o=Qi(n,t,e,r);return qt(n,t+2,i)||o}(n,c,i,o,s)?Tr(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):Ia(n,c+3)}(F(),en(),n,t,e,r,i,o)}function Ia(n,t){const e=n[t];return e===he?void 0:e}function Cf(n){return t=>{setTimeout(n,void 0,t)}}const Re=class extends un{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var c,l,h;let i=t,o=e||(()=>null),s=r;if(t&&"object"==typeof t){const f=t;i=null==(c=f.next)?void 0:c.bind(f),o=null==(l=f.error)?void 0:l.bind(f),s=null==(h=f.complete)?void 0:h.bind(f)}this.__isAsync&&(o=Cf(o),i&&(i=Cf(i)),s&&(s=Cf(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof tt&&t.add(a),a}};Symbol;const ik=function(){return function(n,t){return 4&n.type?new sk(t,n,ls(n,t)):null}(pt(),F())};let Yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=ik,n})();const ok=Yr,sk=class extends ok{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=da(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(e)),ha(e,r,t),new Ta(r)}};const lk=function(){return function(n,t){let e;const r=t[n.index];if(Xn(r))e=r;else{let i;if(8&n.type)i=lt(r);else{const o=t[11];i=o.createComment("");const s=Ln(n,t);Ki(o,pl(o,s),i,function(n,t){return nt(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=B_(r,t,i,n),El(t,e)}return new mE(e,n,t)}(pt(),F())};let sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=lk,n})();const dk=sr,mE=class extends dk{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return ls(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const t=nl(this._hostTNode,this._hostLView);if(rv(t)){const e=Mo(t,this._hostLView),r=Ro(t);return new ko(e[1].data[r+8],e)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=vE(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const i=t.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(t,e,r,i,o){const s=t&&!function(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const f=e||{};a=f.index,r=f.injector,i=f.projectableNodes,o=f.ngModuleRef}const c=s?t:new mf(Vt(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule&&l){const f=l.get(Mr,null);f&&(o=f)}const h=c.create(l,i,void 0,o);return this.insert(h.hostView,a),h}insert(t,e){const r=t._lView,i=r[1];if(function(n){return Xn(n[3])}(r)){const h=this.indexOf(t);if(-1!==h)this.detach(h);else{const f=r[3],p=new mE(f,f[6],f[3]);p.detach(p.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],ol(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(i,r,s,o);const a=vh(o,s),c=r[11],l=pl(c,s[7]);return null!==l&&function(n,t,e,r,i,o){r[0]=i,r[6]=t,ua(n,r,e,1,i,o)}(i,s[6],c,r,l,a),t.attachToViewContainerRef(),ol(yf(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=vE(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=ph(this._lContainer,e);r&&($i(yf(this._lContainer),e),Zv(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=ph(this._lContainer,e);return r&&null!=$i(yf(this._lContainer),e)?new Ta(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function vE(n){return n[8]}function yf(n){return n[8]||(n[8]=[])}const Ra=new de("Application Initializer");let fs=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Pl,this.reject=Pl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Ca(o))e.push(o);else if(Tl(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(x(Ra,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Ma=new de("AppId"),Kk={provide:Ma,useFactory:function(){return`${Pf()}${Pf()}${Pf()}`},deps:[]};function Pf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BE=new de("Platform Initializer"),Bl=new de("Platform ID"),jE=new de("appBootstrapListener");let jl=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const yi=new de("LocaleId"),qE=new de("DefaultCurrencyCode");class Jk{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const xf=function(n){return new _f(n)},Yk=xf,Zk=function(n){return Promise.resolve(xf(n))},GE=function(n){const t=xf(n),r=wr(Pn(n).declarations).reduce((i,o)=>{const s=Vt(o);return s&&i.push(new mf(s)),i},[]);return new Jk(t,r)},Xk=GE,eN=function(n){return Promise.resolve(GE(n))};let ql=(()=>{class n{constructor(){this.compileModuleSync=Yk,this.compileModuleAsync=Zk,this.compileModuleAndAllComponentsSync=Xk,this.compileModuleAndAllComponentsAsync=eN}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const rN=(()=>Promise.resolve(0))();function Of(n){"undefined"==typeof Zone?rN.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ut{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let n=Ie.requestAnimationFrame,t=Ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ie,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Uf(n),n.isCheckStableRunning=!0,Lf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Uf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{try{return zE(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),WE(n)}},onInvoke:(e,r,i,o,s,a,c)=>{try{return zE(n),e.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),WE(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Uf(n),Lf(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ut.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ut.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,oN,Pl,Pl);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const oN={};function Lf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Uf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function WE(n){n._nesting--,Lf(n)}class cN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}let Vf=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ut.assertNotInAngularZone(),Of(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Of(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(x(ut))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),KE=(()=>{class n{constructor(){this._applications=new Map,Hf.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Hf.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class lN{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let Hf=new lN,QE=!0,JE=!1;function Bf(){return JE=!0,QE}let ar;const YE=new de("AllowMultipleToken");class jf{constructor(t,e){this.name=t,this.token=e}}function ZE(n,t,e=[]){const r=`Platform: ${t}`,i=new de(r);return(o=[])=>{let s=XE();if(!s||s.injector.get(YE,!1))if(n)n(e.concat(o).concat({provide:i,useValue:!0}));else{const a=e.concat(o).concat({provide:i,useValue:!0},{provide:pa,useValue:"platform"});!function(n){if(ar&&!ar.destroyed&&!ar.injector.get(YE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ar=n.get(eb);const t=n.get(BE,null);t&&t.forEach(e=>e())}(Fe.create({providers:a,name:r}))}return function(n){const t=XE();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function XE(){return ar&&!ar.destroyed?ar:null}let eb=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const a=function(n,t){let e;return e="noop"===n?new cN:("zone.js"===n?void 0:n)||new ut({enableLongStackTrace:Bf(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),c=[{provide:ut,useValue:a}];return a.run(()=>{const l=Fe.create({providers:c,parent:this.injector,name:e.moduleType.name}),h=e.create(l),f=h.injector.get(Wi,null);if(!f)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const p=a.onError.subscribe({next:g=>{f.handleError(g)}});h.onDestroy(()=>{qf(this._modules,h),p.unsubscribe()})}),function(n,t,e){try{const r=e();return Ca(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(f,a,()=>{const p=h.injector.get(fs);return p.runInitializers(),p.donePromise.then(()=>(function(n){yn(n,"Expected localeId to be defined"),"string"==typeof n&&(Ry=n.toLowerCase().replace(/_/g,"-"))}(h.injector.get(yi,Fl)||Fl),this._moduleDoBootstrap(h),h))})})}bootstrapModule(e,r=[]){const i=tb({},r);return function(n,t,e){const r=new _f(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(ps);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${_e(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(x(Fe))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function tb(n,t){return Array.isArray(t)?t.reduce(tb,n):Y(Y({},n),t)}let ps=(()=>{class n{constructor(e,r,i,o,s){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ne(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),c=new Ne(l=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{ut.assertNotInAngularZone(),Of(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{ut.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),f.unsubscribe()}});this.isStable=function(...n){let t=Number.POSITIVE_INFINITY,e=null,r=n[n.length-1];return xc(r)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof r&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Ne?n[0]:Vs(t)(pd(n,e))}(a,c.pipe(n=>gd()(function(n,t){return function(r){let i;i="function"==typeof n?n:function(){return n};const o=Object.create(r,q0);return o.source=r,o.subjectFactory=i,o}}(K0)(n))))}bootstrap(e,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof tE?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const o=function(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Mr),a=i.create(Fe.NULL,[],r||i.selector,o),c=a.location.nativeElement,l=a.injector.get(Vf,null),h=l&&a.injector.get(KE);return l&&h&&h.registerApplication(c,l),a.onDestroy(()=>{this.detachView(a.hostView),qf(this.components,a),h&&h.unregisterApplication(c)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;qf(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(jE,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(x(ut),x(Fe),x(Wi),x(Yi),x(fs))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function qf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const wN=function(n){return function(n,t,e){if(qc(n)&&!e){const r=wn(n.index,t);return new Ta(r,r)}return 47&n.type?new Ta(t[16],t):null}(pt(),F(),16==(16&n))};let Gf=(()=>{class n{}return n.__NG_ELEMENT_ID__=wN,n})();class cb{constructor(){}supports(t){return va(t)}create(t){return new LN(t)}}const ON=(n,t)=>t;class LN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ON}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<ub(r,i,o)?e:r,a=ub(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=c-i;if(l!=h){for(let p=0;p<l;p++){const g=p<o.length?o[p]:o[p]=0,_=g+p;h<=_&&_<l&&(o[p]=g+1)}o[s.previousIndex]=h-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!va(t))throw new Error(`Error trying to diff '${_e(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Qo()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new UN(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new lb),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class UN{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class lb{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new VN,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ub(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class db{constructor(){}supports(t){return t instanceof Map||Qh(t)}create(){return new HN}}class HN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Qh(t)))throw new Error(`Error trying to diff '${_e(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new BN(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class BN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hb(){return new ka([new cb])}let ka=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||hb()),deps:[[n,new vi,new fn]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:hb}),n})();function fb(){return new gs([new db])}let gs=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||fb()),deps:[[n,new vi,new fn]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=X({token:n,providedIn:"root",factory:fb}),n})();const qN=[new db],GN=new ka([new cb]),zN=new gs(qN),WN=ZE(null,"core",[{provide:Bl,useValue:"unknown"},{provide:eb,deps:[Fe]},{provide:KE,deps:[]},{provide:jl,deps:[]}]),ZN=[{provide:ps,useClass:ps,deps:[ut,Fe,Wi,Yi,fs]},{provide:OM,deps:[ut],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:fs,useClass:fs,deps:[[new fn,Ra]]},{provide:ql,useClass:ql,deps:[]},Kk,{provide:ka,useFactory:function(){return GN},deps:[]},{provide:gs,useFactory:function(){return zN},deps:[]},{provide:yi,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Fl},deps:[[new Vo(yi),new fn,new vi]]},{provide:qE,useValue:"USD"}];let eP=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(x(ps))},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({providers:ZN}),n})(),ru=null;function kr(){return ru}const It=new de("DocumentToken");let no=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(){return x(Yb)},providedIn:"platform"}),n})();const Kx=new de("Location Initialized");let Yb=(()=>{class n extends no{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kr().getBaseHref(this._doc)}onPopState(e){const r=kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){Zb()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){Zb()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(x(It))},n.\u0275prov=X({token:n,factory:function(){return new Yb(x(It))},providedIn:"platform"}),n})();function Zb(){return!!window.history.pushState}function _p(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Xb(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Xr(n){return n&&"?"!==n[0]?"?"+n:n}let Es=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:function(){return function(n){const t=x(It).location;return new eA(x(no),t&&t.origin||"")}()},providedIn:"root"}),n})();const Cp=new de("appBaseHref");let eA=(()=>{class n extends Es{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _p(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(x(no),x(Cp,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Yx=(()=>{class n extends Es{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=_p(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(x(no),x(Cp,8))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),$a=(()=>{class n{constructor(e,r){this._subject=new Re,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Xb(tA(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Xr(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,tA(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xr(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=Xr,n.joinWithSlash=_p,n.stripTrailingSlash=Xb,n.\u0275fac=function(e){return new(e||n)(x(Es),x(no))},n.\u0275prov=X({token:n,factory:function(){return new $a(x(Es),x(no))},providedIn:"root"}),n})();function tA(n){return n.replace(/\/index.html$/,"")}var dt=(()=>((dt=dt||{})[dt.Zero=0]="Zero",dt[dt.One=1]="One",dt[dt.Two=2]="Two",dt[dt.Few=3]="Few",dt[dt.Many=4]="Many",dt[dt.Other=5]="Other",dt))();const sO=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Fy(t);if(e)return e;const r=t.split("-")[0];if(e=Fy(r),e)return e;if("en"===r)return SR;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[V.PluralCase]};class fu{}let xO=(()=>{class n extends fu{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(sO(r||this.locale)(e)){case dt.Zero:return"zero";case dt.One:return"one";case dt.Two:return"two";case dt.Few:return"few";case dt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(x(yi))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function uA(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let Gn=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(va(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${_e(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(D(ka),D(gs),D(wt),D(Qr))},n.\u0275dir=re({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class LO{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fr=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((i,o,s)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new LO(null,this._ngForOf,-1,-1),null===s?void 0:s),c=new dA(i,a);r.push(c)}else if(null==s)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const a=this._viewContainer.get(o);this._viewContainer.move(a,s);const c=new dA(i,a);r.push(c)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,o=this._viewContainer.length;i<o;i++){const s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(D(sr),D(Yr),D(ka))},n.\u0275dir=re({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class dA{constructor(t,e){this.record=t,this.view=e}}let Rn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new VO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){hA("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){hA("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(D(sr),D(Yr))},n.\u0275dir=re({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class VO{constructor(){this.$implicit=null,this.ngIf=null}}function hA(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${_e(t)}'.`)}let pA=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split(".");null!=(r=null!=r&&o?`${r}${o}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(D(wt),D(gs),D(Qr))},n.\u0275dir=re({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),mA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({providers:[{provide:fu,useClass:xO}]}),n})();let p2=(()=>{class n{}return n.\u0275prov=X({token:n,providedIn:"root",factory:()=>new g2(x(It),window)}),n})();class g2{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=_A(this.window.history)||_A(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function _A(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class CA{}class kp extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){ru||(ru=n)}(new kp)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Wa=Wa||document.querySelector("base"),Wa?Wa.getAttribute("href"):null);return null==e?null:function(n){pu=pu||document.createElement("a"),pu.setAttribute("href",n);const t=pu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return uA(document.cookie,t)}}let pu,Wa=null;const yA=new de("TRANSITION_ID"),E2=[{provide:Ra,useFactory:function(n,t,e){return()=>{e.get(fs).donePromise.then(()=>{const r=kr(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[yA,It,Fe],multi:!0}];class Np{static init(){!function(n){Hf=n}(new Np)}addToWindow(t){Ie.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},Ie.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ie.getAllAngularRootElements=()=>t.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(r=>{const i=Ie.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?kr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let b2=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const Ka=new de("EventManagerPlugins");let mu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(x(Ka),x(ut))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class Pp{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=kr().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let bA=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),Qa=(()=>{class n extends bA{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(AA),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(AA))}}return n.\u0275fac=function(e){return new(e||n)(x(It))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function AA(n){kr().remove(n)}const xp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Op=/%COMP%/g;function vu(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?vu(n,i,e):(i=i.replace(Op,n),e.push(i))}return e}function TA(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Lp=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Up(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case En.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new L2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case En.ShadowDom:return new U2(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=vu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(x(mu),x(Qa),x(Ma))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class Up{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(xp[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=xp[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=xp[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(Dn.DashCase|Dn.Important)?t.style.setProperty(e,r,i&Dn.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&Dn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,TA(r)):this.eventManager.addEventListener(t,e,TA(r))}}class L2 extends Up{constructor(t,e,r,i){super(t),this.component=r;const o=vu(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(Op,n)}(i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Op,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class U2 extends Up{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=vu(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let V2=(()=>{class n extends Pp{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(x(It))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const FA=["alt","control","meta","shift"],z2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},W2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let K2=(()=>{class n extends Pp{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kr().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(FA.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(e){let r="",i=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&RA.hasOwnProperty(t)&&(t=RA[t]))}return z2[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),FA.forEach(o=>{o!=i&&W2[o](e)&&(r+=o+".")}),r+=i,r}static eventCallback(e,r,i){return o=>{n.getEventFullKey(o)===e&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(x(It))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const eL=[{provide:Bl,useValue:"browser"},{provide:BE,useValue:function(){kp.makeCurrent(),Np.init()},multi:!0},{provide:It,useFactory:function(){return function(n){Dd=n}(document),document},deps:[]}],nL=ZE(WN,"browser",eL),rL=[[],{provide:pa,useValue:"root"},{provide:Wi,useFactory:function(){return new Wi},deps:[]},{provide:Ka,useClass:V2,multi:!0,deps:[It,ut,Bl]},{provide:Ka,useClass:K2,multi:!0,deps:[It]},[],{provide:Lp,useClass:Lp,deps:[mu,Qa,Ma]},{provide:xl,useExisting:Lp},{provide:bA,useExisting:Qa},{provide:Qa,useClass:Qa,deps:[It]},{provide:Vf,useClass:Vf,deps:[ut]},{provide:mu,useClass:mu,deps:[Ka,ut]},{provide:CA,useClass:b2,deps:[]},[]];let iL=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Ma,useValue:e.appId},{provide:yA,useExisting:Ma},E2]}}}return n.\u0275fac=function(e){return new(e||n)(x(n,12))},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({providers:rL,imports:[mA,eP]}),n})();"undefined"!=typeof window&&window;const We_backendAddress="lab.oeiprojectflow.org";function ne(...n){let t=n[n.length-1];return xc(t)?(n.pop(),ud(n,t)):pd(n)}class zn extends un{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bo;return this._value}next(t){super.next(this._value=t)}}class hL extends Ze{notifyNext(t,e,r,i,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class fL extends Ze{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function pL(n,t,e,r,i=new fL(n,e,r)){if(!i.closed)return t instanceof Ne?t.subscribe(i):ld(t)(i)}const kA={};class mL{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new vL(t,this.resultSelector))}}class vL extends hL{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(kA),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(pL(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const i=this.values,s=this.toRespond?i[r]===kA?--this.toRespond:this.toRespond:0;i[r]=e,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const _u=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function qp(...n){return Vs(1)(ne(...n))}const bs=new Ne(n=>n.complete());function $p(n){return n?function(n){return new Ne(t=>n.schedule(()=>t.complete()))}(n):bs}function NA(n){return new Ne(t=>{let e;try{e=n()}catch(i){return void t.error(i)}return(e?He(e):$p()).subscribe(t)})}function wi(n,t){return"function"==typeof t?e=>e.pipe(wi((r,i)=>He(n(r,i)).pipe(W((o,s)=>t(r,o,i,s))))):e=>e.lift(new yL(n))}class yL{constructor(t){this.project=t}call(t,e){return e.subscribe(new EL(t,this.project))}}class EL extends hd{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new dd(this),i=this.destination;i.add(r),this.innerSubscription=fd(t,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const PA=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Gp(n){return t=>0===n?$p():t.lift(new bL(n))}class bL{constructor(t){if(this.total=t,this.total<0)throw new PA}call(t,e){return e.subscribe(new AL(t,this.total))}}class AL extends Ze{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function xA(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new SL(n,t,e))}}class SL{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new TL(t,this.accumulator,this.seed,this.hasSeed))}}class TL extends Ze{constructor(t,e,r,i){super(t),this.accumulator=e,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function ro(n,t){return function(r){return r.lift(new IL(n,t))}}class IL{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new DL(t,this.predicate,this.thisArg))}}class DL extends Ze{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function be(n){return function(e){const r=new FL(n),i=e.lift(r);return r.caught=i}}class FL{constructor(t){this.selector=t}call(t,e){return e.subscribe(new RL(t,this.selector,this.caught))}}class RL extends hd{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const r=new dd(this);this.add(r);const i=fd(e,r);i!==r&&this.add(i)}}}function io(n,t){return Pt(n,t,1)}function zp(n){return function(e){return 0===n?$p():e.lift(new ML(n))}}class ML{constructor(t){if(this.total=t,this.total<0)throw new PA}call(t,e){return e.subscribe(new kL(t,this.total))}}class kL extends Ze{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,i=this.count++;e.length<r?e.push(t):e[i%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let o=0;o<r;o++){const s=e++%r;t.next(i[s])}}t.complete()}}function OA(n=xL){return t=>t.lift(new NL(n))}class NL{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new PL(t,this.errorFactory))}}class PL extends Ze{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function xL(){return new _u}function LA(n=null){return t=>t.lift(new OL(n))}class OL{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new LL(t,this.defaultValue))}}class LL extends Ze{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function As(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ro((i,o)=>n(i,o,r)):Pc,Gp(1),e?LA(t):OA(()=>new _u))}function Si(){}function Mn(n,t,e){return function(i){return i.lift(new VL(n,t,e))}}class VL{constructor(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}call(t,e){return e.subscribe(new HL(t,this.nextOrObserver,this.error,this.complete))}}class HL extends Ze{constructor(t,e,r,i){super(t),this._tapNext=Si,this._tapError=Si,this._tapComplete=Si,this._tapError=r||Si,this._tapComplete=i||Si,Nt(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Si,this._tapError=e.error||Si,this._tapComplete=e.complete||Si)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class jL{constructor(t){this.callback=t}call(t,e){return e.subscribe(new qL(t,this.callback))}}class qL extends Ze{constructor(t,e){super(t),this.add(new tt(e))}}class ti{constructor(t,e){this.id=t,this.url=e}}class Wp extends ti{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ja extends ti{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class UA extends ti{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $L extends ti{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GL extends ti{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zL extends ti{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WL extends ti{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class KL extends ti{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QL extends ti{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VA{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HA{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JL{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YL{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZL{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XL{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BA{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ae="primary";class eU{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ws(n){return new eU(n)}const jA="ngNavigationCancelingError";function Kp(n){const t=Error("NavigationCancelingError: "+n);return t[jA]=!0,t}function nU(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Nr(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!qA(n[i],t[i]))return!1;return!0}function qA(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function $A(n){return Array.prototype.concat.apply([],n)}function GA(n){return n.length>0?n[n.length-1]:null}function xt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Pr(n){return Tl(n)?n:Ca(n)?He(Promise.resolve(n)):ne(n)}const oU={exact:function KA(n,t,e){if(!so(n.segments,t.segments)||!Cu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!KA(n.children[r],t.children[r],e))return!1;return!0},subset:QA},zA={exact:function(n,t){return Nr(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qA(n[e],t[e]))},ignored:()=>!0};function WA(n,t,e){return oU[e.paths](n.root,t.root,e.matrixParams)&&zA[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function QA(n,t,e){return JA(n,t,t.segments,e)}function JA(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!so(i,e)||t.hasChildren()||!Cu(i,e,r))}if(n.segments.length===e.length){if(!so(n.segments,e)||!Cu(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!QA(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(so(n.segments,i)&&Cu(n.segments,i,r)&&n.children[Ae])&&JA(n.children[Ae],t,o,r)}}function Cu(n,t,e){return t.every((r,i)=>zA[e](n[i].parameters,r.parameters))}class oo{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ws(this.queryParams)),this._queryParamMap}toString(){return uU.serialize(this)}}class Se{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xt(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yu(this)}}class Ya{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ws(this.parameters)),this._parameterMap}toString(){return tw(this)}}function so(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class YA{}class ZA{parse(t){const e=new CU(t);return new oo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Za(t.root,!0)}`,r=function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Eu(e)}=${Eu(i)}`).join("&"):`${Eu(e)}=${Eu(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),i="string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${r}${i}`}}const uU=new ZA;function yu(n){return n.segments.map(t=>tw(t)).join("/")}function Za(n,t){if(!n.hasChildren())return yu(n);if(t){const e=n.children[Ae]?Za(n.children[Ae],!1):"",r=[];return xt(n.children,(i,o)=>{o!==Ae&&r.push(`${o}:${Za(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return xt(n.children,(r,i)=>{i===Ae&&(e=e.concat(t(r,i)))}),xt(n.children,(r,i)=>{i!==Ae&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===Ae?[Za(n.children[Ae],!1)]:[`${i}:${Za(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ae]?`${yu(n)}/${e[0]}`:`${yu(n)}/(${e.join("//")})`}}function XA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Eu(n){return XA(n).replace(/%3B/gi,";")}function Qp(n){return XA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bu(n){return decodeURIComponent(n)}function ew(n){return bu(n.replace(/\+/g,"%20"))}function tw(n){return`${Qp(n.path)}${function(n){return Object.keys(n).map(t=>`;${Qp(t)}=${Qp(n[t])}`).join("")}(n.parameters)}`}const pU=/^[^\/()?;=#]+/;function Au(n){const t=n.match(pU);return t?t[0]:""}const gU=/^[^=?&#]+/,vU=/^[^&#]+/;class CU{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Ae]=new Se(t,e)),r}parseSegment(){const t=Au(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ya(bu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Au(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=Au(this.remaining);i&&(r=i,this.capture(r))}t[bu(e)]=bu(r)}parseQueryParam(t){const e=function(n){const t=n.match(gU);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function(n){const t=n.match(vU);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=ew(e),o=ew(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Au(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ae);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Ae]:new Se([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class nw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Jp(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Jp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Yp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Yp(t,this._root).map(e=>e.value)}}function Jp(n,t){if(n===t.value)return t;for(const e of t.children){const r=Jp(n,e);if(r)return r}return null}function Yp(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Yp(n,e);if(r.length)return r.unshift(t),r}return[]}class ni{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ss(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class rw extends nw{constructor(t,e){super(t),this.snapshot=e,Zp(this,t)}toString(){return this.snapshot.toString()}}function iw(n,t){const e=function(n,t){const s=new wu([],{},{},"",{},Ae,t,null,n.root,-1,{});return new sw("",new ni(s,[]))}(n,t),r=new zn([new Ya("",{})]),i=new zn({}),o=new zn({}),s=new zn({}),a=new zn(""),c=new ri(r,i,s,a,o,Ae,t,e.root);return c.snapshot=e.root,new rw(new ni(c,[]),e)}class ri{constructor(t,e,r,i,o,s,a,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(W(t=>ws(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W(t=>ws(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ow(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Y(Y({},t.params),e.params),data:Y(Y({},t.data),e.data),resolve:Y(Y({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class wu{constructor(t,e,r,i,o,s,a,c,l,h,f){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=h,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ws(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sw extends nw{constructor(t,e){super(e),this.url=t,Zp(this,e)}toString(){return aw(this._root)}}function Zp(n,t){t.value._routerState=n,t.children.forEach(e=>Zp(n,e))}function aw(n){const t=n.children.length>0?` { ${n.children.map(aw).join(", ")} } `:"";return`${n.value}${t}`}function Xp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Nr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Nr(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Nr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Nr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function eg(n,t){const e=Nr(n.params,t.params)&&function(n,t){return so(n,t)&&n.every((e,r)=>Nr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||eg(n.parent,t.parent))}function Xa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xa(n,r,i);return Xa(n,r)})}(n,t,e);return new ni(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Xa(n,a)),s}}const r=function(n){return new ri(new zn(n.url),new zn(n.params),new zn(n.queryParams),new zn(n.fragment),new zn(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>Xa(n,o));return new ni(r,i)}}function Su(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ec(n){return"object"==typeof n&&null!=n&&n.outlets}function tg(n,t,e,r,i){let o={};return r&&xt(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(c=>`${c}`):`${s}`}),new oo(e.root===n?t:cw(e.root,n,t),o,i)}function cw(n,t,e){const r={};return xt(n.children,(i,o)=>{r[o]=i===t?e:cw(i,t,e)}),new Se(n.segments,r)}class lw{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Su(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ec);if(i&&i!==GA(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ng{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function uw(n,t,e){if(n||(n=new Se([],{})),0===n.segments.length&&n.hasChildren())return Tu(n,t,e);const r=function(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const s=n.segments[i],a=e[r];if(ec(a))break;const c=`${a}`,l=r<e.length-1?e[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!hw(c,l,s))return o;r+=2}else{if(!hw(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[Ae]=new Se(n.segments.slice(r.pathIndex),n.children),Tu(o,0,i)}return r.match&&0===i.length?new Se(n.segments,{}):r.match&&!n.hasChildren()?rg(n,t,e):r.match?Tu(n,0,i):rg(n,t,e)}function Tu(n,t,e){if(0===e.length)return new Se(n.segments,{});{const r=function(n){return ec(n[0])?n[0].outlets:{[Ae]:n}}(e),i={};return xt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=uw(n.children[s],t,o))}),xt(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Se(n.segments,i)}}function rg(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(ec(o)){const c=MU(o.outlets);return new Se(r,c)}if(0===i&&Su(e[0])){r.push(new Ya(n.segments[t].path,dw(e[0]))),i++;continue}const s=ec(o)?o.outlets[Ae]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&Su(a)?(r.push(new Ya(s,dw(a))),i+=2):(r.push(new Ya(s,{})),i++)}return new Se(r,{})}function MU(n){const t={};return xt(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=rg(new Se([],{}),0,e))}),t}function dw(n){const t={};return xt(n,(e,r)=>t[r]=`${e}`),t}function hw(n,t,e){return n==e.path&&Nr(t,e.parameters)}class NU{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Xp(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Ss(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),xt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ss(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=Ss(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=Ss(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new XL(o.value.snapshot))}),t.children.length&&this.forwardEvent(new YL(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Xp(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xp(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),c=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=c,s.outlet&&s.outlet.activateWith(i,c),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class ig{constructor(t,e){this.routes=t,this.module=e}}function Ti(n){return"function"==typeof n}function ao(n){return n instanceof oo}const tc=Symbol("INITIAL_VALUE");function nc(){return wi(n=>function(...n){let t,e;return xc(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Mc(n[0])&&(n=n[0]),pd(n,e).lift(new mL(t))}(n.map(t=>t.pipe(Gp(1),function(...n){const t=n[n.length-1];return xc(t)?(n.pop(),e=>qp(n,e,t)):e=>qp(n,e)}(tc)))).pipe(xA((t,e)=>{let r=!1;return e.reduce((i,o,s)=>i!==tc?i:(o===tc&&(r=!0),r||!1!==o&&s!==e.length-1&&!ao(o)?i:o),t)},tc),ro(t=>t!==tc),W(t=>ao(t)?t:!0===t),Gp(1)))}class HU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rc,this.attachRef=null}}class rc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new HU,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let og=(()=>{class n{constructor(e,r,i,o,s){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.name=o||Ae,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,c=new BU(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,c),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(D(rc),D(sr),D(Yi),function(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(tv(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(pt(),n)}("name"),D(Gf))},n.\u0275dir=re({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class BU{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ri?this.route:t===rc?this.childContexts:this.parent.get(t,e)}}let fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&Z(0,"router-outlet")},directives:[og],encapsulation:2}),n})();function pw(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];jU(r,qU(t,r))}}function jU(n,t){n.children&&pw(n.children,t)}function qU(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function sg(n){const t=n.children&&n.children.map(sg),e=t?kt(Y({},n),{children:t}):Y({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ae&&(e.component=fw),e}function Wn(n){return n.outlet||Ae}function gw(n,t){const e=n.filter(r=>Wn(r)===t);return e.push(...n.filter(r=>Wn(r)!==t)),e}const mw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Iu(n,t,e){var a;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Y({},mw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||nU)(e,n,t);if(!i)return Y({},mw);const o={};xt(i.posParams,(c,l)=>{o[l]=c.path});const s=i.consumed.length>0?Y(Y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!=(a=i.posParams)?a:{}}}function Du(n,t,e,r,i="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>Fu(n,t,r)&&Wn(r)!==Ae)}(n,e,r)){const s=new Se(t,function(n,t,e,r){const i={};i[Ae]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Wn(o)!==Ae){const s=new Se([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,i[Wn(o)]=s}return i}(n,t,r,new Se(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>Fu(n,t,r))}(n,e,r)){const s=new Se(n.segments,function(n,t,e,r,i,o){const s={};for(const a of r)if(Fu(n,e,a)&&!i[Wn(a)]){const c=new Se([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[Wn(a)]=c}return Y(Y({},i),s)}(n,t,e,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new Se(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Fu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function vw(n,t,e,r){return!!(Wn(n)===r||r!==Ae&&Fu(t,e,n))&&("**"===n.path||Iu(t,n,e).matched)}function _w(n,t,e){return 0===t.length&&!n.children[e]}class ic{constructor(t){this.segmentGroup=t||null}}class Cw{constructor(t){this.urlTree=t}}function Ru(n){return new Ne(t=>t.error(new ic(n)))}function yw(n){return new Ne(t=>t.error(new Cw(n)))}function KU(n){return new Ne(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class YU{constructor(t,e,r,i,o){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Mr)}apply(){const t=Du(this.urlTree.root,[],[],this.config).segmentGroup,e=new Se(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ae).pipe(W(o=>this.createUrlTree(ag(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(be(o=>{if(o instanceof Cw)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof ic?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ae).pipe(W(i=>this.createUrlTree(ag(i),t.queryParams,t.fragment))).pipe(be(i=>{throw i instanceof ic?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new Se([],{[Ae]:t}):t;return new oo(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(W(o=>new Se([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return He(i).pipe(io(o=>{const s=r.children[o],a=gw(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(W(c=>({segment:c,outlet:o})))}),xA((o,s)=>(o[s.outlet]=s.segment,o),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?ro((i,o)=>n(i,o,r)):Pc,zp(1),e?LA(t):OA(()=>new _u))}())}expandSegment(t,e,r,i,o,s){return He(r).pipe(io(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,o,s).pipe(be(l=>{if(l instanceof ic)return ne(null);throw l}))),As(a=>!!a),be((a,c)=>{if(a instanceof _u||"EmptyError"===a.name){if(_w(e,i,o))return ne(new Se([],{}));throw new ic(e)}throw a}))}expandSegmentAgainstRoute(t,e,r,i,o,s,a){return vw(i,e,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s):Ru(e):Ru(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yw(o):this.lineralizeSegments(r,o).pipe(Pt(s=>{const a=new Se(s,{});return this.expandSegment(t,a,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){const{matched:a,consumedSegments:c,lastChild:l,positionalParamSegments:h}=Iu(e,i,o);if(!a)return Ru(e);const f=this.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?yw(f):this.lineralizeSegments(i,f).pipe(Pt(p=>this.expandSegment(t,e,r,p.concat(o.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ne(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(W(p=>(r._loadedConfig=p,new Se(i,{})))):ne(new Se(i,{}));const{matched:s,consumedSegments:a,lastChild:c}=Iu(e,r,i);if(!s)return Ru(e);const l=i.slice(c);return this.getChildConfig(t,r,i).pipe(Pt(f=>{const p=f.module,g=f.routes,{segmentGroup:_,slicedSegments:E}=Du(e,a,l,g),y=new Se(_.segments,_.children);if(0===E.length&&y.hasChildren())return this.expandChildren(p,g,y).pipe(W(B=>new Se(a,B)));if(0===g.length&&0===E.length)return ne(new Se(a,{}));const A=Wn(r)===o;return this.expandSegment(p,y,g,E,A?Ae:o,!0).pipe(W(M=>new Se(a.concat(M.segments),M.children)))}))}getChildConfig(t,e,r){return e.children?ne(new ig(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ne(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(Pt(i=>i?this.configLoader.load(t.injector,e).pipe(W(o=>(e._loadedConfig=o,o))):function(n){return new Ne(t=>t.error(Kp(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):ne(new ig([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;if(!i||0===i.length)return ne(!0);const o=i.map(s=>{const a=t.get(s);let c;if(function(n){return n&&Ti(n.canLoad)}(a))c=a.canLoad(e,r);else{if(!Ti(a))throw new Error("Invalid CanLoad guard");c=a(e,r)}return Pr(c)});return ne(o).pipe(nc(),Mn(s=>{if(!ao(s))return;const a=Kp(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),W(s=>!0===s))}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ne(r);if(i.numberOfChildren>1||!i.children[Ae])return KU(t.redirectTo);i=i.children[Ae]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new oo(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return xt(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let s={};return xt(e.children,(a,c)=>{s[c]=this.createSegmentGroup(t,a,r,i)}),new Se(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function ag(n){const t={};for(const r of Object.keys(n.children)){const o=ag(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function(n){if(1===n.numberOfChildren&&n.children[Ae]){const t=n.children[Ae];return new Se(n.segments.concat(t.segments),t.children)}return n}(new Se(n.segments,t))}class Ew{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Mu{constructor(t,e){this.component=t,this.route=e}}function e3(n,t,e){const r=n._root;return oc(r,t?t._root:null,e,[r.value])}function ku(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function oc(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ss(t);return n.children.forEach(s=>{(function(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!so(n.url,t.url);case"pathParamsOrQueryParamsChange":return!so(n.url,t.url)||!Nr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eg(n,t)||!Nr(n.queryParams,t.queryParams);default:return!eg(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ew(r)):(o.data=s.data,o._resolvedData=s._resolvedData),oc(n,t,o.component?a?a.children:null:e,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mu(a.outlet.component,s))}else s&&sc(t,a,i),i.canActivateChecks.push(new Ew(r)),oc(n,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),xt(o,(s,a)=>sc(s,e.getContext(a),i)),i}function sc(n,t,e){const r=Ss(n),i=n.value;xt(r,(o,s)=>{sc(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Mu(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class f3{}function bw(n){return new Ne(t=>t.error(n))}class g3{constructor(t,e,r,i,o,s){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=Du(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ae);if(null===e)return null;const r=new wu([],Object.freeze({}),Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ni(r,e),o=new sw(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,r=ow(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=gw(t,o),c=this.processSegmentGroup(a,s,o);if(null===c)return null;r.push(...c)}const i=Aw(r);return function(n){n.sort((t,e)=>t.value.outlet===Ae?-1:e.value.outlet===Ae?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,r,i);if(null!==s)return s}return _w(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!vw(t,e,r,i))return null;let o,s=[],a=[];if("**"===t.path){const g=r.length>0?GA(r).parameters:{};o=new wu(r,g,Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,Tw(t),Wn(t),t.component,t,ww(e),Sw(e)+r.length,Iw(t))}else{const g=Iu(e,t,r);if(!g.matched)return null;s=g.consumedSegments,a=r.slice(g.lastChild),o=new wu(s,g.parameters,Object.freeze(Y({},this.urlTree.queryParams)),this.urlTree.fragment,Tw(t),Wn(t),t.component,t,ww(e),Sw(e)+s.length,Iw(t))}const c=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:h}=Du(e,s,a,c.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===h.length&&l.hasChildren()){const g=this.processChildren(c,l);return null===g?null:[new ni(o,g)]}if(0===c.length&&0===h.length)return[new ni(o,[])];const f=Wn(t)===i,p=this.processSegment(c,l,h,f?Ae:i);return null===p?null:[new ni(o,p)]}}function _3(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Aw(n){const t=[],e=new Set;for(const r of n){if(!_3(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=Aw(r.children);t.push(new ni(r.value,i))}return t.filter(r=>!e.has(r))}function ww(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Sw(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Tw(n){return n.data||{}}function Iw(n){return n.resolve||{}}function cg(n){return wi(t=>{const e=n(t);return e?He(e).pipe(W(()=>t)):ne(t)})}class T3 extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const lg=new de("ROUTES");class Dw{constructor(t,e,r,i){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(W(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new ig($A(s.injector.get(lg,void 0,ee.Self|ee.Optional)).map(sg),s)}),be(o=>{throw e._loader$=void 0,o}));return e._loader$=new Em(i,()=>new un).pipe(gd()),e._loader$}loadModuleFactory(t){return Pr(t()).pipe(Pt(e=>e instanceof aE?ne(e):He(this.compiler.compileModuleAsync(e))))}}class D3{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function F3(n){throw n}function R3(n,t,e){return t.parse("/")}function Fw(n,t){return ne(null)}const M3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},k3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ct=(()=>{class n{constructor(e,r,i,o,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un,this.errorHandler=F3,this.malformedUriErrorHandler=R3,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Fw,afterPreactivation:Fw},this.urlHandlingStrategy=new D3,this.routeReuseStrategy=new T3,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Mr),this.console=s.get(jl);const f=s.get(ut);this.isNgZoneEnabled=f instanceof ut&&ut.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new oo(new Se([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dw(s,a,p=>this.triggerEvent(new VA(p)),p=>this.triggerEvent(new HA(p))),this.routerState=iw(this.currentUrlTree,this.rootComponentType),this.transitions=new zn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(ro(i=>0!==i.id),W(i=>kt(Y({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),wi(i=>{let o=!1,s=!1;return ne(i).pipe(Mn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?kt(Y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wi(a=>{const c=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Nu(a.source)&&(this.browserUrlTree=a.extractedUrl),ne(a).pipe(wi(f=>{const p=this.transitions.getValue();return r.next(new Wp(f.id,this.serializeUrl(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions.getValue()?bs:Promise.resolve(f)}),function(n,t,e,r){return wi(i=>function(n,t,e,r,i){return new YU(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(W(o=>kt(Y({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Mn(f=>{this.currentNavigation=kt(Y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects})}),function(n,t,e,r,i){return Pt(o=>function(n,t,e,r,i="emptyOnly",o="legacy"){try{const s=new g3(n,t,e,r,i,o).recognize();return null===s?bw(new f3):ne(s)}catch(s){return bw(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),r,i).pipe(W(s=>kt(Y({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,f=>this.serializeUrl(f),this.paramsInheritanceStrategy,this.relativeLinkResolution),Mn(f=>{if("eager"===this.urlUpdateStrategy){if(!f.extras.skipLocationChange){const g=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.setBrowserUrl(g,f)}this.browserUrlTree=f.urlAfterRedirects}const p=new GL(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);r.next(p)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:p,extractedUrl:g,source:_,restoredState:E,extras:y}=a,A=new Wp(p,this.serializeUrl(g),_,E);r.next(A);const S=iw(g,this.rootComponentType).snapshot;return ne(kt(Y({},a),{targetSnapshot:S,urlAfterRedirects:g,extras:kt(Y({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),bs}),cg(a=>{const{targetSnapshot:c,id:l,extractedUrl:h,rawUrl:f,extras:{skipLocationChange:p,replaceUrl:g}}=a;return this.hooks.beforePreactivation(c,{navigationId:l,appliedUrlTree:h,rawUrlTree:f,skipLocationChange:!!p,replaceUrl:!!g})}),Mn(a=>{const c=new zL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),W(a=>kt(Y({},a),{guards:e3(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,t){return Pt(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?ne(kt(Y({},e),{guardsResult:!0})):function(n,t,e,r){return He(n).pipe(Pt(i=>function(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ne(o.map(a=>{const c=ku(a,t,i);let l;if(function(n){return n&&Ti(n.canDeactivate)}(c))l=Pr(c.canDeactivate(n,t,e,r));else{if(!Ti(c))throw new Error("Invalid CanDeactivate guard");l=Pr(c(n,t,e,r))}return l.pipe(As())})).pipe(nc()):ne(!0)}(i.component,i.route,e,t,r)),As(i=>!0!==i,!0))}(s,r,i,n).pipe(Pt(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,t,e,r){return He(t).pipe(io(i=>qp(function(n,t){return null!==n&&t&&t(new JL(n)),ne(!0)}(i.route.parent,r),function(n,t){return null!==n&&t&&t(new ZL(n)),ne(!0)}(i.route,r),function(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>NA(()=>ne(s.guards.map(c=>{const l=ku(c,s.node,e);let h;if(function(n){return n&&Ti(n.canActivateChild)}(l))h=Pr(l.canActivateChild(r,n));else{if(!Ti(l))throw new Error("Invalid CanActivateChild guard");h=Pr(l(r,n))}return h.pipe(As())})).pipe(nc())));return ne(o).pipe(nc())}(n,i.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return ne(!0);const i=r.map(o=>NA(()=>{const s=ku(o,t,e);let a;if(function(n){return n&&Ti(n.canActivate)}(s))a=Pr(s.canActivate(t,n));else{if(!Ti(s))throw new Error("Invalid CanActivate guard");a=Pr(s(t,n))}return a.pipe(As())}));return ne(i).pipe(nc())}(n,i.route,e))),As(i=>!0!==i,!0))}(r,o,n,t):ne(a)),W(a=>kt(Y({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Mn(a=>{if(ao(a.guardsResult)){const l=Kp(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const c=new WL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),ro(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),cg(a=>{if(a.guards.canActivateChecks.length)return ne(a).pipe(Mn(c=>{const l=new KL(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}),wi(c=>{let l=!1;return ne(c).pipe(function(n,t){return Pt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return ne(e);let o=0;return He(i).pipe(io(s=>function(n,t,e,r){return function(n,t,e,r){const i=Object.keys(n);if(0===i.length)return ne({});const o={};return He(i).pipe(Pt(s=>function(n,t,e,r){const i=ku(n,t,r);return Pr(i.resolve?i.resolve(t,e):i(t,e))}(n[s],t,e,r).pipe(Mn(a=>{o[s]=a}))),zp(1),Pt(()=>Object.keys(o).length===i.length?ne(o):bs))}(n._resolve,n,t,r).pipe(W(o=>(n._resolvedData=o,n.data=Y(Y({},n.data),ow(n,e).resolve),null)))}(s.route,r,n,t)),Mn(()=>o++),zp(1),Pt(s=>o===i.length?ne(e):bs))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Mn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Mn(c=>{const l=new QL(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}))}),cg(a=>{const{targetSnapshot:c,id:l,extractedUrl:h,rawUrl:f,extras:{skipLocationChange:p,replaceUrl:g}}=a;return this.hooks.afterPreactivation(c,{navigationId:l,appliedUrlTree:h,rawUrlTree:f,skipLocationChange:!!p,replaceUrl:!!g})}),W(a=>{const c=function(n,t,e){const r=Xa(n,t._root,e?e._root:void 0);return new rw(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return kt(Y({},a),{targetRouterState:c})}),Mn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>W(r=>(new NU(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Mn({next(){o=!0},complete(){o=!0}}),function(n){return t=>t.lift(new jL(n))}(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===i.id&&(this.currentNavigation=null)}),be(a=>{if(s=!0,function(n){return n&&n[jA]}(a)){const c=ao(a.url);c||(this.navigated=!0,this.restoreHistory(i,!0));const l=new UA(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),c?setTimeout(()=>{const h=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),f={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nu(i.source)};this.scheduleNavigation(h,"imperative",null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new $L(i.id,this.serializeUrl(i.extractedUrl),a);r.next(c);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return bs}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Y(Y({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const i={replaceUrl:!0},o=(null==(a=e.state)?void 0:a.navigationId)?e.state:null;if(o){const c=Y({},o);delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){pw(e),this.config=e.map(sg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=i||this.routerState.root,h=c?this.currentUrlTree.fragment:s;let f=null;switch(a){case"merge":f=Y(Y({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}return null!==f&&(f=this.removeEmptyProps(f)),function(n,t,e,r,i){if(0===e.length)return tg(t.root,t.root,t,r,i);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lw(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return xt(o.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new lw(e,t,r)}(e);if(o.toRoot())return tg(t.root,new Se([],{}),t,r,i);const s=function(n,t,e){if(n.isAbsolute)return new ng(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new ng(o,o===t.root,0)}const r=Su(n.commands[0])?0:1;return function(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ng(r,!1,i-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?Tu(s.segmentGroup,s.index,o.commands):uw(s.segmentGroup,s.index,o.commands);return tg(s.segmentGroup,a,t,r,i)}(l,this.currentUrlTree,e,f,null!=h?h:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=ao(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Y({},M3):!1===r?Y({},k3):r,ao(e))return WA(this.currentUrlTree,e,i);const o=this.parseUrl(e);return WA(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ja(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,s){var A,S,M;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,c=Nu(r)&&a&&!Nu(a.source),l=a.rawUrl.toString()===e.toString(),h=a.id===(null==(A=this.currentNavigation)?void 0:A.id);if(c&&l&&h)return Promise.resolve(!0);let p,g,_;s?(p=s.resolve,g=s.reject,_=s.promise):_=new Promise((B,se)=>{p=B,g=se});const E=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!=(S=this.browserPageId)?S:0:(null!=(M=this.browserPageId)?M:0)+1):y=0,this.setTransition({id:E,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:p,reject:g,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(B=>Promise.reject(B))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o=Y(Y({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null==(o=this.currentNavigation)?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new UA(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){ef()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function Nu(n){return"imperative"!==n}let Pu=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new un,this.subscription=e.events.subscribe(o=>{o instanceof Ja&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,o,s){if(0!==e||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Ts(this.skipLocationChange),replaceUrl:Ts(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ts(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(D(Ct),D(ri),D(Es))},n.\u0275dir=re({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&w("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&Ir("target",r.target)("href",r.href,De)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Bt]}),n})();function Ts(n){return""===n||!!n}class Rw{}class Mw{preload(t,e){return ne(null)}}let kw=(()=>{class n{constructor(e,r,i,o){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Dw(i,r,c=>e.triggerEvent(new VA(c)),c=>e.triggerEvent(new HA(c)))}setUpPreloading(){this.subscription=this.router.events.pipe(ro(e=>e instanceof Ja),io(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Mr);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(e,o)):o.children&&i.push(this.processRoutes(e,o.children));return He(i).pipe(Vs(),W(o=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ne(r._loadedConfig):this.loader.load(e.injector,r)).pipe(Pt(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(x(Ct),x(ql),x(Fe),x(Rw))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),dg=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Wp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ja&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof BA&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new BA(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){ef()},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const co=new de("ROUTER_CONFIGURATION"),Nw=new de("ROUTER_FORROOT_GUARD"),L3=[$a,{provide:YA,useClass:ZA},{provide:Ct,useFactory:function(n,t,e,r,i,o,s={},a,c){const l=new Ct(null,n,t,e,r,i,$A(o));return a&&(l.urlHandlingStrategy=a),c&&(l.routeReuseStrategy=c),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,l),s.enableTracing&&l.events.subscribe(h=>{var f,p;null==(f=console.group)||f.call(console,`Router Event: ${h.constructor.name}`),console.log(h.toString()),console.log(h),null==(p=console.groupEnd)||p.call(console)}),l},deps:[YA,rc,$a,Fe,ql,lg,co,[class{},new fn],[class{},new fn]]},rc,{provide:ri,useFactory:function(n){return n.routerState.root},deps:[Ct]},kw,Mw,class{preload(t,e){return e().pipe(be(()=>ne(null)))}},{provide:co,useValue:{enableTracing:!1}}];function U3(){return new jf("Router",Ct)}let Pw=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[L3,xw(e),{provide:Nw,useFactory:B3,deps:[[Ct,new fn,new vi]]},{provide:co,useValue:r||{}},{provide:Es,useFactory:H3,deps:[no,[new Vo(Cp),new fn],co]},{provide:dg,useFactory:V3,deps:[Ct,p2,co]},{provide:Rw,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Mw},{provide:jf,multi:!0,useFactory:U3},[hg,{provide:Ra,multi:!0,useFactory:G3,deps:[hg]},{provide:Ow,useFactory:z3,deps:[hg]},{provide:jE,multi:!0,useExisting:Ow}]]}}static forChild(e){return{ngModule:n,providers:[xw(e)]}}}return n.\u0275fac=function(e){return new(e||n)(x(Nw,8),x(Ct,8))},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({}),n})();function V3(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new dg(n,t,e)}function H3(n,t,e={}){return e.useHash?new Yx(n,t):new eA(n,t)}function B3(n){return"guarded"}function xw(n){return[{provide:n1,multi:!0,useValue:n},{provide:lg,multi:!0,useValue:n}]}let hg=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new un}appInitializer(){return this.injector.get(Kx,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Ct),s=this.injector.get(co);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?ne(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(co),i=this.injector.get(kw),o=this.injector.get(dg),s=this.injector.get(Ct),a=this.injector.get(ps);e===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(x(Fe))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();function G3(n){return n.appInitializer.bind(n)}function z3(n){return n.bootstrapListener.bind(n)}const Ow=new de("Router Initializer");class Lw{}class Uw{}class an{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof an?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new an;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof an?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class K3{encodeKey(t){return Vw(t)}encodeValue(t){return Vw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const J3=/%(\d[a-f0-9])/gi,Y3={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Vw(n){return encodeURIComponent(n).replace(J3,(t,e)=>{var r;return null!=(r=Y3[e])?r:t})}function Hw(n){return`${n}`}class kn{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new K3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new kn({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Hw(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Hw(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Z3{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Bw(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function jw(n){return"undefined"!=typeof Blob&&n instanceof Blob}function qw(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Dt{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new an),this.context||(this.context=new Z3),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new kn,this.urlWithParams=e}serializeBody(){return null===this.body?null:Bw(this.body)||jw(this.body)||qw(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof kn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qw(this.body)?null:jw(this.body)?this.body.type||null:Bw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var f;const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const h=null!=(f=t.context)?f:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((p,g)=>p.set(g,t.setHeaders[g]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((p,g)=>p.set(g,t.setParams[g]),l)),new Dt(e,r,o,{params:l,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var I=(()=>((I=I||{})[I.Sent=0]="Sent",I[I.UploadProgress=1]="UploadProgress",I[I.ResponseHeader=2]="ResponseHeader",I[I.DownloadProgress=3]="DownloadProgress",I[I.Response=4]="Response",I[I.User=5]="User",I))();class fg{constructor(t,e=200,r="OK"){this.headers=t.headers||new an,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class pg extends fg{constructor(t={}){super(t),this.type=I.ResponseHeader}clone(t={}){return new pg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xu extends fg{constructor(t={}){super(t),this.type=I.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new xu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $w extends fg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function gg(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let mg=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof Dt)o=e;else{let c,l;c=i.headers instanceof an?i.headers:new an(i.headers),i.params&&(l=i.params instanceof kn?i.params:new kn({fromObject:i.params})),o=new Dt(e,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=ne(o).pipe(io(c=>this.handler.handle(c)));if(e instanceof Dt||"events"===i.observe)return s;const a=s.pipe(ro(c=>c instanceof xu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(W(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(W(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(W(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(W(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new kn).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,gg(i,r))}post(e,r,i={}){return this.request("POST",e,gg(i,r))}put(e,r,i={}){return this.request("PUT",e,gg(i,r))}}return n.\u0275fac=function(e){return new(e||n)(x(Lw))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();class Gw{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const vg=new de("HTTP_INTERCEPTORS");let tV=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const nV=/^\)\]\}',?\n/;let zw=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ne(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((g,_)=>i.setRequestHeader(g,_.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const g=e.detectContentTypeHeader();null!==g&&i.setRequestHeader("Content-Type",g)}if(e.responseType){const g=e.responseType.toLowerCase();i.responseType="json"!==g?g:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const g=1223===i.status?204:i.status,_=i.statusText||"OK",E=new an(i.getAllResponseHeaders()),y=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new pg({headers:E,status:g,statusText:_,url:y}),s},c=()=>{let{headers:g,status:_,statusText:E,url:y}=a(),A=null;204!==_&&(A=void 0===i.response?i.responseText:i.response),0===_&&(_=A?200:0);let S=_>=200&&_<300;if("json"===e.responseType&&"string"==typeof A){const M=A;A=A.replace(nV,"");try{A=""!==A?JSON.parse(A):null}catch(B){A=M,S&&(S=!1,A={error:B,text:A})}}S?(r.next(new xu({body:A,headers:g,status:_,statusText:E,url:y||void 0})),r.complete()):r.error(new $w({error:A,headers:g,status:_,statusText:E,url:y||void 0}))},l=g=>{const{url:_}=a(),E=new $w({error:g,status:i.status||0,statusText:i.statusText||"Unknown Error",url:_||void 0});r.error(E)};let h=!1;const f=g=>{h||(r.next(a()),h=!0);let _={type:I.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),"text"===e.responseType&&!!i.responseText&&(_.partialText=i.responseText),r.next(_)},p=g=>{let _={type:I.UploadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),r.next(_)};return i.addEventListener("load",c),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),e.reportProgress&&(i.addEventListener("progress",f),null!==o&&i.upload&&i.upload.addEventListener("progress",p)),i.send(o),r.next({type:I.Sent}),()=>{i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",c),i.removeEventListener("timeout",l),e.reportProgress&&(i.removeEventListener("progress",f),null!==o&&i.upload&&i.upload.removeEventListener("progress",p)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(x(CA))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})();const _g=new de("XSRF_COOKIE_NAME"),Cg=new de("XSRF_HEADER_NAME");class Ww{}let iV=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=uA(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(x(It),x(Bl),x(_g))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),yg=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(x(Ww),x(Cg))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),oV=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(vg,[]);this.chain=r.reduceRight((i,o)=>new Gw(i,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(x(Uw),x(Fe))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),sV=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:yg,useClass:tV}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:_g,useValue:e.cookieName}:[],e.headerName?{provide:Cg,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({providers:[yg,{provide:vg,useExisting:yg,multi:!0},{provide:Ww,useClass:iV},{provide:_g,useValue:"XSRF-TOKEN"},{provide:Cg,useValue:"X-XSRF-TOKEN"}]}),n})(),aV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({providers:[mg,{provide:Lw,useClass:oV},zw,{provide:Uw,useExisting:zw}],imports:[[sV.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function Kw(n,t,e,r,i,o,s){try{var a=n[o](s),c=a.value}catch(l){return void e(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function Eg(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var o=n.apply(t,e);function s(c){Kw(o,r,i,s,a,"next",c)}function a(c){Kw(o,r,i,s,a,"throw",c)}s(void 0)})}}class ${constructor(t,e){this.formsService=t,this.sharedService=e}static makeRandomString(t){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=r.length,o=0;o<t;o++)e+=r.charAt(Math.floor(Math.random()*i));return e}static getBase64(t){const e=new FileReader;return new Promise(r=>{e.onload=function(i){r(e.result.split(",")[1])},e.readAsDataURL(t)})}static getBuffer(t){const e=new FileReader;return new Promise(r=>{e.onload=function(i){r(e.result)},e.readAsArrayBuffer(t)})}static validateEmail(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}static validateFiles(t){if(t.length>0){for(let e=0;t.length>e;e++)if(!t[e].Uploaded)return!1;return!0}return!1}uploadFilesToServer(t){var e=this;return Eg(function*(){let r=[];for(let i=0;t.length>i;i++)r.push(e.formsService.postUploadFile(t[i].Name,t[i].Bytes).subscribe(o=>{if(o.type===I.Response)return o.body}));return yield Promise.all(r)})()}}function ke(n,t){return new Ne(t?e=>t.schedule(cV,0,{error:n,subscriber:e}):e=>e.error(n))}function cV({error:n,subscriber:t}){t.error(n)}let Ii=(()=>{class n{constructor(e){this.http=e}validateFlowUser(e,r,i){return this.http.request(new Dt("GET",`https://${We_backendAddress}/api/workflow/validateUser`,{params:(new kn).appendAll({tipoPersona:e,tipoRelacion:r,identificator:i}),reportProgress:!0}))}postTest(e){return this.http.request(new Dt("POST",`https://${We_backendAddress}/api/request`,e,{headers:new an({"content-type":"application/json"}),reportProgress:!0}))}postUploadFile(e,r){return this.http.request(new Dt("POST",`https://${We_backendAddress}/api/uploadfile`,r,{headers:new an({"content-type":"application/octet-stream"}),params:(new kn).appendAll({name:e}),reportProgress:!0}))}postFormsFinancieraRegistration(e){return this.http.request(new Dt("POST",`https://${We_backendAddress}/api/forms/financiera/registration`,e,{headers:new an({"content-type":"application/json"}),reportProgress:!0}))}postFormsFinancieraInvoice(e){return this.http.request(new Dt("POST",`https://${We_backendAddress}/api/forms/financiera/invoice`,e,{headers:new an({"content-type":"application/json"}),reportProgress:!0}))}postFormsCoordinacionLogistica(e){return this.http.request(new Dt("POST",`https://${We_backendAddress}/api/forms/coordinacionlogistica`,e,{headers:new an({"content-type":"application/json"}),reportProgress:!0}))}getFormsCoordinacionLogistica(e){return this.http.request(new Dt("GET",`https://${We_backendAddress}/api/forms/coordinacioneslogisticas`,{params:(new kn).appendAll({Id:e}),reportProgress:!0}))}putFormsCoordinacionLogistica(e,r){return this.http.request(new Dt("PUT",`https://${We_backendAddress}/api/forms/coordinacioneslogisticas`,e,{headers:new an({"content-type":"application/json"}),params:(new kn).appendAll({Id:r}),reportProgress:!0}))}getConvenios(){return this.http.request(new Dt("GET",`https://${We_backendAddress}/api/convenios`,{reportProgress:!0}))}getAirports(){return this.http.request(new Dt("GET",`https://${We_backendAddress}/api/information/airports`,{reportProgress:!0}))}postFormsJuridicaContratacionConvenioRequest(e){return new Ne(r=>{this.http.request(new Dt("POST","https://prod-24.brazilsouth.logic.azure.com:443/workflows/f4f00890eb194d0da62fe26c2d6616d0/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=NdC4fjPyl1wYTOgWTBOSEqUvdeKEZPPO3ycToyQhRzA",[e],{reportProgress:!0})).pipe(W(i=>{r.next(i),i.type===I.Response&&r.complete()}),be(i=>ke(i))).subscribe()})}submitFormsJuridicaContratacion(e){return new Ne(r=>{this.http.request(new Dt("POST","https://prod-25.brazilsouth.logic.azure.com:443/workflows/82f03002773e4a20a0d73d782d39ef18/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=h2Bpo6-VDFhG5WJxdRj-DbEqgk76ojBKiM-5wJuMBBc",e,{reportProgress:!0})).pipe(W(i=>{r.next(i),i.type===I.Response&&r.complete()}),be(i=>ke(i))).toPromise()})}}return n.\u0275fac=function(e){return new(e||n)(x(mg))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lV(n,t){if(1&n&&(u(0,"div",3),m(1),d()),2&n){const e=b();v(1),Gt(" ",e.requiredFeedback,"\n")}}function uV(n,t){if(1&n&&(u(0,"div",13),Z(1,"img",14),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function dV(n,t){if(1&n){const e=G();u(0,"div",6),T(1,uV,2,1,"div",7),u(2,"div",8),u(3,"h5",9),m(4),d(),d(),u(5,"div",10),u(6,"a",11),u(7,"img",12),w("click",function(){const o=R(e).$implicit;return b(2).whenRemoveFiles(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt(" ",e.Index,". ",e.Name," "),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function hV(n,t){if(1&n&&(u(0,"div",4),T(1,dV,8,4,"div",5),d()),2&n){const e=b();v(1),C("ngForOf",e.Files)}}const fV=function(n,t){return{"is-valid":n,"is-invalid":t}};let Ou=(()=>{class n{constructor(){this.contentAsArrayBuffer=!1,this.requiredFeedback="",this.Files=[],this.onFilesChange=new Re}ngOnInit(){}whenUploadFiles(e){let r=this.Files.length;for(let i=0;e.target.files.length>i;i++)this.Files.push({Index:r+i,Name:e.target.files[i].name.replace(/[^a-zA-Z0-9\.]/g,""),Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.contentAsArrayBuffer?$.getBuffer(e.target.files[i]).then(o=>{this.Files[r+i].Bytes=o,this.Files[r+i].Uploaded=!0}):$.getBase64(e.target.files[i]).then(o=>{this.Files[r+i].Bytes=o,this.Files[r+i].Uploaded=!0});e.target.value=null,this.onFilesChange.emit(this.Files)}whenRemoveFiles(e){this.Files.splice(e,1);for(let r=0;this.Files.length>r;r++)this.Files[r].Index=r;this.onFilesChange.emit(this.Files)}validateFiles(e){return $.validateFiles(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["app-upload-files"]],inputs:{contentAsArrayBuffer:"contentAsArrayBuffer",requiredFeedback:"requiredFeedback"},outputs:{onFilesChange:"onFilesChange"},decls:3,vars:6,consts:[["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","Files","name","Files","multiple","",1,"form-control",3,"ngClass","change"],["class","invalid-feedback",4,"ngIf"],["class","container",4,"ngIf"],[1,"invalid-feedback"],[1,"container"],["class","\n      row\n      justify-content-center\n      align-items-center\n      mt-3\n      border-start border-top border-primary border-1\n    ",4,"ngFor","ngForOf"],[1,"row","justify-content-center","align-items-center","mt-3","border-start","border-top","border-primary","border-1"],["class","col-1",4,"ngIf"],[1,"col-11"],[1,"mb-0"],[1,"col-1","gx-0"],["href","javascript:;"],["width","50px","height","50px",1,"img-fluid",3,"src","click"],[1,"col-1"],["width","50px","height","50px",1,"img-fluid",3,"src"]],template:function(e,r){1&e&&(u(0,"input",0),w("change",function(o){return r.whenUploadFiles(o)}),d(),T(1,lV,2,1,"div",1),T(2,hV,2,1,"div",2)),2&e&&(C("ngClass",H(3,fV,r.requiredFeedback&&r.validateFiles(r.Files),r.requiredFeedback&&!r.validateFiles(r.Files))),v(1),C("ngIf",r.requiredFeedback),v(1),C("ngIf",r.Files.length>0))},directives:[Gn,Rn,fr],styles:[""]}),n})(),pV=(()=>{class n{constructor(e){this.formsService=e,this.Files=[]}setFiles(e){this.Files=e}ngOnInit(){}btnSubmitClick(){var e=this;return Eg(function*(){let r=[];for(let i=0;e.Files.length>i;i++)r.push(e.formsService.postUploadFile(e.Files[i].Name,e.Files[i].Bytes).subscribe(o=>{o.type===I.Response&&console.log(o.body)}));yield Promise.all(r)})()}}return n.\u0275fac=function(e){return new(e||n)(D(Ii))},n.\u0275cmp=ft({type:n,selectors:[["app-forms-tests"]],decls:12,vars:1,consts:[["id","firstElement","name","firstElement",1,"row","g-3"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","g-3"],["for","uploadFiles",1,"form-label"],["id","uploadFiles","name","uploadFiles",3,"contentAsArrayBuffer","onFilesChange"],[1,"d-grid","gap-2","col-6","mx-auto","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,r){1&e&&(u(0,"div",0),u(1,"div",1),u(2,"div",2),u(3,"div",3),u(4,"div",4),u(5,"div",1),u(6,"label",5),m(7,"Files"),d(),u(8,"app-upload-files",6),w("onFilesChange",function(o){return r.setFiles(o)}),d(),d(),d(),d(),d(),d(),u(9,"div",7),u(10,"button",8),w("click",function(){return r.btnSubmitClick()}),m(11,"Enviar"),d(),d(),d()),2&e&&(v(8),C("contentAsArrayBuffer",!0))},directives:[Ou],styles:[""]}),n})(),lo=(()=>{class n{constructor(){this.setLoggedUserSource=new un,this.onSetLoggedUser=this.setLoggedUserSource.asObservable(),this.pushWaitTaskSource=new un,this.onPushWaitTask=this.pushWaitTaskSource.asObservable(),this.removeWaitTaskSource=new un,this.onRemoveWaitTask=this.removeWaitTaskSource.asObservable(),this.pushToastMessageSource=new un,this.onPushToastMessage=this.pushToastMessageSource.asObservable()}setLoggedUser(e){this.setLoggedUserSource.next(e)}pushWaitTask(e){this.pushWaitTaskSource.next(e)}removeWaitTask(e){this.removeWaitTaskSource.next(e)}pushToastMessage(e){this.pushToastMessageSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lu(n,t){return new Ne(e=>{const r=n.length;if(0===r)return void e.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=He(n[a]);let l=!1;e.add(c.subscribe({next:h=>{l||(l=!0,s++),i[a]=h},error:h=>e.error(h),complete:()=>{o++,(o===r||!l)&&(s===r&&e.next(t?t.reduce((h,f,p)=>(h[f]=i[p],h),{}):i),e.complete())}}))}})}let Qw=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(D(Qr),D(wt))},n.\u0275dir=re({type:n}),n})(),uo=(()=>{class n extends Qw{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Sn(n)))(r||n)}}(),n.\u0275dir=re({type:n,features:[qe]}),n})();const xr=new de("NgValueAccessor"),mV={provide:xr,useExisting:Be(()=>bg),multi:!0};let bg=(()=>{class n extends uo{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Sn(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,r){1&e&&w("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[Je([mV]),qe]}),n})();const vV={provide:xr,useExisting:Be(()=>ii),multi:!0},CV=new de("CompositionEventMode");let ii=(()=>{class n extends Qw{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=kr()?kr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(D(Qr),D(wt),D(CV,8))},n.\u0275dir=re({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&w("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Je([vV]),qe]}),n})();const Kt=new de("NgValidators"),Fi=new de("NgAsyncValidators");function ac(n){return null}function oS(n){return null!=n}function sS(n){const t=Ca(n)?He(n):n;return Tl(t),t}function aS(n){let t={};return n.forEach(e=>{t=null!=e?Y(Y({},t),e):t}),0===Object.keys(t).length?null:t}function cS(n,t){return t.map(e=>e(n))}function lS(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ag(n){return null!=n?function(n){if(!n)return null;const t=n.filter(oS);return 0==t.length?null:function(e){return aS(cS(e,t))}}(lS(n)):null}function wg(n){return null!=n?function(n){if(!n)return null;const t=n.filter(oS);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(Mc(t))return Lu(t,null);if(cd(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Lu(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Lu(n=1===n.length&&Mc(n[0])?n[0]:n,null).pipe(W(e=>t(...e)))}return Lu(n,null)}(cS(e,t).map(sS)).pipe(W(aS))}}(lS(n)):null}function hS(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Sg(n){return n?Array.isArray(n)?n:[n]:[]}function Uu(n,t){return Array.isArray(n)?n.includes(t):n===t}function gS(n,t){const e=Sg(t);return Sg(n).forEach(i=>{Uu(e,i)||e.push(i)}),e}function mS(n,t){return Sg(t).filter(e=>!Uu(n,e))}class vS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ag(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=wg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class cn extends vS{get formDirective(){return null}get path(){return null}}class Ri extends vS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _S{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(i=null==(r=this._cd)?void 0:r.control)?void 0:i[t])}}let Mi=(()=>{class n extends _S{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(D(Ri,2))},n.\u0275dir=re({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&Il("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[qe]}),n})(),cc=(()=>{class n extends _S{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(D(cn,10))},n.\u0275dir=re({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&Il("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[qe]}),n})();function lc(n,t){Dg(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&CS(n,t)})}(n,t),function(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&CS(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ju(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Dg(n,t){const e=function(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(hS(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(hS(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ju(t._rawValidators,i),ju(t._rawAsyncValidators,i)}function CS(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $u(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const uc="VALID",Gu="INVALID",Is="PENDING",dc="DISABLED";function Mg(n){return(Ng(n)?n.validators:n)||null}function bS(n){return Array.isArray(n)?Ag(n):n||null}function kg(n,t){return(Ng(t)?t.asyncValidators:n)||null}function AS(n){return Array.isArray(n)?wg(n):n||null}function Ng(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Pg{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=bS(this._rawValidators),this._composedAsyncValidatorFn=AS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===uc}get invalid(){return this.status===Gu}get pending(){return this.status==Is}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=bS(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=AS(t)}addValidators(t){this.setValidators(gS(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(gS(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(mS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(mS(t,this._rawAsyncValidators))}hasValidator(t){return Uu(this._rawValidators,t)}hasAsyncValidator(t){return Uu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Is,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dc,this.errors=null,this._forEachChild(r=>{r.disable(kt(Y({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(kt(Y({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=uc,this._forEachChild(r=>{r.enable(kt(Y({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(kt(Y({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uc||this.status===Is)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator=!0;const e=sS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=r instanceof xg?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof NV&&r.at(i)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?Gu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(Gu)?Gu:uc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ng(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class zu extends Pg{constructor(t=null,e,r){super(Mg(e),kg(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$u(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$u(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class xg extends Pg{constructor(t,e,r){super(Mg(e),kg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof zu?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class NV extends Pg{constructor(t,e,r){super(Mg(e),kg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof zu?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const PV={provide:cn,useExisting:Be(()=>ho)},hc=(()=>Promise.resolve(null))();let ho=(()=>{class n extends cn{constructor(e,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Re,this.form=new xg({},Ag(e),wg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){hc.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),lc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){hc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),$u(this._directives,e)})}addFormGroup(e){hc.then(()=>{const r=this._findContainer(e.path),i=new xg({});(function(n,t){Dg(n,t)})(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){hc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){hc.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(D(Kt,10),D(Fi,10))},n.\u0275dir=re({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&w("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Je([PV]),qe]}),n})();const OV={provide:Ri,useExisting:Be(()=>oi)},TS=(()=>Promise.resolve(null))();let oi=(()=>{class n extends Ri{constructor(e,r,i,o){super(),this.control=new zu,this._registered=!1,this.update=new Re,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===ii?e=o:function(n){return Object.getPrototypeOf(n.constructor)===uo}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,t){return[...t.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){TS.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;TS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(D(cn,9),D(Kt,10),D(Fi,10),D(xr,10))},n.\u0275dir=re({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Je([OV]),qe,Bt]}),n})(),fc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const UV={provide:xr,useExisting:Be(()=>pc),multi:!0};let DS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({}),n})(),VV=(()=>{class n{constructor(){this._accessors=[]}add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e)return void this._accessors.splice(r,1)}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return!!e[0].control&&e[0]._parent===r._control._parent&&e[1].name===r.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:DS}),n})(),pc=(()=>{class n extends uo{constructor(e,r,i,o){super(e,r),this._registry=i,this._injector=o,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Ri),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(D(Qr),D(wt),D(VV),D(Fe))},n.\u0275dir=re({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,r){1&e&&w("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Je([UV]),qe]}),n})();const zV={provide:xr,useExisting:Be(()=>si),multi:!0};function PS(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let si=(()=>{class n extends uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=this._getOptionId(e);null==r&&this.setProperty("selectedIndex",-1);const i=PS(r,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=r=>{this.value=this._getOptionValue(r),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Sn(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,r){1&e&&w("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Je([zV]),qe]}),n})(),fo=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(PS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(D(wt),D(Qr),D(si,9))},n.\u0275dir=re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const KV={provide:xr,useExisting:Be(()=>Vg),multi:!0};function xS(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Vg=(()=>{class n extends uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let r;if(this.value=e,Array.isArray(e)){const i=e.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(e){this.onChange=r=>{const i=[];if(void 0!==r.selectedOptions){const o=r.selectedOptions;for(let s=0;s<o.length;s++){const a=o.item(s),c=this._getOptionValue(a.value);i.push(c)}}else{const o=r.options;for(let s=0;s<o.length;s++){const a=o.item(s);if(a.selected){const c=this._getOptionValue(a.value);i.push(c)}}}this.value=i,e(i)}}_registerOption(e){const r=(this._idCounter++).toString();return this._optionMap.set(r,e),r}_getOptionId(e){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,e))return r;return null}_getOptionValue(e){const r=function(n){return n.split(":")[0]}(e);return this._optionMap.has(r)?this._optionMap.get(r)._value:e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Sn(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,r){1&e&&w("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Je([KV]),qe]}),n})(),po=(()=>{class n{constructor(e,r,i){this._element=e,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(xS(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(xS(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(D(wt),D(Qr),D(Vg,9))},n.\u0275dir=re({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Wu=(()=>{class n{constructor(){this._validator=ac}handleChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(r):ac,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n}),n})();const ZV={provide:Kt,useExisting:Be(()=>gc),multi:!0};let gc=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?function(n){return function(n){return null==n||0===n.length}(n.value)?{required:!0}:null}(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&Ir("required",r.required?"":null)},inputs:{required:"required"},features:[Je([ZV])]}),n})();const n4={provide:Kt,useExisting:Be(()=>go),multi:!0};let go=(()=>{class n extends Wu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function(n){return t=>function(n){return null!=n&&"number"==typeof n.length}(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Sn(n)))(r||n)}}(),n.\u0275dir=re({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Ir("maxlength",r.enabled()?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Je([n4]),qe,Bt]}),n})(),i4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({imports:[[DS]]}),n})(),o4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({imports:[i4]}),n})(),mc=(()=>{class n{constructor(){this.regEx=new RegExp("[0-9]")}onInput(e){if(this.OnlyNumbers&&e.data){let r="";for(const i of e.target.value)this.regEx.test(i)&&(r=r.concat(i));e.target.value=r}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=re({type:n,selectors:[["","OnlyNumbers",""]],hostBindings:function(e,r){1&e&&w("input",function(o){return r.onInput(o)})},inputs:{OnlyNumbers:"OnlyNumbers"}}),n})();const gr=function(n,t){return{"is-valid":n,"is-invalid":t}};function s4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6,"Tipo de persona"),d(),d(),u(7,"div",4),u(8,"div",9),u(9,"input",10),w("ngModelChange",function(i){return R(e),b().tipoPersona=i}),d(),u(10,"label",11),m(11," Natural "),d(),d(),u(12,"div",9),u(13,"input",12),w("ngModelChange",function(i){return R(e),b().tipoPersona=i}),d(),u(14,"label",13),m(15," Juridica "),d(),u(16,"div",14),m(17," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),d(),d(),d(),d()}if(2&n){const e=b();v(9),C("ngModel",e.tipoPersona)("ngClass",H(4,gr,e.tipoPersona,!e.tipoPersona)),v(4),C("ngModel",e.tipoPersona)("ngClass",H(7,gr,e.tipoPersona,!e.tipoPersona))}}function a4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6,"Tipo de relacion"),d(),d(),u(7,"div",4),u(8,"div",9),u(9,"input",15),w("ngModelChange",function(i){return R(e),b().tipoRelacion=i}),d(),u(10,"label",16),m(11,"Contratista"),d(),d(),u(12,"div",9),u(13,"input",17),w("ngModelChange",function(i){return R(e),b().tipoRelacion=i}),d(),u(14,"label",18),m(15,"Proveedor"),d(),u(16,"div",14),m(17," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),d(),d(),d(),d()}if(2&n){const e=b();v(9),C("ngModel",e.tipoRelacion)("ngClass",H(4,gr,e.tipoRelacion,!e.tipoRelacion)),v(4),C("ngModel",e.tipoRelacion)("ngClass",H(7,gr,e.tipoRelacion,!e.tipoRelacion))}}function c4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",19),u(2,"input",23),w("ngModelChange",function(i){return R(e),b(2).identification=i}),d(),u(3,"label",24),m(4,"Numero de cedula de ciudadania"),u(5,"span",22),m(6,"*"),d(),d(),u(7,"div",14),m(8," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d()}if(2&n){const e=b(2);v(2),C("ngModel",e.identification)("ngClass",H(3,gr,8===e.identification.length||10===e.identification.length,8!==e.identification.length&&10!==e.identification.length))("OnlyNumbers",!0)}}function l4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"label",25),m(2,"NIT (Con digito de verificacion) Ej. 890507890-4"),u(3,"span",22),m(4,"*"),d(),d(),u(5,"div",26),u(6,"input",27),w("ngModelChange",function(i){return R(e),b(2).identification=i}),d(),u(7,"span",28),m(8,"-"),d(),u(9,"input",29),w("ngModelChange",function(i){return R(e),b(2).digitoVerificacion=i}),d(),u(10,"div",14),m(11," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d()}if(2&n){const e=b(2);v(6),C("ngModel",e.identification)("ngClass",H(6,gr,9===e.identification.length,9!==e.identification.length))("OnlyNumbers",!0),v(3),C("ngModel",e.digitoVerificacion)("ngClass",H(9,gr,1===e.digitoVerificacion.length,1!==e.digitoVerificacion.length))("OnlyNumbers",!0)}}function u4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6,"Informacion de usuario"),d(),d(),T(7,c4,9,6,"div",1),T(8,l4,12,12,"div",1),u(9,"div",4),u(10,"div",19),u(11,"input",20),w("ngModelChange",function(i){return R(e),b().email=i}),d(),u(12,"label",21),m(13,"Correo electronico"),u(14,"span",22),m(15,"*"),d(),d(),u(16,"div",14),m(17," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),d(),d(),d(),d()}if(2&n){const e=b();v(7),C("ngIf","Natural"===e.tipoPersona),v(1),C("ngIf","Juridica"===e.tipoPersona),v(3),C("ngClass",H(4,gr,e.validateEmail(e.email),!e.validateEmail(e.email)))("ngModel",e.email)}}function d4(n,t){if(1&n&&(u(0,"option",47),m(1),d()),2&n){const e=t.$implicit;C("value",e.Numero),v(1),Gt(" ",e.Aliado+" | "+e.Numero," ")}}function h4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6),d(),d(),u(7,"div",4),u(8,"div",19),u(9,"select",30),w("ngModelChange",function(i){return R(e),b().convenio=i}),Z(10,"option",31),T(11,d4,2,2,"option",32),d(),u(12,"label",33),m(13,"Convenio"),u(14,"span",22),m(15,"*"),d(),d(),u(16,"div",14),m(17," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),u(18,"div",4),u(19,"div",19),u(20,"input",34),w("ngModelChange",function(i){return R(e),b().nombre=i}),d(),u(21,"label",35),m(22,"Nombre o razon social"),u(23,"span",22),m(24,"*"),d(),d(),u(25,"div",14),m(26," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),u(27,"div",4),u(28,"label",36),m(29,"RUT"),u(30,"span",22),m(31,"*"),d(),d(),u(32,"app-upload-files",37),w("onFilesChange",function(i){return R(e),b().setRutFiles(i)}),d(),d(),u(33,"div",4),u(34,"label",38),m(35),u(36,"span",22),m(37,"*"),d(),d(),u(38,"app-upload-files",39),w("onFilesChange",function(i){return R(e),b().setCedulaFiles(i)}),d(),d(),u(39,"div",4),u(40,"label",40),m(41,"Certificacion bancaria"),u(42,"span",22),m(43,"*"),d(),d(),u(44,"app-upload-files",41),w("onFilesChange",function(i){return R(e),b().setCertificacionBancariaFiles(i)}),d(),d(),u(45,"div",4),u(46,"div",19),u(47,"input",42),w("ngModelChange",function(i){return R(e),b().informacionAdicional=i}),d(),u(48,"label",43),m(49,"Informacion adicional"),d(),d(),d(),u(50,"div",4),u(51,"div",5),u(52,"div",6),u(53,"div",7),u(54,"div",4),u(55,"h5",8),m(56," Politica de manejo de datos "),d(),d(),u(57,"div",4),Z(58,"p",44),d(),u(59,"div",4),u(60,"div",9),u(61,"input",45),w("ngModelChange",function(i){return R(e),b().manejoDatos=i}),d(),u(62,"label",46),m(63," Aceptar manejo de datos "),d(),u(64,"div",14),m(65," Debes aceptar el manejo de datos para poder enviar el formulario. "),d(),d(),d(),d(),d(),d(),d(),d(),d(),d(),d()}if(2&n){const e=b();v(6),vt(" ",e.tipoPersona," - ",e.tipoRelacion," "),v(3),C("ngModel",e.convenio)("ngClass",H(14,gr,e.convenio,!e.convenio)),v(2),C("ngForOf",e.convenios),v(9),C("ngModel",e.nombre)("ngClass",H(17,gr,e.nombre,!e.nombre)),v(12),C("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(3),$t("Natural"===e.tipoPersona?"Cedula":"Cedula del representante legal"),v(3),C("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(6),C("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(3),C("ngModel",e.informacionAdicional),v(14),C("ngModel",e.manejoDatos)("ngClass",H(20,gr,e.manejoDatos,!e.manejoDatos))}}function f4(n,t){if(1&n){const e=G();u(0,"div",48),u(1,"button",49),w("click",function(){return R(e),b().btnPreviousClick()}),m(2," Anterior "),d(),d()}}const p4=function(n){return{"col-12":n}};function g4(n,t){if(1&n){const e=G();u(0,"div",50),u(1,"button",51),w("click",function(){return R(e),b().btnNextClick()}),m(2," Siguiente "),d(),d()}if(2&n){const e=b();C("ngClass",Hn(2,p4,0===e.formIndex)),v(1),C("disabled",!e.isValid())}}function m4(n,t){if(1&n){const e=G();u(0,"div",48),u(1,"button",51),w("click",function(){return R(e),b().btnSubmitClick()}),m(2," Enviar "),d(),d()}if(2&n){const e=b();v(1),C("disabled",!e.isValid())}}let v4=(()=>{class n{constructor(e,r){this.formsService=e,this.sharedService=r,this.formIndex=0,this.tipoPersona="",this.tipoRelacion="",this.identification="",this.digitoVerificacion="",this.email="",this.convenios=[],this.convenio="",this.nombre="",this.rutFiles=[],this.cedulaFiles=[],this.certificacionBancariaFiles=[],this.informacionAdicional="",this.manejoDatos=!1,this.onWaitTasksChange=new Re}setRutFiles(e){this.rutFiles=e}setCedulaFiles(e){this.cedulaFiles=e}setCertificacionBancariaFiles(e){this.certificacionBancariaFiles=e}ngOnInit(){}btnPreviousClick(){switch(this.formIndex){case 1:this.tipoPersona="",this.tipoRelacion="";break;case 2:this.identification="",this.digitoVerificacion="",this.email=""}this.formIndex--}btnNextClick(){switch(this.formIndex){case 0:this.identification="",this.digitoVerificacion="",this.email="";break;case 1:let e;this.convenio="",this.nombre="",this.rutFiles=[],this.cedulaFiles=[],this.certificacionBancariaFiles=[],this.formsService.getConvenios().subscribe(r=>{switch(r.type){case I.Sent:e=$.makeRandomString(4),this.sharedService.pushWaitTask({id:e,description:"Cargando convenios...",progress:0});break;case I.DownloadProgress:this.sharedService.pushWaitTask({id:e,progress:Math.round(100*r.loaded/r.total)});break;case I.Response:this.convenios=[],r.body.value.forEach(i=>{this.convenios.push({Id:i.id,Aliado:i.fields.Aliado,Numero:i.fields.Numero,Mostrar:i.fields.Mostrar})}),this.sharedService.removeWaitTask({id:e})}})}this.formIndex++}btnSubmitClick(){let e={Id:$.makeRandomString(32),TipoPersona:this.tipoPersona,TipoRelacion:this.tipoRelacion,Identificator:"Natural"===this.tipoPersona?this.identification:`${this.identification}-${this.digitoVerificacion}`,Email:this.email,Convenio:this.convenio,Nombre:this.nombre,RutFiles:this.rutFiles,CedulaFiles:this.cedulaFiles,CertificacionBancariaFiles:this.certificacionBancariaFiles,InformacionAdicional:this.informacionAdicional};var r;this.manejoDatos=!1,this.informacionAdicional="",this.certificacionBancariaFiles=[],this.cedulaFiles=[],this.rutFiles=[],this.nombre="",this.convenio="",this.email="",this.digitoVerificacion="",this.identification="",this.tipoRelacion="",this.tipoPersona="",this.formIndex=0,this.formsService.postFormsFinancieraRegistration(e).subscribe(i=>{switch(i.type){case I.Sent:this.sharedService.pushWaitTask({id:r=$.makeRandomString(4),description:"Enviando registro...",progress:0});break;case I.UploadProgress:case I.DownloadProgress:this.sharedService.pushWaitTask({id:r,progress:Math.round(100*i.loaded/i.total)});break;case I.ResponseHeader:this.sharedService.pushWaitTask({id:r,description:"Obteniendo la respuesta del envio del registro...",progress:0});break;case I.Response:this.sharedService.removeWaitTask({id:r}),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Registro enviado satisfactoriamente",description:"Su registro ha sido ingresado correctamente y sera procesado en la mayor brevedad posible, este atento al correo electronico registrado por el cual se le notificara del estado y manera de validacion de la peticion.",autohide:3e4})}},i=>{})}validateEmail(e){return $.validateEmail(e)}isValid(e=this.formIndex){switch(e){case 0:return this.tipoPersona&&this.tipoRelacion;case 1:return("Natural"===this.tipoPersona?8===this.identification.length||10===this.identification.length:9===this.identification.length&&1===this.digitoVerificacion.length)&&$.validateEmail(this.email);case 2:return this.convenio&&this.nombre&&$.validateFiles(this.rutFiles)&&$.validateFiles(this.cedulaFiles)&&$.validateFiles(this.certificacionBancariaFiles)&&this.manejoDatos;default:return!1}}}return n.\u0275fac=function(e){return new(e||n)(D(Ii),D(lo))},n.\u0275cmp=ft({type:n,selectors:[["app-forms-financiera-registration"]],outputs:{onWaitTasksChange:"onWaitTasksChange"},decls:8,vars:7,consts:[["id","firstElement","name","firstElement",1,"row","g-3"],["class","col-12",4,"ngIf"],["class","d-grid gap-2 col-6 mx-auto mb-2",4,"ngIf"],["class","d-grid gap-2 col-6 mx-auto mb-2",3,"ngClass",4,"ngIf"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","g-3"],[1,"card-title","text-center"],[1,"form-check"],["type","radio","name","tipoPersonaNatural","id","tipoPersonaNatural","value","Natural",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","tipoPersonaNatural",1,"form-check-label"],["type","radio","name","tipoPersonaJuridica","id","tipoPersonaJuridica","value","Juridica",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","tipoPersonaJuridica",1,"form-check-label"],[1,"invalid-feedback"],["type","radio","name","tipoRelacionContratista","id","tipoRelacionContratista","value","Contratista",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","tipoRelacionContratista",1,"form-check-label"],["type","radio","name","tipoRelacionProveedor","id","tipoRelacionProveedor","value","Proveedor",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","tipoRelacionProveedor",1,"form-check-label"],[1,"form-floating"],["type","email","id","correo","name","correo","placeholder","x",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["for","correo"],[1,"text-danger"],["type","text","name","floatingInputIdentificator","id","floatingInputIdentificator","placeholder","\\0","maxlength","10",1,"form-control",3,"ngModel","ngClass","OnlyNumbers","ngModelChange"],["for","floatingInputIdentificator"],["for","inputNIT1",1,"form-label"],[1,"input-group"],["type","text","placeholder","NIT Ej. 890507890","aria-label","NIT Ej. 890507890","name","inputNIT1","maxlength","9",1,"form-control",2,"z-index","0",3,"ngModel","ngClass","OnlyNumbers","ngModelChange"],[1,"input-group-text"],["type","text","placeholder","Digito de verificacion Ej. 4","aria-label","Digito de verificacion Ej. 4","name","inputNIT2","maxlength","1",1,"form-control",2,"z-index","0",3,"ngModel","ngClass","OnlyNumbers","ngModelChange"],["id","convenio","name","convenio",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","convenio"],["type","text","name","inputNombre","id","inputNombre","placeholder","\\0","maxlength","255",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","inputNombre"],["for","fieldRUTFiles",1,"form-label"],["id","fieldRUTFiles","name","fieldRUTFiles",3,"requiredFeedback","onFilesChange"],["for","fieldCedulaFiles",1,"form-label"],["id","fieldCedulaFiles","name","fieldCedulaFiles",3,"requiredFeedback","onFilesChange"],["for","fieldCertificacionBancariaFiles",1,"form-label"],["id","fieldCertificacionBancariaFiles","name","fieldCertificacionBancariaFiles",3,"requiredFeedback","onFilesChange"],["type","text","name","inputInformacionAdicional","id","inputInformacionAdicional","placeholder","\\0","maxlength","255",1,"form-control",3,"ngModel","ngModelChange"],["for","inputInformacionAdicional"],[1,"card-text"],["type","checkbox","name","checkManejoDatos","id","checkManejoDatos",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","checkManejoDatos",1,"form-check-label"],[3,"value"],[1,"d-grid","gap-2","col-6","mx-auto","mb-2"],["href","#firstElement",1,"btn","btn-primary",3,"click"],[1,"d-grid","gap-2","col-6","mx-auto","mb-2",3,"ngClass"],["href","#firstElement",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,r){1&e&&(u(0,"div",0),T(1,s4,18,10,"div",1),T(2,a4,18,10,"div",1),T(3,u4,18,7,"div",1),T(4,h4,66,23,"div",1),T(5,f4,3,0,"div",2),T(6,g4,3,4,"div",3),T(7,m4,3,1,"div",2),d()),2&e&&(v(1),C("ngIf",0===r.formIndex),v(1),C("ngIf",0===r.formIndex),v(1),C("ngIf",1===r.formIndex),v(1),C("ngIf",2===r.formIndex),v(1),C("ngIf",r.formIndex>0),v(1),C("ngIf",2!==r.formIndex),v(1),C("ngIf",2===r.formIndex))},directives:[Rn,pc,ii,Mi,oi,Gn,go,mc,si,fo,po,fr,Ou,bg],styles:[""]}),n})();const ki=function(n,t){return{"is-valid":n,"is-invalid":t}};function _4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6,"Tipo de persona"),d(),d(),u(7,"div",4),u(8,"div",9),u(9,"input",10),w("ngModelChange",function(i){return R(e),b().tipoPersona=i})("change",function(){return R(e),b().invalidateFlowUser()}),d(),u(10,"label",11),m(11," Natural "),d(),d(),u(12,"div",9),u(13,"input",12),w("ngModelChange",function(i){return R(e),b().tipoPersona=i})("change",function(){return R(e),b().invalidateFlowUser()}),d(),u(14,"label",13),m(15," Juridica "),d(),u(16,"div",14),m(17," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),d(),d(),d(),d()}if(2&n){const e=b();v(9),C("ngModel",e.tipoPersona)("ngClass",H(4,ki,e.tipoPersona,!e.tipoPersona||e.validacionUsuarioError)),v(4),C("ngModel",e.tipoPersona)("ngClass",H(7,ki,e.tipoPersona,!e.tipoPersona||e.validacionUsuarioError))}}function C4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6,"Tipo de relacion"),d(),d(),u(7,"div",4),u(8,"div",9),u(9,"input",15),w("ngModelChange",function(i){return R(e),b().tipoRelacion=i})("change",function(){return R(e),b().invalidateFlowUser()}),d(),u(10,"label",16),m(11,"Contratista"),d(),d(),u(12,"div",9),u(13,"input",17),w("ngModelChange",function(i){return R(e),b().tipoRelacion=i})("change",function(){return R(e),b().invalidateFlowUser()}),d(),u(14,"label",18),m(15,"Proveedor"),d(),u(16,"div",14),m(17," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),d(),d(),d(),d()}if(2&n){const e=b();v(9),C("ngModel",e.tipoRelacion)("ngClass",H(4,ki,e.tipoRelacion,!e.tipoRelacion||e.validacionUsuarioError)),v(4),C("ngModel",e.tipoRelacion)("ngClass",H(7,ki,e.tipoRelacion,!e.tipoRelacion||e.validacionUsuarioError))}}function y4(n,t){1&n&&(u(0,"p"),m(1," Este campo es (*) obligatorio, rellenelo. "),d())}function E4(n,t){1&n&&(u(0,"p"),m(1," No se ha encontrado, se encuentra en espera o ha sido rechazado el registro con la informacion ingresada. "),d())}function b4(n,t){if(1&n){const e=G();u(0,"div",22),u(1,"div",23),u(2,"input",24),w("ngModelChange",function(i){return R(e),b(2).identificator=i})("input",function(){return R(e),b(2).invalidateFlowUser()}),d(),u(3,"label",25),m(4,"Cedula de ciudadania"),u(5,"span",26),m(6,"*"),d(),d(),u(7,"div",14),T(8,y4,2,0,"p",27),T(9,E4,2,0,"p",27),d(),d(),d()}if(2&n){const e=b(2);v(2),C("ngModel",e.identificator)("ngClass",H(5,ki,8===e.identificator.length||10===e.identificator.length,8!==e.identificator.length&&10!==e.identificator.length||e.validacionUsuarioError))("OnlyNumbers",!0),v(6),C("ngIf",!e.validacionUsuarioError),v(1),C("ngIf",e.validacionUsuarioError)}}function A4(n,t){1&n&&(u(0,"p"),m(1," Este campo es (*) obligatorio, rellenelo. "),d())}function w4(n,t){1&n&&(u(0,"p"),m(1," No se ha encontrado, se encuentra en espera o ha sido rechazado el registro con la informacion ingresada. "),d())}function S4(n,t){if(1&n){const e=G();u(0,"div",22),u(1,"label",28),m(2,"NIT (Con digito de verificacion) Ej. 890507890-4"),u(3,"span",26),m(4,"*"),d(),d(),u(5,"div",29),u(6,"input",30),w("ngModelChange",function(i){return R(e),b(2).identificator=i})("input",function(){return R(e),b(2).invalidateFlowUser()}),d(),u(7,"span",31),m(8,"-"),d(),u(9,"input",32),w("ngModelChange",function(i){return R(e),b(2).digitoVerificacion=i})("change",function(){return R(e),b(2).invalidateFlowUser()}),d(),u(10,"div",14),T(11,A4,2,0,"p",27),T(12,w4,2,0,"p",27),d(),d(),d()}if(2&n){const e=b(2);v(6),C("ngModel",e.identificator)("ngClass",H(8,ki,9===e.identificator.length,9!==e.identificator.length||e.validacionUsuarioError))("OnlyNumbers",!0),v(3),C("ngModel",e.digitoVerificacion)("ngClass",H(11,ki,1===e.digitoVerificacion.length,1!==e.digitoVerificacion.length||e.validacionUsuarioError))("OnlyNumbers",!0),v(2),C("ngIf",!e.validacionUsuarioError),v(1),C("ngIf",e.validacionUsuarioError)}}function T4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6,"Informacion de usuario"),d(),d(),T(7,b4,10,8,"div",19),T(8,S4,13,14,"div",19),u(9,"div",20),u(10,"button",21),w("click",function(){return R(e),b().btnValidarUsuarioClick()}),m(11," Validar "),d(),d(),d(),d(),d(),d()}if(2&n){const e=b();v(7),C("ngIf","Natural"===e.tipoPersona),v(1),C("ngIf","Juridica"===e.tipoPersona),v(2),C("disabled",!("Natural"===e.tipoPersona?e.identificator:e.identificator&&e.digitoVerificacion))}}function I4(n,t){if(1&n){const e=G();u(0,"div",9),u(1,"input",36),w("ngModelChange",function(i){return R(e),b(2).tipoGestion=i}),d(),u(2,"label",37),m(3," Anticipo "),d(),d()}if(2&n){const e=b(2);v(1),C("ngModel",e.tipoGestion)}}function D4(n,t){if(1&n){const e=G();u(0,"div",9),u(1,"input",38),w("ngModelChange",function(i){return R(e),b(2).tipoGestion=i}),d(),u(2,"label",39),m(3," Dieta "),d(),d()}if(2&n){const e=b(2);v(1),C("ngModel",e.tipoGestion)}}function F4(n,t){if(1&n){const e=G();u(0,"div",9),u(1,"input",40),w("ngModelChange",function(i){return R(e),b(2).tipoGestion=i}),d(),u(2,"label",41),m(3," Legalizacion "),d(),d()}if(2&n){const e=b(2);v(1),C("ngModel",e.tipoGestion)}}function R4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6,"Tipo de gestion"),d(),d(),d(),u(7,"div",9),u(8,"input",33),w("ngModelChange",function(i){return R(e),b().tipoGestion=i}),d(),u(9,"label",34),m(10," Cuenta de cobro o factura "),d(),d(),T(11,I4,4,1,"div",35),T(12,D4,4,1,"div",35),T(13,F4,4,1,"div",35),d(),d(),d()}if(2&n){const e=b();v(8),C("ngModel",e.tipoGestion),v(3),C("ngIf","Contratista"!==e.tipoRelacion||"Contratista"===e.tipoRelacion&&"Juridica"!==e.tipoPersona),v(1),C("ngIf","Juridica"!==e.tipoPersona&&"Contratista"===e.tipoRelacion),v(1),C("ngIf",!("Juridica"===e.tipoPersona&&"Contratista"===e.tipoRelacion))}}function M4(n,t){if(1&n){const e=G();u(0,"div",9),u(1,"input",42),w("ngModelChange",function(i){return R(e),b(2).tipoLegalizacion=i}),d(),u(2,"label",43),m(3," Desplazamiento "),d(),d()}if(2&n){const e=b(2);v(1),C("ngModel",e.tipoLegalizacion)}}function k4(n,t){if(1&n){const e=G();u(0,"div",9),u(1,"input",44),w("ngModelChange",function(i){return R(e),b(2).tipoLegalizacion=i}),d(),u(2,"label",45),m(3," Suministro y servicios "),d(),d()}if(2&n){const e=b(2);v(1),C("ngModel",e.tipoLegalizacion)}}function N4(n,t){if(1&n&&(u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6,"Tipo de legalizacion"),d(),d(),d(),T(7,M4,4,1,"div",35),T(8,k4,4,1,"div",35),d(),d(),d()),2&n){const e=b();v(7),C("ngIf","Natural"===e.tipoPersona&&"Contratista"===e.tipoRelacion),v(1),C("ngIf","Proveedor"===e.tipoRelacion)}}function P4(n,t){if(1&n&&(u(0,"option",52),m(1),d()),2&n){const e=t.$implicit;C("value",e.Numero),v(1),Gt(" ",e.Aliado+" | "+e.Numero," ")}}function x4(n,t){1&n&&(u(0,"span",26),m(1,"*"),d())}function O4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"label",60),m(2,"Poliza de anticipo y cumpliento"),u(3,"span",26),m(4,"*"),d(),d(),u(5,"app-upload-files",61),w("onFilesChange",function(i){return R(e),b(3).setPolizaAnticipoCumplimientoFiles(i)}),d(),d()}2&n&&(v(5),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."))}function L4(n,t){if(1&n){const e=G();u(0,"div"),u(1,"div",4),u(2,"label",53),m(3,"Cuenta de cobro o factura"),u(4,"span",26),m(5,"*"),d(),d(),u(6,"app-upload-files",54),w("onFilesChange",function(i){return R(e),b(2).setCuentaCobroFacturaFiles(i)}),d(),d(),u(7,"div",4),u(8,"label",55),m(9,"Factura equivalente"),T(10,x4,2,0,"span",56),d(),u(11,"app-upload-files",54),w("onFilesChange",function(i){return R(e),b(2).setFacturaEquivalenteFiles(i)}),d(),d(),u(12,"div",4),u(13,"label",57),m(14),u(15,"span",26),m(16,"*"),d(),d(),u(17,"app-upload-files",54),w("onFilesChange",function(i){return R(e),b(2).setSeguridadSocialParafiscalesFiles(i)}),d(),d(),u(18,"div",4),u(19,"label",58),m(20,"Informe de actividades"),u(21,"span",26),m(22,"*"),d(),d(),u(23,"app-upload-files",59),w("onFilesChange",function(i){return R(e),b(2).setInformeActividadesFiles(i)}),d(),d(),T(24,O4,6,2,"div",1),d()}if(2&n){const e=b(2);v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(4),C("ngIf","Contratista"===e.tipoRelacion),v(1),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(3),$t("Natural"===e.tipoPersona?"Pago de seguridad social vigente (pagado)":"Certificado de parafiscales"),v(3),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(1),C("ngIf","Contratista"===e.tipoRelacion&&"Juridica"===e.tipoPersona)}}function U4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"label",68),m(2,"Camara de comercio (Si aplica)"),d(),u(3,"app-upload-files",69),w("onFilesChange",function(i){return R(e),b(3).setCamaraDeComercioFiles(i)}),d(),d()}2&n&&(v(3),C("contentAsArrayBuffer",!0))}function V4(n,t){if(1&n){const e=G();u(0,"div"),T(1,U4,4,1,"div",1),u(2,"div",4),u(3,"label",62),m(4,"Formato de solicitud de avances"),u(5,"span",26),m(6,"*"),d(),d(),u(7,"app-upload-files",63),w("onFilesChange",function(i){return R(e),b(2).setFormatoSolicitudAvancesFiles(i)}),d(),d(),u(8,"div",4),u(9,"label",64),m(10,"Cotizaciones (Si es el caso)"),d(),u(11,"app-upload-files",65),w("onFilesChange",function(i){return R(e),b(2).setCotizacionesFiles(i)}),d(),d(),u(12,"div",4),u(13,"label",66),m(14,"Solicitudes de comision (Si es el caso)"),d(),u(15,"app-upload-files",67),w("onFilesChange",function(i){return R(e),b(2).setSolicitudesComisionFiles(i)}),d(),d(),d()}if(2&n){const e=b(2);v(1),C("ngIf","Juridica"===e.tipoPersona),v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(4),C("contentAsArrayBuffer",!0),v(4),C("contentAsArrayBuffer",!0)}}function H4(n,t){if(1&n){const e=G();u(0,"div"),u(1,"div",4),u(2,"label",70),m(3,"Formato de solicitud de viajes"),u(4,"span",26),m(5,"*"),d(),d(),u(6,"app-upload-files",71),w("onFilesChange",function(i){return R(e),b(2).setFormatoSolicitudViajesFiles(i)}),d(),d(),d()}2&n&&(v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."))}function B4(n,t){if(1&n){const e=G();u(0,"div"),u(1,"div",4),u(2,"label",72),m(3,"Formato de legalizacion de viajes"),u(4,"span",26),m(5,"*"),d(),d(),u(6,"app-upload-files",73),w("onFilesChange",function(i){return R(e),b(2).setFormatoLegalizacionViajesFiles(i)}),d(),d(),u(7,"div",4),u(8,"label",74),m(9,"Soportes facturas (transporte, alojamiento, imprevistos)"),u(10,"span",26),m(11,"*"),d(),d(),u(12,"app-upload-files",75),w("onFilesChange",function(i){return R(e),b(2).setSoportesFacturasFiles(i)}),d(),d(),u(13,"div",4),u(14,"label",76),m(15,"Pasabordos tiquetes aereos"),u(16,"span",26),m(17,"*"),d(),d(),u(18,"app-upload-files",77),w("onFilesChange",function(i){return R(e),b(2).setPasabordosTiquetesAereosFiles(i)}),d(),d(),u(19,"div",4),u(20,"label",78),m(21,"Informe de actividades"),u(22,"span",26),m(23,"*"),d(),d(),u(24,"app-upload-files",79),w("onFilesChange",function(i){return R(e),b(2).setInformeActividades2Files(i)}),d(),d(),d()}2&n&&(v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."))}function j4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"label",84),m(2,"Certificado de parafiscales"),d(),u(3,"app-upload-files",85),w("onFilesChange",function(i){return R(e),b(3).setSeguridadSocialParafiscalesFiles(i)}),d(),d()}2&n&&(v(3),C("contentAsArrayBuffer",!0))}function q4(n,t){if(1&n){const e=G();u(0,"div"),u(1,"div",4),u(2,"label",80),m(3,"Formato de legalizacion"),u(4,"span",26),m(5,"*"),d(),d(),u(6,"app-upload-files",81),w("onFilesChange",function(i){return R(e),b(2).setFormatoLegalizacionFiles(i)}),d(),d(),u(7,"div",4),u(8,"label",82),m(9,"Cuenta de cobro o factura"),u(10,"span",26),m(11,"*"),d(),d(),u(12,"app-upload-files",83),w("onFilesChange",function(i){return R(e),b(2).setCuentaCobroFacturaFiles(i)}),d(),d(),u(13,"div",4),u(14,"label",74),m(15,"Soportes facturas (transporte, alojamiento, imprevistos)"),u(16,"span",26),m(17,"*"),d(),d(),u(18,"app-upload-files",75),w("onFilesChange",function(i){return R(e),b(2).setSoportesFacturasFiles(i)}),d(),d(),T(19,j4,4,1,"div",1),d()}if(2&n){const e=b(2);v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(6),C("contentAsArrayBuffer",!0)("requiredFeedback","Este campo es (*) obligatorio, cargue almenos 1 archivo."),v(1),C("ngIf","Juridica"===e.tipoPersona)}}function $4(n,t){if(1&n){const e=G();u(0,"div",4),u(1,"div",5),u(2,"div",6),u(3,"div",7),u(4,"div",4),u(5,"h5",8),m(6),d(),d(),u(7,"div",4),u(8,"div",23),u(9,"select",46),w("ngModelChange",function(i){return R(e),b().convenio=i}),Z(10,"option",47),T(11,P4,2,2,"option",48),d(),u(12,"label",49),m(13,"Convenio"),d(),u(14,"div",14),m(15," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),T(16,L4,25,11,"div",27),T(17,V4,16,5,"div",27),T(18,H4,7,2,"div",27),T(19,B4,25,8,"div",27),T(20,q4,20,7,"div",27),u(21,"div",4),u(22,"div",23),u(23,"input",50),w("ngModelChange",function(i){return R(e),b().infoAdicional=i}),d(),u(24,"label",51),m(25,"Informacion adicional"),d(),d(),d(),d(),d(),d(),d()}if(2&n){const e=b();v(6),sf(" ",e.tipoPersona," - ",e.tipoRelacion," - ",e.tipoGestion,"","Legalizacion"===e.tipoGestion?" - "+e.tipoLegalizacion:""," "),v(3),C("ngModel",e.convenio)("ngClass",H(13,ki,e.convenio,!e.convenio)),v(2),C("ngForOf",e.convenios),v(5),C("ngIf","Cuenta de cobro"===e.tipoGestion),v(1),C("ngIf","Anticipo"===e.tipoGestion),v(1),C("ngIf","Dieta"===e.tipoGestion),v(1),C("ngIf","Desplazamiento"===e.tipoLegalizacion),v(1),C("ngIf","Suministro y servicios"===e.tipoLegalizacion),v(3),C("ngModel",e.infoAdicional)}}function G4(n,t){if(1&n){const e=G();u(0,"div",86),u(1,"a",87),w("click",function(){return R(e),b().btnPreviousClick()}),m(2,"Anterior"),d(),d()}}const z4=function(n){return{"col-12":n}},$S=function(n){return{disabled:n}};function W4(n,t){if(1&n){const e=G();u(0,"div",88),u(1,"a",89),w("click",function(){return R(e),b().btnNextClick()}),m(2,"Siguiente"),d(),d()}if(2&n){const e=b();C("ngClass",Hn(2,z4,0===e.formIndex)),v(1),C("ngClass",Hn(4,$S,!e.isValid()))}}function K4(n,t){if(1&n){const e=G();u(0,"div",86),u(1,"a",89),w("click",function(){return R(e),b().btnSubmitClick()}),m(2,"Enviar"),d(),d()}if(2&n){const e=b();v(1),C("ngClass",Hn(1,$S,!e.isValid()))}}let Q4=(()=>{class n{constructor(e,r){this.formsService=e,this.sharedService=r,this.formIndex=0,this.tipoPersona="",this.tipoRelacion="",this.identificator="",this.digitoVerificacion="",this.validacionUsuarioError=!1,this.tipoGestion="",this.convenios=[],this.convenio="",this.cuentaCobroFacturaFiles=[],this.facturaEquivalenteFiles=[],this.seguridadSocialParafiscalesFiles=[],this.informeActividadesFiles=[],this.polizaAnticipoCumplimientoFiles=[],this.camaraComercioFiles=[],this.formatoSolicitudAvancesFiles=[],this.cotizacionesFiles=[],this.solicitudesComisionFiles=[],this.formatoSolicitudViajesFiles=[],this.formatoLegalizacionViajesFiles=[],this.soportesFacturasFiles=[],this.pasabordosTiquetesAereosFiles=[],this.informeActividades2Files=[],this.formatoLegalizacionFiles=[],this.infoAdicional="",this.onWaitTasksChange=new Re,this.onToastMessagesChange=new Re}setCuentaCobroFacturaFiles(e){this.cuentaCobroFacturaFiles=e}setFacturaEquivalenteFiles(e){this.facturaEquivalenteFiles=e}setSeguridadSocialParafiscalesFiles(e){this.seguridadSocialParafiscalesFiles=e}setInformeActividadesFiles(e){this.informeActividadesFiles=e}setPolizaAnticipoCumplimientoFiles(e){this.polizaAnticipoCumplimientoFiles=e}setCamaraDeComercioFiles(e){this.camaraComercioFiles=e}setFormatoSolicitudAvancesFiles(e){this.formatoSolicitudAvancesFiles=e}setCotizacionesFiles(e){this.cotizacionesFiles=e}setSolicitudesComisionFiles(e){this.solicitudesComisionFiles=e}setFormatoSolicitudViajesFiles(e){this.formatoSolicitudViajesFiles=e}setFormatoLegalizacionViajesFiles(e){this.formatoLegalizacionViajesFiles=e}setSoportesFacturasFiles(e){this.soportesFacturasFiles=e}setPasabordosTiquetesAereosFiles(e){this.pasabordosTiquetesAereosFiles=e}setInformeActividades2Files(e){this.informeActividades2Files=e}setFormatoLegalizacionFiles(e){this.formatoLegalizacionFiles=e}ngOnInit(){}invalidateFlowUser(){this.contratistaProveedorInformation=void 0,this.validacionUsuarioError=!1}btnValidarUsuarioClick(){this.invalidateFlowUser();const e=$.makeRandomString(4);this.formsService.validateFlowUser(this.tipoPersona,this.tipoRelacion,"Juridica"===this.tipoPersona?`${this.identificator}-${this.digitoVerificacion}`:this.identificator).subscribe(r=>{switch(r.type){case I.Sent:this.sharedService.pushWaitTask({id:e,description:"Validando informacion...",progress:0});break;case I.DownloadProgress:this.sharedService.pushWaitTask({id:e,progress:Math.round(100*r.loaded/r.total)});break;case I.Response:switch(this.sharedService.removeWaitTask({id:e}),r.body.userInfo.fields.Estado){case"Esperando verificacion":this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Registro en espera de aprobacion",description:`Hola ${r.body.userInfo.fields.Nombre_x0020_o_x0020_razon_x0020}, su peticion de registro aun se encuentra siendo procesada, vuelva mas tarde y, recuerde que cuando su peticion de registro sea respondida recibira una notificacion en su Email.`,autohide:2e4}),this.validacionUsuarioError=!0;break;case"Verificado":this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:`Bienvenido ${r.body.userInfo.fields.Nombre_x0020_o_x0020_razon_x0020}`,description:`Hola ${r.body.userInfo.fields.Nombre_x0020_o_x0020_razon_x0020}, esperamos tengas la mejor de las estancias.`}),this.contratistaProveedorInformation=r.body.userInfo;break;case"Rechazado":this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Registro rechazado",description:`Hola ${r.body.userInfo.fields.Nombre_x0020_o_x0020_razon_x0020}, la ultima peticion de registro con esta informacion ha sido rechazada, verifiquela y vuelva a intentarlo o registrese <a href="/forms/financiera/registration">aqui</a>.`,autohide:2e4}),this.validacionUsuarioError=!0}}},r=>{404===(this.sharedService.removeWaitTask({id:e}),r.status)&&(this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Registro no encontrado",description:'No se ha encontrado ningun registro con la informacion ingresada, verifiquela y vuelva a intentarlo o registrese <a href="/forms/financiera/registration">aqui</a>.',autohide:2e4}),this.validacionUsuarioError=!0)})}btnPreviousClick(){var e;switch(null===(e=document.getElementById("firstElement"))||void 0===e||e.scrollIntoView({behavior:"smooth"}),this.formIndex){case 1:this.tipoPersona="",this.tipoRelacion="";break;case 2:this.identificator="",this.digitoVerificacion="",this.contratistaProveedorInformation=void 0,this.validacionUsuarioError=!1;break;case 2.1:return this.tipoGestion="",void(this.formIndex=2);case 3:if("Legalizacion"===this.tipoGestion)return this.tipoLegalizacion="",void(this.formIndex=2.1);this.tipoGestion=""}this.formIndex--}btnNextClick(){var e;null===(e=document.getElementById("firstElement"))||void 0===e||e.scrollIntoView({behavior:"smooth"});const r=$.makeRandomString(4);switch(this.formIndex){case 0:this.identificator="",this.digitoVerificacion="",this.contratistaProveedorInformation=void 0,this.validacionUsuarioError=!1;break;case 1:this.tipoGestion="";break;case 2:if("Legalizacion"===this.tipoGestion)return this.tipoLegalizacion="",void(this.formIndex=2.1);switch(this.convenio="",this.tipoGestion){case"Cuenta de cobro":this.cuentaCobroFacturaFiles=[],this.facturaEquivalenteFiles=[],this.seguridadSocialParafiscalesFiles=[],this.informeActividadesFiles=[];break;case"Anticipo":this.formatoSolicitudAvancesFiles=[];break;case"Dieta":this.formatoSolicitudViajesFiles=[]}this.formsService.getConvenios().subscribe(i=>{switch(i.type){case I.Sent:this.sharedService.pushWaitTask({id:r,description:"Cargando convenios...",progress:0});break;case I.DownloadProgress:this.sharedService.pushWaitTask({id:r,progress:Math.round(100*i.loaded/i.total)});break;case I.Response:this.convenios=[],i.body.value.forEach(o=>{this.convenios.push({Id:o.id,Aliado:o.fields.Aliado,Numero:o.fields.Numero,Mostrar:o.fields.Mostrar})}),this.sharedService.removeWaitTask({id:r})}});break;case 2.1:switch(this.convenio="",this.tipoGestion){case"Cuenta de cobro":this.cuentaCobroFacturaFiles=[],this.facturaEquivalenteFiles=[],this.seguridadSocialParafiscalesFiles=[],this.informeActividadesFiles=[];break;case"Anticipo":this.formatoSolicitudAvancesFiles=[];break;case"Dieta":this.formatoSolicitudViajesFiles=[];break;case"Legalizacion":"Desplazamiento"===this.tipoLegalizacion&&(this.formatoLegalizacionViajesFiles=[],this.soportesFacturasFiles=[],this.pasabordosTiquetesAereosFiles=[],this.informeActividades2Files=[])}return this.formsService.getConvenios().subscribe(i=>{switch(i.type){case I.Sent:this.sharedService.pushWaitTask({id:r,description:"Cargando convenios...",progress:0});break;case I.DownloadProgress:this.sharedService.pushWaitTask({id:r,progress:Math.round(100*i.loaded/i.total)});break;case I.Response:this.convenios=[],i.body.value.forEach(o=>{this.convenios.push({Id:o.id,Aliado:o.fields.Aliado,Numero:o.fields.Numero,Mostrar:o.fields.Mostrar})}),this.sharedService.removeWaitTask({id:r})}}),void(this.formIndex=3)}this.formIndex++}validateEmail(e){return $.validateEmail(e)}isDevMode(){return Bf()}btnSubmitClick(){var e=this;return Eg(function*(){var r;null===(r=document.getElementById("firstElement"))||void 0===r||r.scrollIntoView({behavior:"smooth"});let i={Id:$.makeRandomString(32),TipoPersona:e.tipoPersona,TipoRelacion:e.tipoRelacion,Identificator:"Natural"===e.tipoPersona?e.identificator:`${e.identificator}-${e.digitoVerificacion}`,Email:e.contratistaProveedorInformation.fields.Emaildecontacto,TipoGestion:e.tipoGestion,TipoLegalizacion:e.tipoLegalizacion,Convenio:e.convenio,InformacionAdicional:e.infoAdicional,Requestor:e.contratistaProveedorInformation};const o=$.makeRandomString(4);if("Natural"===e.tipoPersona)switch(e.tipoGestion){case"Cuenta de cobro":e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de cuenta de cobro o factura...",progress:0});for(let s=0;e.cuentaCobroFacturaFiles.length>s;s++)yield e.formsService.postUploadFile(e.cuentaCobroFacturaFiles[s].Name,e.cuentaCobroFacturaFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.cuentaCobroFacturaFiles[s].Bytes,e.cuentaCobroFacturaFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de factura equivalente...",progress:0});for(let s=0;e.facturaEquivalenteFiles.length>s;s++)yield e.formsService.postUploadFile(e.facturaEquivalenteFiles[s].Name,e.facturaEquivalenteFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.facturaEquivalenteFiles[s].Bytes,e.facturaEquivalenteFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:`Subiendo archivos de ${"Natural"===e.tipoPersona?"seguridad social":"parafiscales"}...`,progress:0});for(let s=0;e.seguridadSocialParafiscalesFiles.length>s;s++)yield e.formsService.postUploadFile(e.seguridadSocialParafiscalesFiles[s].Name,e.seguridadSocialParafiscalesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.seguridadSocialParafiscalesFiles[s].Bytes,e.seguridadSocialParafiscalesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de informe de actividades...",progress:0});for(let s=0;e.informeActividadesFiles.length>s;s++)yield e.formsService.postUploadFile(e.informeActividadesFiles[s].Name,e.informeActividadesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.informeActividadesFiles[s].Bytes,e.informeActividadesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.removeWaitTask({id:o}),i=Object.assign(i,{CuentaCobroFiles:e.cuentaCobroFacturaFiles,FacturaEquivalenteFiles:e.facturaEquivalenteFiles,SeguridadSocialFiles:e.seguridadSocialParafiscalesFiles,InformeActividadesFiles:e.informeActividadesFiles}),e.informeActividadesFiles=[],e.seguridadSocialParafiscalesFiles=[],e.facturaEquivalenteFiles=[],e.cuentaCobroFacturaFiles=[];break;case"Anticipo":e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de formato de solicitud de avances...",progress:0});for(let s=0;e.formatoSolicitudAvancesFiles.length>s;s++)yield e.formsService.postUploadFile(e.formatoSolicitudAvancesFiles[s].Name,e.formatoSolicitudAvancesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.formatoSolicitudAvancesFiles[s].Bytes,e.formatoSolicitudAvancesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de cotizaciones...",progress:0});for(let s=0;e.cotizacionesFiles.length>s;s++)yield e.formsService.postUploadFile(e.cotizacionesFiles[s].Name,e.cotizacionesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.cotizacionesFiles[s].Bytes,e.cotizacionesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de solicitudes de comision...",progress:0});for(let s=0;e.solicitudesComisionFiles.length>s;s++)yield e.formsService.postUploadFile(e.solicitudesComisionFiles[s].Name,e.solicitudesComisionFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.solicitudesComisionFiles[s].Bytes,e.solicitudesComisionFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();i=Object.assign(i,{FormatoSolicitudAvancesFiles:e.formatoSolicitudAvancesFiles,CotizacionesFiles:e.cotizacionesFiles,SolicitudesComisionFiles:e.solicitudesComisionFiles}),e.solicitudesComisionFiles=[],e.cotizacionesFiles=[],e.formatoSolicitudAvancesFiles=[];break;case"Dieta":e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de formato de solicitud de viajes...",progress:0});for(let s=0;e.formatoSolicitudViajesFiles.length>s;s++)yield e.formsService.postUploadFile(e.formatoSolicitudViajesFiles[s].Name,e.formatoSolicitudViajesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.formatoSolicitudViajesFiles[s].Bytes,e.formatoSolicitudViajesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();i=Object.assign(i,{FormatoSolicitudViajesFiles:e.formatoSolicitudViajesFiles}),e.formatoSolicitudViajesFiles=[];break;case"Legalizacion":switch(e.tipoLegalizacion){case"Desplazamiento":e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de formato de legalizacion de viajes...",progress:0});for(let s=0;e.formatoLegalizacionViajesFiles.length>s;s++)yield e.formsService.postUploadFile(e.formatoLegalizacionViajesFiles[s].Name,e.formatoLegalizacionViajesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.formatoLegalizacionViajesFiles[s].Bytes,e.formatoLegalizacionViajesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de soportes de facturas...",progress:0});for(let s=0;e.soportesFacturasFiles.length>s;s++)yield e.formsService.postUploadFile(e.soportesFacturasFiles[s].Name,e.soportesFacturasFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.soportesFacturasFiles[s].Bytes,e.soportesFacturasFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de pasabordos tiquetes aereos...",progress:0});for(let s=0;e.pasabordosTiquetesAereosFiles.length>s;s++)yield e.formsService.postUploadFile(e.pasabordosTiquetesAereosFiles[s].Name,e.pasabordosTiquetesAereosFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.pasabordosTiquetesAereosFiles[s].Bytes,e.pasabordosTiquetesAereosFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de informe de actividades...",progress:0});for(let s=0;e.informeActividades2Files.length>s;s++)yield e.formsService.postUploadFile(e.informeActividades2Files[s].Name,e.informeActividades2Files[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.informeActividades2Files[s].Bytes,e.informeActividades2Files[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();i=Object.assign(i,{FormatoLegalizacionViajesFiles:e.formatoLegalizacionViajesFiles,SoportesFacturasFiles:e.soportesFacturasFiles,PasabordosTiquetesAereosFiles:e.pasabordosTiquetesAereosFiles,InformeActividadesFiles:e.informeActividades2Files}),e.formatoLegalizacionViajesFiles=[],e.soportesFacturasFiles=[],e.pasabordosTiquetesAereosFiles=[],e.informeActividades2Files=[];break;case"Suministro y servicios":e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de formato de legalizacion...",progress:0});for(let s=0;e.formatoLegalizacionFiles.length>s;s++)yield e.formsService.postUploadFile(e.formatoLegalizacionFiles[s].Name,e.formatoLegalizacionFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.formatoLegalizacionFiles[s].Bytes,e.formatoLegalizacionFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de cuenta de cobro o factura...",progress:0});for(let s=0;e.cuentaCobroFacturaFiles.length>s;s++)yield e.formsService.postUploadFile(e.cuentaCobroFacturaFiles[s].Name,e.cuentaCobroFacturaFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.cuentaCobroFacturaFiles[s].Bytes,e.cuentaCobroFacturaFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de soportes facturas...",progress:0});for(let s=0;e.soportesFacturasFiles.length>s;s++)yield e.formsService.postUploadFile(e.soportesFacturasFiles[s].Name,e.soportesFacturasFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.soportesFacturasFiles[s].Bytes,e.soportesFacturasFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();i=Object.assign(i,{FormatoLegalizacionFiles:e.formatoLegalizacionFiles,CuentaCobroFiles:e.cuentaCobroFacturaFiles,SoportesFacturasFiles:e.soportesFacturasFiles}),e.formatoLegalizacionFiles=[],e.cuentaCobroFacturaFiles=[],e.soportesFacturasFiles=[]}}else switch(e.tipoGestion){case"Cuenta de cobro":e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de cuenta de cobro o factura...",progress:0});for(let s=0;e.cuentaCobroFacturaFiles.length>s;s++)yield e.formsService.postUploadFile(e.cuentaCobroFacturaFiles[s].Name,e.cuentaCobroFacturaFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.cuentaCobroFacturaFiles[s].Bytes,e.cuentaCobroFacturaFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de factura equivalente...",progress:0});for(let s=0;e.facturaEquivalenteFiles.length>s;s++)yield e.formsService.postUploadFile(e.facturaEquivalenteFiles[s].Name,e.facturaEquivalenteFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.facturaEquivalenteFiles[s].Bytes,e.facturaEquivalenteFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de parafiscales...",progress:0});for(let s=0;e.seguridadSocialParafiscalesFiles.length>s;s++)yield e.formsService.postUploadFile(e.seguridadSocialParafiscalesFiles[s].Name,e.seguridadSocialParafiscalesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.seguridadSocialParafiscalesFiles[s].Bytes,e.seguridadSocialParafiscalesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de informe de actividades...",progress:0});for(let s=0;e.informeActividadesFiles.length>s;s++)yield e.formsService.postUploadFile(e.informeActividadesFiles[s].Name,e.informeActividadesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.informeActividadesFiles[s].Bytes,e.informeActividadesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();if(i=Object.assign(i,{CuentaCobroFiles:e.cuentaCobroFacturaFiles,FacturaEquivalenteFiles:e.facturaEquivalenteFiles,CertificadoParafiscalesFiles:e.seguridadSocialParafiscalesFiles,InformeActividadesFiles:e.informeActividadesFiles}),"Contratista"===e.tipoRelacion){e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de poliza de anticipo de cumplimiento...",progress:0});for(let s=0;e.polizaAnticipoCumplimientoFiles.length>s;s++)yield e.formsService.postUploadFile(e.polizaAnticipoCumplimientoFiles[s].Name,e.polizaAnticipoCumplimientoFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.polizaAnticipoCumplimientoFiles[s].Bytes,e.polizaAnticipoCumplimientoFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();i=Object.assign(i,{PolizaAnticipoCumplientoFiles:e.polizaAnticipoCumplimientoFiles}),e.polizaAnticipoCumplimientoFiles=[]}e.informeActividadesFiles=[],e.seguridadSocialParafiscalesFiles=[],e.facturaEquivalenteFiles=[],e.cuentaCobroFacturaFiles=[];break;case"Anticipo":e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de camara de comercio...",progress:0});for(let s=0;e.camaraComercioFiles.length>s;s++)yield e.formsService.postUploadFile(e.camaraComercioFiles[s].Name,e.camaraComercioFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.camaraComercioFiles[s].Bytes,e.camaraComercioFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de solicitud de avances...",progress:0});for(let s=0;e.formatoSolicitudAvancesFiles.length>s;s++)yield e.formsService.postUploadFile(e.formatoSolicitudAvancesFiles[s].Name,e.formatoSolicitudAvancesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.formatoSolicitudAvancesFiles[s].Bytes,e.formatoSolicitudAvancesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de cotizaciones...",progress:0});for(let s=0;e.cotizacionesFiles.length>s;s++)yield e.formsService.postUploadFile(e.cotizacionesFiles[s].Name,e.cotizacionesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.cotizacionesFiles[s].Bytes,e.cotizacionesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de solicitudes de comision...",progress:0});for(let s=0;e.solicitudesComisionFiles.length>s;s++)yield e.formsService.postUploadFile(e.solicitudesComisionFiles[s].Name,e.solicitudesComisionFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.solicitudesComisionFiles[s].Bytes,e.solicitudesComisionFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();i=Object.assign(i,{CamaraComercioFiles:e.camaraComercioFiles,FormatoSolicitudAvancesFiles:e.formatoSolicitudAvancesFiles,CotizacionesFiles:e.cotizacionesFiles,SolicitudesComisionFiles:e.solicitudesComisionFiles}),e.solicitudesComisionFiles=[],e.cotizacionesFiles=[],e.camaraComercioFiles=[],e.formatoSolicitudAvancesFiles=[];break;case"Legalizacion":if("Suministro y servicios"===e.tipoLegalizacion){e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de formato de legalizacion...",progress:0});for(let s=0;e.formatoLegalizacionFiles.length>s;s++)yield e.formsService.postUploadFile(e.formatoLegalizacionFiles[s].Name,e.formatoLegalizacionFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.formatoLegalizacionFiles[s].Bytes,e.formatoLegalizacionFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de cuenta de cobro o factura...",progress:0});for(let s=0;e.cuentaCobroFacturaFiles.length>s;s++)yield e.formsService.postUploadFile(e.cuentaCobroFacturaFiles[s].Name,e.cuentaCobroFacturaFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.cuentaCobroFacturaFiles[s].Bytes,e.cuentaCobroFacturaFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de soportes facturas...",progress:0});for(let s=0;e.soportesFacturasFiles.length>s;s++)yield e.formsService.postUploadFile(e.soportesFacturasFiles[s].Name,e.soportesFacturasFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.soportesFacturasFiles[s].Bytes,e.soportesFacturasFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();e.sharedService.pushWaitTask({id:o,description:"Subiendo archivos de certificado de parafiscales...",progress:0});for(let s=0;e.seguridadSocialParafiscalesFiles.length>s;s++)yield e.formsService.postUploadFile(e.seguridadSocialParafiscalesFiles[s].Name,e.seguridadSocialParafiscalesFiles[s].Bytes).pipe(W(a=>{switch(a.type){case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*a.loaded/a.total)});break;case I.Response:delete e.seguridadSocialParafiscalesFiles[s].Bytes,e.seguridadSocialParafiscalesFiles[s].ServerPath=a.body}}),be(a=>ke(a))).toPromise();i=Object.assign(i,{FormatoLegalizacionFiles:e.formatoLegalizacionFiles,CuentaCobroFiles:e.cuentaCobroFacturaFiles,SoportesFacturasFiles:e.soportesFacturasFiles,CertificadoParafiscalesFiles:e.seguridadSocialParafiscalesFiles}),e.formatoLegalizacionFiles=[],e.cuentaCobroFacturaFiles=[],e.soportesFacturasFiles=[],e.seguridadSocialParafiscalesFiles=[]}}e.infoAdicional="",e.convenio="",e.tipoLegalizacion="",e.tipoGestion="",e.digitoVerificacion="",e.invalidateFlowUser(),e.identificator="",e.tipoRelacion="",e.tipoPersona="",e.formIndex=0,e.formsService.postFormsFinancieraInvoice(i).subscribe(s=>{switch(s.type){case I.Sent:e.sharedService.pushWaitTask({id:o,description:`Enviando ${("Legalizacion"===i.TipoGestion?`${i.TipoGestion} de tipo ${i.TipoLegalizacion}`:i.TipoGestion).toLowerCase()}...`,progress:0});break;case I.UploadProgress:e.sharedService.pushWaitTask({id:o,progress:Math.round(100*s.loaded/s.total)})}},s=>{e.sharedService.removeWaitTask({id:o}),e.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Ha ocurrido un problema",description:`No se ha podido enviar su ${("Legalizacion"===i.TipoGestion?`${i.TipoGestion} de tipo ${i.TipoLegalizacion}`:i.TipoGestion).toLowerCase()} debido a que ha ocurrido un problema mientras se intentaba enviar la peticion, vuelva a intentarlo.`,autohide:3e4})},()=>{e.sharedService.removeWaitTask({id:o}),e.sharedService.pushToastMessage({id:$.makeRandomString(4),title:`${"Legalizacion"===i.TipoGestion?`${i.TipoGestion} de tipo ${i.TipoLegalizacion}`:i.TipoGestion} enviada satisfactoriamente`,description:`Su ${("Legalizacion"===i.TipoGestion?`${i.TipoGestion} de tipo ${i.TipoLegalizacion}`:i.TipoGestion).toLowerCase()} ha sido ingresada correctamente y sera procesada en la mayor brevedad posible, este atento al correo electronico registrado por el cual se le notificara del estado y manera de validacion de la peticion.`,autohide:3e4})})})()}isValid(e=this.formIndex){switch(e){case 0:return this.tipoPersona&&this.tipoRelacion;case 1:return this.contratistaProveedorInformation;case 2:return this.tipoGestion;case 2.1:return this.tipoLegalizacion;case 3:if(!this.convenio)return!1;switch(this.tipoGestion){case"Cuenta de cobro":return $.validateFiles(this.cuentaCobroFacturaFiles)&&$.validateFiles(this.facturaEquivalenteFiles)&&$.validateFiles(this.seguridadSocialParafiscalesFiles)&&$.validateFiles(this.informeActividadesFiles)&&("Contratista"!==this.tipoRelacion||"Juridica"!==this.tipoPersona||$.validateFiles(this.polizaAnticipoCumplimientoFiles));case"Anticipo":return $.validateFiles(this.formatoSolicitudAvancesFiles);case"Dieta":return $.validateFiles(this.formatoSolicitudViajesFiles);case"Legalizacion":switch(this.tipoLegalizacion){case"Desplazamiento":return $.validateFiles(this.formatoLegalizacionViajesFiles)&&$.validateFiles(this.soportesFacturasFiles)&&$.validateFiles(this.pasabordosTiquetesAereosFiles)&&$.validateFiles(this.informeActividades2Files);case"Suministro y servicios":return $.validateFiles(this.formatoLegalizacionFiles)&&$.validateFiles(this.cuentaCobroFacturaFiles)&&$.validateFiles(this.soportesFacturasFiles);default:return!1}default:return!1}default:return!1}}}return n.\u0275fac=function(e){return new(e||n)(D(Ii),D(lo))},n.\u0275cmp=ft({type:n,selectors:[["app-forms-financiera-invoice"]],outputs:{onWaitTasksChange:"onWaitTasksChange",onToastMessagesChange:"onToastMessagesChange"},decls:10,vars:9,consts:[["id","firstElement","name","firstElement",1,"row","g-3"],["class","col-12",4,"ngIf"],["class","d-grid gap-2 col-6 mx-auto mb-2",4,"ngIf"],["class","d-grid gap-2 col-6 mx-auto mb-2",3,"ngClass",4,"ngIf"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","g-3"],[1,"card-title","text-center"],[1,"form-check"],["type","radio","name","tipoPersonaNatural","id","tipoPersonaNatural","value","Natural",1,"form-check-input",3,"ngModel","ngClass","ngModelChange","change"],["for","tipoPersonaNatural",1,"form-check-label"],["type","radio","name","tipoPersonaJuridica","id","tipoPersonaJuridica","value","Juridica",1,"form-check-input",3,"ngModel","ngClass","ngModelChange","change"],["for","tipoPersonaJuridica",1,"form-check-label"],[1,"invalid-feedback"],["type","radio","name","tipoRelacionContratista","id","tipoRelacionContratista","value","Contratista",1,"form-check-input",3,"ngModel","ngClass","ngModelChange","change"],["for","tipoRelacionContratista",1,"form-check-label"],["type","radio","name","tipoRelacionProveedor","id","tipoRelacionProveedor","value","Proveedor",1,"form-check-input",3,"ngModel","ngClass","ngModelChange","change"],["for","tipoRelacionProveedor",1,"form-check-label"],["class","col-9 col-md-10 col-xl-11",4,"ngIf"],[1,"col-3","col-md-2","col-xl-1","d-grid","grap-2","mx-auto"],[1,"btn","btn-primary",3,"disabled","click"],[1,"col-9","col-md-10","col-xl-11"],[1,"form-floating"],["type","text","name","floatingInputIdentificator","id","floatingInputIdentificator","placeholder","\\0","maxlength","10",1,"form-control",3,"ngModel","ngClass","OnlyNumbers","ngModelChange","input"],["for","floatingInputIdentificator"],[1,"text-danger"],[4,"ngIf"],["for","inputNIT1",1,"form-label"],[1,"input-group"],["type","text","placeholder","NIT Ej. 890507890","aria-label","NIT Ej. 890507890","name","inputNIT1","maxlength","9",1,"form-control",2,"z-index","0",3,"ngModel","ngClass","OnlyNumbers","ngModelChange","input"],[1,"input-group-text"],["type","text","placeholder","Digito de verificacion Ej. 4","aria-label","Digito de verificacion Ej. 4","name","inputNIT2","maxlength","1",1,"form-control",2,"z-index","0",3,"ngModel","ngClass","OnlyNumbers","ngModelChange","change"],["type","radio","name","tipoSoporteContable0","id","tipoSoporteContable0","value","Cuenta de cobro",1,"form-check-input",3,"ngModel","ngModelChange"],["for","tipoSoporteContable0",1,"form-check-label"],["class","form-check",4,"ngIf"],["type","radio","name","tipoSoporteContable1","id","tipoSoporteContable1","value","Anticipo",1,"form-check-input",3,"ngModel","ngModelChange"],["for","tipoSoporteContable1",1,"form-check-label"],["type","radio","name","tipoSoporteContable2","id","tipoSoporteContable2","value","Dieta",1,"form-check-input",3,"ngModel","ngModelChange"],["for","tipoSoporteContable2",1,"form-check-label"],["type","radio","name","tipoSoporteContable3","id","tipoSoporteContable3","value","Legalizacion",1,"form-check-input",3,"ngModel","ngModelChange"],["for","tipoSoporteContable3",1,"form-check-label"],["type","radio","name","tipoLegalizacion0","id","tipoLegalizacion0","value","Desplazamiento",1,"form-check-input",3,"ngModel","ngModelChange"],["for","tipoLegalizacion0",1,"form-check-label"],["type","radio","name","tipoLegalizacion1","id","tipoLegalizacion1","value","Suministro y servicios",1,"form-check-input",3,"ngModel","ngModelChange"],["for","tipoLegalizacion1",1,"form-check-label"],["id","convenio","name","convenio",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","convenio"],["type","text","name","inputInformacionAdicional","id","inputInformacionAdicional","placeholder","\\0","maxlength","255",1,"form-control",3,"ngModel","ngModelChange"],["for","inputInformacionAdicional"],[3,"value"],["for","fieldCuentaCobroFacturaFiles",1,"form-label"],[3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","fieldFacturaEquivalenteFiles",1,"form-label"],["class","text-danger",4,"ngIf"],["for","fieldPagoSeguridadSocialFiles",1,"form-label"],["for","uploadFilesInformeActividades",1,"form-label"],["name","uploadFilesInformeActividades","id","uploadFilesInformeActividades",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesPolizaAnticipoCumplimiento",1,"form-label"],["name","uploadFilesPolizaAnticipoCumplimiento","id","uploadFilesPolizaAnticipoCumplimiento",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesFormatoSolicitudAvances",1,"form-label"],["id","uploadFilesFormatoSolicitudAvances","name","uploadFilesFormatoSolicitudAvances",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesCotizaciones",1,"form-label"],["id","uploadFilesCotizaciones","name","uploadFilesCotizaciones",3,"contentAsArrayBuffer","onFilesChange"],["for","uploadFilesSolicitudComisiones",1,"form-label"],["id","uploadFilesSolicitudComisiones","name","uploadFilesSolicitudComisiones",3,"contentAsArrayBuffer","onFilesChange"],["for","uploadFilesCamaraComercio",1,"form-label"],["id","uploadFilesCamaraComercio","name","uploadFilesCamaraComercio",3,"contentAsArrayBuffer","onFilesChange"],["for","uploadFilesFormatoSolicitudViajes",1,"form-label"],["id","uploadFilesFormatoSolicitudViajes","name","uploadFilesFormatoSolicitudViajes",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesFormatoLegalizacionViajes",1,"form-label"],["id","uploadFilesFormatoLegalizacionViajes","name","uploadFilesFormatoLegalizacionViajes",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesSoportesFacturas",1,"form-label"],["id","uploadFilesSoportesFacturas","name","uploadFilesSoportesFacturas",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesPasabordosTiquetesAereos",1,"form-label"],["id","uploadFilesPasabordosTiquetesAereos","name","uploadFilesPasabordosTiquetesAereos",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesInforme2Actividades",1,"form-label"],["id","uploadFilesInforme2Actividades","name","uploadFilesInforme2Actividades",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesFormatoLegalizacion",1,"form-label"],["id","uploadFilesFormatoLegalizacion","name","uploadFilesFormatoLegalizacion",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilescuentaCobroFactura",1,"form-label"],["id","uploadFilescuentaCobroFactura","name","uploadFilescuentaCobroFactura",3,"contentAsArrayBuffer","requiredFeedback","onFilesChange"],["for","uploadFilesPagoSeguridadSocial",1,"form-label"],["id","uploadFilesPagoSeguridadSocial","name","uploadFilesPagoSeguridadSocial",3,"contentAsArrayBuffer","onFilesChange"],[1,"d-grid","gap-2","col-6","mx-auto","mb-2"],["role","button",1,"btn","btn-primary",3,"click"],[1,"d-grid","gap-2","col-6","mx-auto","mb-2",3,"ngClass"],["role","button",1,"btn","btn-primary",3,"ngClass","click"]],template:function(e,r){1&e&&(u(0,"div",0),T(1,_4,18,10,"div",1),T(2,C4,18,10,"div",1),T(3,T4,12,3,"div",1),T(4,R4,14,4,"div",1),T(5,N4,9,2,"div",1),T(6,$4,26,16,"div",1),T(7,G4,3,0,"div",2),T(8,W4,3,6,"div",3),T(9,K4,3,3,"div",2),d()),2&e&&(v(1),C("ngIf",0===r.formIndex),v(1),C("ngIf",0===r.formIndex),v(1),C("ngIf",1===r.formIndex),v(1),C("ngIf",2===r.formIndex),v(1),C("ngIf",2.1===r.formIndex),v(1),C("ngIf",3===r.formIndex),v(1),C("ngIf",r.formIndex>0),v(1),C("ngIf",3!==r.formIndex),v(1),C("ngIf",3===r.formIndex))},directives:[Rn,pc,ii,Mi,oi,Gn,go,mc,si,fo,po,fr,Ou],styles:[""]}),n})();function J4(n,t){if(1&n&&(u(0,"option",14),m(1),d()),2&n){const e=t.$implicit;C("disabled",b().yearIsInThePast(e))("value",e),v(1),Gt(" ",e," ")}}function Y4(n,t){1&n&&(u(0,"span",15),m(1,"*"),d())}function Z4(n,t){if(1&n&&(u(0,"div",16),m(1),d()),2&n){const e=b();v(1),Gt(" ",e.requiredFeedbackYear," ")}}function X4(n,t){if(1&n&&(u(0,"option",14),m(1),d()),2&n){const e=t.$implicit;C("disabled",b().monthIsInThePast(e.number))("value",e.number),v(1),Gt(" ",e.month," ")}}function eH(n,t){1&n&&(u(0,"span",15),m(1,"*"),d())}function tH(n,t){if(1&n&&(u(0,"div",16),m(1),d()),2&n){const e=b();v(1),Gt(" ",e.requiredFeedbackMonth," ")}}function nH(n,t){if(1&n&&(u(0,"option",14),m(1),d()),2&n){const e=t.$implicit;C("disabled",b().dayIsInThePast(e))("value",e),v(1),Gt(" ",e," ")}}const rH=function(n,t){return{"text-light":n,"text-danger":t}};function iH(n,t){if(1&n&&(u(0,"span",17),m(1,"*"),d()),2&n){const e=b();C("ngClass",H(1,rH,!e.month||!e.year,e.month&&e.year))}}function oH(n,t){if(1&n&&(u(0,"div",16),m(1),d()),2&n){const e=b();v(1),Gt(" ",e.requiredFeedbackDay," ")}}const Hg=function(n,t){return{"is-valid":n,"is-invalid":t}};let sH=(()=>{class n{constructor(){this.allowPass=!0,this.requiredFeedbackDay="",this.requiredFeedbackMonth="",this.requiredFeedbackYear="",this.years=[],this.monthsOfYear=[{month:"Enero",number:1},{month:"Febrero",number:2},{month:"Marzo",number:3},{month:"Abril",number:4},{month:"Mayo",number:5},{month:"Junio",number:6},{month:"Julio",number:7},{month:"Agosto",number:8},{month:"Septiembre",number:9},{month:"Octubre",number:10},{month:"Noviembre",number:11},{month:"Diciembre",number:12}],this.daysOfMonth=[],this.onDateChange=new Re}onYearChange(){this.month=void 0,this.day=void 0}onMonthChange(){if(!this.year||!this.month)return;const e=new Date(this.year,this.month,0).getDate();this.day=void 0,this.daysOfMonth=[];for(let r=1;e>=r;r++)this.daysOfMonth.push(r)}onDayChange(){!this.year||!this.month||this.onDateChange.emit(new Date(this.year,this.month-1,this.day))}daysInMonth(e,r){return new Date(r,e,0).getDate()}ngOnInit(){var e=new Date;if(this.allowPass)for(let r=e.getFullYear()-100;e.getFullYear()>=r;r++)this.years.push(r);else for(let r=e.getFullYear();e.getFullYear()+1>=r;r++)this.years.push(r)}yearIsInThePast(e){return!this.allowPass&&!(e>=(new Date).getFullYear())}monthIsInThePast(e){if(!this.year)return!0;if(!this.allowPass){let r=new Date;return!(this.year>r.getFullYear()||this.year==r.getFullYear()&&e-1>=r.getMonth())}return!1}dayIsInThePast(e){if(!this.year||!this.month)return!0;if(!this.allowPass){let r=new Date;return!(this.year>r.getFullYear()||this.year==r.getFullYear()&&this.month-1>r.getMonth()||this.year==r.getFullYear()&&this.month-1==r.getMonth()&&e>r.getDate())}return!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["app-date-picker"]],inputs:{allowPass:"allowPass",requiredFeedbackDay:"requiredFeedbackDay",requiredFeedbackMonth:"requiredFeedbackMonth",requiredFeedbackYear:"requiredFeedbackYear"},outputs:{onDateChange:"onDateChange"},decls:28,vars:25,consts:[[1,"row","g-3"],[1,"col-sm-4"],[1,"form-floating"],["name","selectYear","id","selectYear",1,"form-select",3,"ngModel","ngClass","change","ngModelChange"],["selected","","disabled",""],[3,"disabled","value",4,"ngFor","ngForOf"],["for","selectYear"],["class","text-danger",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["name","selectMonth","id","selectMonth",1,"form-select",3,"ngModel","ngClass","change","ngModelChange"],["for","selectMonth"],["name","selectDay","id","selectDay",1,"form-select",3,"disabled","ngModel","ngClass","change","ngModelChange"],["for","selectDay"],[3,"ngClass",4,"ngIf"],[3,"disabled","value"],[1,"text-danger"],[1,"invalid-feedback"],[3,"ngClass"]],template:function(e,r){1&e&&(u(0,"div",0),u(1,"div",1),u(2,"div",2),u(3,"select",3),w("change",function(){return r.onYearChange()})("ngModelChange",function(o){return r.year=o}),Z(4,"option",4),T(5,J4,2,3,"option",5),d(),u(6,"label",6),m(7,"A\xf1o"),T(8,Y4,2,0,"span",7),d(),T(9,Z4,2,1,"div",8),d(),d(),u(10,"div",1),u(11,"div",2),u(12,"select",9),w("change",function(){return r.onMonthChange()})("ngModelChange",function(o){return r.month=o}),Z(13,"option",4),T(14,X4,2,3,"option",5),d(),u(15,"label",10),m(16,"Mes"),T(17,eH,2,0,"span",7),d(),T(18,tH,2,1,"div",8),d(),d(),u(19,"div",1),u(20,"div",2),u(21,"select",11),w("change",function(){return r.onDayChange()})("ngModelChange",function(o){return r.day=o}),Z(22,"option",4),T(23,nH,2,3,"option",5),d(),u(24,"label",12),m(25,"Dia"),T(26,iH,2,4,"span",13),d(),T(27,oH,2,1,"div",8),d(),d(),d()),2&e&&(v(3),C("ngModel",r.year)("ngClass",H(16,Hg,r.requiredFeedbackYear&&r.year,r.requiredFeedbackYear&&!r.year)),v(2),C("ngForOf",r.years),v(3),C("ngIf",r.requiredFeedbackYear),v(1),C("ngIf",r.requiredFeedbackYear),v(3),C("ngModel",r.month)("ngClass",H(19,Hg,r.requiredFeedbackMonth&&r.month,r.requiredFeedbackMonth&&!r.month)),v(2),C("ngForOf",r.monthsOfYear),v(3),C("ngIf",r.requiredFeedbackMonth),v(1),C("ngIf",r.requiredFeedbackMonth),v(3),C("disabled",!r.month||!r.year)("ngModel",r.day)("ngClass",H(22,Hg,r.requiredFeedbackDay&&r.month&&r.year&&r.day,r.requiredFeedbackDay&&r.month&&r.year&&!r.day)),v(2),C("ngForOf",r.daysOfMonth),v(3),C("ngIf",r.requiredFeedbackDay),v(1),C("ngIf",r.requiredFeedbackDay))},directives:[si,Mi,oi,Gn,fo,po,fr,Rn],styles:[""]}),n})();function aH(n,t){if(1&n&&(u(0,"option",57),m(1),d()),2&n){const e=t.$implicit;C("value",e.Numero),v(1),Gt(" ",e.Aliado+" | "+e.Numero," ")}}function cH(n,t){1&n&&(u(0,"div",58),m(1," Este campo es (*) obligatorio, seleccione una opcion. "),d())}function lH(n,t){if(1&n){const e=G();u(0,"div",75),u(1,"button",76),w("click",function(){R(e);const i=b().$implicit;return b().btnRemoveTramoClick(i.index)}),m(2," Remover tramo "),d(),d()}}function uH(n,t){if(1&n){const e=G();u(0,"div",1),u(1,"label",77),m(2,"Fecha vuelta"),d(),u(3,"app-date-picker",78),w("onDateChange",function(i){R(e);const o=b().$implicit;return b().setFechaVuelta(o.index,i)}),d(),d()}2&n&&(v(3),C("allowPass",!1))}const Ot=function(n,t){return{"is-valid":n,"is-invalid":t}};function dH(n,t){if(1&n){const e=G();u(0,"div",1),u(1,"div",6),u(2,"select",79),w("ngModelChange",function(i){R(e);const o=b().$implicit;return b().tramos[o.index].horaVuelta=i}),Z(3,"option",12),u(4,"option",68),m(5,"05:00 - 8:00"),d(),u(6,"option",69),m(7,"8:00 - 11:00"),d(),u(8,"option",70),m(9,"11:00 - 14:00"),d(),u(10,"option",71),m(11,"14:00 - 17:00"),d(),u(12,"option",72),m(13,"17:00 - 20:00"),d(),u(14,"option",73),m(15,"20:00 - 24:00"),d(),d(),u(16,"label",80),m(17,"Horario de Vuelta preferido"),u(18,"span",9),m(19,"*"),d(),d(),u(20,"div",10),m(21," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d()}if(2&n){const e=b().$implicit,r=b();v(2),C("ngModel",r.tramos[e.index].horaVuelta)("ngClass",H(2,Ot,r.tramos[e.index].horaVuelta,!r.tramos[e.index].horaVuelta))}}const hH=function(n,t){return{"col-12":n,"col-10":t}};function fH(n,t){if(1&n){const e=G();u(0,"div",1),u(1,"div",2),u(2,"div",3),u(3,"div",4),u(4,"div",59),u(5,"h5",60),m(6),d(),d(),T(7,lH,3,0,"div",61),u(8,"div",62),u(9,"div",6),u(10,"input",63),w("change",function(i){const s=R(e).$implicit;return b().setOrigen(s.index,i)}),d(),u(11,"label",64),m(12,"Origen"),u(13,"span",9),m(14,"*"),d(),d(),u(15,"div",10),m(16," Este campo es (*) obligatorio, rellenelo con una opcion correcta. "),d(),d(),d(),u(17,"div",62),u(18,"div",6),u(19,"input",63),w("change",function(i){const s=R(e).$implicit;return b().setDestino(s.index,i)}),d(),u(20,"label",64),m(21,"Destino"),u(22,"span",9),m(23,"*"),d(),d(),u(24,"div",10),m(25," Este campo es (*) obligatorio, rellenelo con una opcion correcta. "),d(),d(),d(),u(26,"div",1),u(27,"label",65),m(28,"Fecha ida"),u(29,"span",9),m(30,"*"),d(),d(),u(31,"app-date-picker",66),w("onDateChange",function(i){const s=R(e).$implicit;return b().setFechaIda(s.index,i)}),d(),d(),u(32,"div",1),u(33,"div",6),u(34,"select",67),w("ngModelChange",function(i){const s=R(e).$implicit;return b().tramos[s.index].horaIda=i}),Z(35,"option",12),u(36,"option",68),m(37,"05:00 - 8:00"),d(),u(38,"option",69),m(39,"8:00 - 11:00"),d(),u(40,"option",70),m(41,"11:00 - 14:00"),d(),u(42,"option",71),m(43,"14:00 - 17:00"),d(),u(44,"option",72),m(45,"17:00 - 20:00"),d(),u(46,"option",73),m(47,"20:00 - 24:00"),d(),d(),u(48,"label",74),m(49,"Horario de Ida preferido"),u(50,"span",9),m(51,"*"),d(),d(),u(52,"div",10),m(53," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),T(54,uH,4,1,"div",32),T(55,dH,22,5,"div",32),d(),d(),d(),d()}if(2&n){const e=t.$implicit,r=b();v(4),C("ngClass",H(16,hH,"Multidestino"!==r.ruta,"Multidestino"===r.ruta)),v(2),Gt("Tramo #",e.index+1,""),v(1),C("ngIf","Multidestino"===r.ruta&&e.index>1),v(3),Dr("name","inputOrigen",e.index,""),Dr("id","inputOrigen",e.index,""),C("ngClass",H(19,Ot,r.airportIsValid(r.tramos[e.index].origen),!r.airportIsValid(r.tramos[e.index].origen))),v(1),Dr("for","inputOrigen",e.index,""),v(8),Dr("name","inputDestino",e.index,""),Dr("id","inputDestino",e.index,""),C("ngClass",H(22,Ot,r.airportIsValid(r.tramos[e.index].destino),!r.airportIsValid(r.tramos[e.index].destino))),v(1),Dr("for","inputDestino",e.index,""),v(11),C("allowPass",!1),v(3),C("ngModel",r.tramos[e.index].horaIda)("ngClass",H(25,Ot,r.tramos[e.index].horaIda,!r.tramos[e.index].horaIda)),v(20),C("ngIf","Ida y vuelta"===r.ruta),v(1),C("ngIf","Ida y vuelta"===r.ruta)}}function pH(n,t){if(1&n){const e=G();u(0,"div",81),u(1,"button",82),w("click",function(){return R(e),b().btnAddTramoClick()}),m(2," Agregar tramo "),d(),d()}}function gH(n,t){if(1&n){const e=G();u(0,"div",1),u(1,"div",6),u(2,"input",83),w("ngModelChange",function(i){return R(e),b().identification=i}),d(),u(3,"label",84),m(4),u(5,"span",9),m(6,"*"),d(),d(),u(7,"div",10),m(8," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d()}if(2&n){const e=b();v(2),C("ngModel",e.identification)("OnlyNumbers",!0)("ngClass",H(4,Ot,8===e.identification.length||10===e.identification.length,8!==e.identification.length&&10!==e.identification.length)),v(2),$t(e.identificationType)}}let mH=(()=>{class n{constructor(e,r,i){this.router=e,this.formsService=r,this.sharedService=i,this.convenios=[],this.nombre="",this.convenio="",this.ruta="",this.tramos=[],this.airports=[],this.identificationType="",this.identification="",this.equipajeAdicional="",this.email="",this.telefono="",this.pasaporteFiles=[],this.comprobantesFiles=[],this.infoAdicional="",this.onWaitTasksChange=new Re}setOrigen(e,r){setTimeout(()=>{this.tramos[e].origen=r.originalTarget.value},100)}setDestino(e,r){setTimeout(()=>{this.tramos[e].destino=r.originalTarget.value},100)}setFechaIda(e,r){this.tramos[e].fechaIda=r}setFechaVuelta(e,r){this.tramos[e].fechaVuelta=r}setFechaNacimiento(e){this.fechaNacimiento=e}setPasaporteFiles(e){this.pasaporteFiles=e}setComprobantesFiles(e){this.comprobantesFiles=e}ngOnInit(){}onRutaChange(){const e=$.makeRandomString(4);switch(0===this.airports.length&&this.formsService.getAirports().subscribe(r=>{switch(r.type){case I.Sent:this.sharedService.pushWaitTask({id:e,description:"Cargando aeropuertos...",progress:0});break;case I.DownloadProgress:this.sharedService.pushWaitTask({id:e,progress:Math.round(100*r.loaded/r.total)});break;case I.Response:for(const i of r.body)this.airports.push({label:`${i.Country} | ${i.City} | ${i["Airport Name"]} | ${i.IATA}`,value:i._id});this.sharedService.removeWaitTask({id:e})}}),this.ruta){case"Ida":case"Ida y vuelta":this.tramos=[{index:0}],setTimeout(()=>{new Autocomplete(document.getElementById("inputOrigen0"),{data:this.airports}),new Autocomplete(document.getElementById("inputDestino0"),{data:this.airports})});break;case"Multidestino":this.tramos=[{index:0},{index:1}],setTimeout(()=>{new Autocomplete(document.getElementById("inputOrigen0"),{data:this.airports}),new Autocomplete(document.getElementById("inputDestino0"),{data:this.airports}),new Autocomplete(document.getElementById("inputOrigen1"),{data:this.airports}),new Autocomplete(document.getElementById("inputDestino1"),{data:this.airports})})}}airportIsValid(e){return this.airports.find(r=>r.label===e)}validateTramos(e,r){for(let i of e)if(!(this.airportIsValid(i.origen)&&this.airportIsValid(i.destino)&&i.fechaIda&&i.horaIda&&(!r||i.fechaVuelta&&i.horaVuelta)))return!1;return!0}btnAddTramoClick(){this.tramos.push({index:this.tramos.length}),setTimeout(()=>{new Autocomplete(document.getElementById("inputOrigen"+(this.tramos.length-1)),{data:this.airports}),new Autocomplete(document.getElementById("inputDestino"+(this.tramos.length-1)),{data:this.airports})})}btnRemoveTramoClick(e){this.tramos.splice(e,1)}btnSubmitClick(){const e={Id:$.makeRandomString(32),Nombre:this.nombre,Convenio:this.convenio,Tramos:this.tramos,IdentificatorType:this.identificationType,Identificator:this.identification,FechaNacimiento:this.fechaNacimiento,EquipajeAdicional:this.equipajeAdicional,Email:this.email,Telefono:this.telefono,PasaporteFiles:this.pasaporteFiles,ComprobantesFiles:this.comprobantesFiles,InformacionAdicional:this.infoAdicional,Requestor:history.state.userInfo,Status:0};var r=$.makeRandomString(4);this.formsService.postFormsCoordinacionLogistica(e).subscribe(i=>{switch(i.type){case I.Sent:this.sharedService.pushWaitTask({id:r,description:"Enviando coordinacion logistica...",progress:0});break;case I.UploadProgress:this.sharedService.pushWaitTask({id:r,progress:Math.round(100*i.loaded/i.total)});break;case I.Response:this.sharedService.removeWaitTask({id:r}),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Coordinacion logistica enviada satisfactoriamente",description:"Su coordinacion logistica ha sido ingresada correctamente y sera procesada muy pronto, este atento de su correo electronico por el cual se le notificara del estado y manera de validacion de la peticion.",autohide:3e4}),this.router.navigateByUrl("/")}},i=>{this.sharedService.removeWaitTask({id:r})})}validateEmail(e=this.email){return $.validateEmail(e)}isValid(){return this.nombre&&this.convenio&&this.ruta&&this.validateTramos(this.tramos,"Ida y vuelta"===this.ruta)&&this.identificationType&&(8===this.identification.length||10===this.identification.length)&&this.fechaNacimiento&&this.equipajeAdicional&&$.validateEmail(this.email)&&10===this.telefono.length}}return n.\u0275fac=function(e){return new(e||n)(D(Ct),D(Ii),D(lo))},n.\u0275cmp=ft({type:n,selectors:[["app-forms-coordinacionlogistica"]],outputs:{onWaitTasksChange:"onWaitTasksChange"},decls:135,vars:68,consts:[["id","firstElement",1,"row","g-3"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","g-3"],[1,"card-title","text-center"],[1,"form-floating"],["type","text","name","inputNombre","id","inputNombre","placeholder","x","maxlength","255",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","inputNombre"],[1,"text-danger"],[1,"invalid-feedback"],["id","convenio","name","convenio",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","convenio"],["for","inputRuta"],["id","inputRuta","name","inputRuta",1,"col-12"],[1,"form-check"],["type","radio","name","radioIdaRuta","id","radioIdaRuta","value","Ida",1,"form-check-input",3,"ngModel","ngClass","ngModelChange","change"],["for","radioIdaRuta",1,"form-check-label"],["type","radio","name","radioIdaVueltaRuta","id","radioIdaVueltaRuta","value","Ida y vuelta",1,"form-check-input",3,"ngModel","ngClass","ngModelChange","change"],["for","radioIdaVueltaRuta",1,"form-check-label"],["type","radio","name","radioMultidestinoRuta","id","radioMultidestinoRuta","value","Multidestino",1,"form-check-input",3,"ngModel","ngClass","ngModelChange","change"],["for","radioMultidestinoRuta",1,"form-check-label"],["class","text-danger","style","font-size: 0.875em",4,"ngIf"],["class","col-12",4,"ngFor","ngForOf"],["class","d-grid gap-2 col-6 mx-auto",4,"ngIf"],["id","identificationType","name","identificationType",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["value","Cedula de ciudadania"],["value","Pasaporte"],["value","Tarjeta de identidad"],["for","identificationType"],["class","col-12",4,"ngIf"],["for","fieldFechaNacimiento",1,"form-label"],["name","fieldFechaNacimiento","id","fieldFechaNacimiento","requiredFeedbackDay","Este campo es (*) obligatorio, seleccione el dia de nacimiento.","requiredFeedbackMonth","Este campo es (*) obligatorio, seleccione el mes de nacimiento.","requiredFeedbackYear","Este campo es (*) obligatorio, seleccione el a\xf1o de nacimiento.",3,"onDateChange"],["for","inputEquipajeAdicional"],["id","inputEquipajeAdicional","name","inputEquipajeAdicional",1,"col-12"],["type","radio","name","radioNingunoEquipajeAdicional","id","radioNingunoEquipajeAdicional","value","Ninguno",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","radioNingunoEquipajeAdicional",1,"form-check-label"],["type","radio","name","radio10EquipajeAdicional","id","radio10EquipajeAdicional","value","10 kg",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","radio10EquipajeAdicional",1,"form-check-label"],["type","radio","name","radio23EquipajeAdicional","id","radio23EquipajeAdicional","value","23 kg",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","radio23EquipajeAdicional",1,"form-check-label"],["type","radio","name","radio32EquipajeAdicional","id","radio32EquipajeAdicional","value","32 kg",1,"form-check-input",3,"ngModel","ngClass","ngModelChange"],["for","radio32EquipajeAdicional",1,"form-check-label"],["type","email","name","inputEmail","id","inputEmail","placeholder","\\0","maxlength","255",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","inputEmail"],["type","text","name","inputTelefono","id","inputTelefono","placeholder","\\0","maxlength","10",1,"form-control",3,"ngModel","OnlyNumbers","ngClass","ngModelChange"],["for","inputTelefono"],["for","uploadFilesPasaporte",1,"form-label"],["id","uploadFilesPasaporte","name","uploadFilesPasaporte",3,"onFilesChange"],["for","uploadFilesComprobantes",1,"form-label"],["id","uploadFilesComprobantes","name","uploadFilesComprobantes",3,"onFilesChange"],["type","text","name","inputInformacionAdicional","id","inputInformacionAdicional","placeholder","\\0","maxlength","255",1,"form-control",3,"ngModel","ngModelChange"],["for","inputInformacionAdicional"],[1,"d-grid","gap-2","col-6","mx-auto","mb-2"],["href","#firstElement",1,"btn","btn-primary",3,"disabled","click"],[3,"value"],[1,"text-danger",2,"font-size","0.875em"],[3,"ngClass"],[1,"card-title"],["class","col-2 d-grid gap-2",4,"ngIf"],[1,"col-6"],["type","text","placeholder","\\0","maxlength","32",1,"form-control",3,"name","id","ngClass","change"],[3,"for"],["for","fieldFechaIda",1,"form-label"],["name","fieldFechaIda","id","fieldFechaIda","requiredFeedbackYear","Este campo es (*) obligatorio, seleccione el a\xf1o de ida.","requiredFeedbackMonth","Este campo es (*) obligatorio, seleccione el mes de ida.","requiredFeedbackDay","Este campo es (*) obligatorio, seleccione el dia de ida.",3,"allowPass","onDateChange"],["id","horaIda","name","horaIda",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["value","05:00 - 8:00"],["value","8:00 - 11:00"],["value","11:00 - 14:00"],["value","14:00 - 17:00"],["value","17:00 - 20:00"],["value","20:00 - 24:00"],["for","horaIda"],[1,"col-2","d-grid","gap-2"],["type","button",1,"btn","btn-primary",3,"click"],["for","fieldFechaVuelta",1,"form-label"],["name","fieldFechaVuelta","id","fieldFechaVuelta","requiredFeedbackYear","Este campo es (*) obligatorio, seleccione el a\xf1o de ida.","requiredFeedbackMonth","Este campo es (*) obligatorio, seleccione el mes de ida.","requiredFeedbackDay","Este campo es (*) obligatorio, seleccione el dia de ida.",3,"allowPass","onDateChange"],["id","horaVuelta","name","horaVuelta",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["for","horaVuelta"],[1,"d-grid","gap-2","col-6","mx-auto"],[1,"btn","btn-primary",3,"click"],["type","text","name","inputIdentification","id","inputIdentification","placeholder","\\0","maxlength","10",1,"form-control",3,"ngModel","OnlyNumbers","ngClass","ngModelChange"],["for","inputIdentification"]],template:function(e,r){1&e&&(u(0,"form"),u(1,"div",0),u(2,"div",1),u(3,"div",2),u(4,"div",3),u(5,"div",4),u(6,"div",1),u(7,"h5",5),m(8,"Coordinacion Logistica"),d(),d(),u(9,"div",1),u(10,"div",6),u(11,"input",7),w("ngModelChange",function(o){return r.nombre=o}),d(),u(12,"label",8),m(13,"Nombre completo del viajante"),u(14,"span",9),m(15,"*"),d(),d(),u(16,"div",10),m(17," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),u(18,"div",1),u(19,"div",6),u(20,"select",11),w("ngModelChange",function(o){return r.convenio=o}),Z(21,"option",12),T(22,aH,2,2,"option",13),d(),u(23,"label",14),m(24,"Convenio"),u(25,"span",9),m(26,"*"),d(),d(),u(27,"div",10),m(28," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),u(29,"div",1),u(30,"div",4),u(31,"div",1),u(32,"label",15),m(33,"Ruta"),u(34,"span",9),m(35,"*"),d(),d(),d(),u(36,"div",16),u(37,"div",17),u(38,"input",18),w("ngModelChange",function(o){return r.ruta=o})("change",function(){return r.onRutaChange()}),d(),u(39,"label",19),m(40,"Ida"),d(),d(),u(41,"div",17),u(42,"input",20),w("ngModelChange",function(o){return r.ruta=o})("change",function(){return r.onRutaChange()}),d(),u(43,"label",21),m(44,"Ida y vuelta"),d(),d(),u(45,"div",17),u(46,"input",22),w("ngModelChange",function(o){return r.ruta=o})("change",function(){return r.onRutaChange()}),d(),u(47,"label",23),m(48,"Multidestino"),d(),d(),T(49,cH,2,0,"div",24),d(),d(),d(),T(50,fH,56,28,"div",25),T(51,pH,3,0,"div",26),u(52,"div",1),u(53,"div",6),u(54,"select",27),w("ngModelChange",function(o){return r.identificationType=o}),Z(55,"option",12),u(56,"option",28),m(57," Cedula de ciudadania "),d(),u(58,"option",29),m(59,"Pasaporte"),d(),u(60,"option",30),m(61," Tarjeta de identidad "),d(),d(),u(62,"label",31),m(63,"Tipo de documento"),u(64,"span",9),m(65,"*"),d(),d(),u(66,"div",10),m(67," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),T(68,gH,9,7,"div",32),u(69,"div",1),u(70,"label",33),m(71,"Fecha de nacimiento"),u(72,"span",9),m(73,"*"),d(),d(),u(74,"app-date-picker",34),w("onDateChange",function(o){return r.setFechaNacimiento(o)}),d(),d(),u(75,"div",1),u(76,"div",4),u(77,"div",1),u(78,"label",35),m(79,"Equipaje"),u(80,"span",9),m(81,"*"),d(),d(),d(),u(82,"div",36),u(83,"div",17),u(84,"input",37),w("ngModelChange",function(o){return r.equipajeAdicional=o}),d(),u(85,"label",38),m(86,"Ninguno"),d(),d(),u(87,"div",17),u(88,"input",39),w("ngModelChange",function(o){return r.equipajeAdicional=o}),d(),u(89,"label",40),m(90,"10 kg"),d(),d(),u(91,"div",17),u(92,"input",41),w("ngModelChange",function(o){return r.equipajeAdicional=o}),d(),u(93,"label",42),m(94,"23 kg"),d(),d(),u(95,"div",17),u(96,"input",43),w("ngModelChange",function(o){return r.equipajeAdicional=o}),d(),u(97,"label",44),m(98,"32 kg"),d(),u(99,"div",10),m(100," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),d(),d(),u(101,"div",1),u(102,"div",6),u(103,"input",45),w("ngModelChange",function(o){return r.email=o}),d(),u(104,"label",46),m(105,"Correo electronico del viajante"),u(106,"span",9),m(107,"*"),d(),d(),u(108,"div",10),m(109," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),u(110,"div",1),u(111,"div",6),u(112,"input",47),w("ngModelChange",function(o){return r.telefono=o}),d(),u(113,"label",48),m(114,"Telefono del viajante"),u(115,"span",9),m(116,"*"),d(),d(),u(117,"div",10),m(118," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),u(119,"div",1),u(120,"label",49),m(121,"Pasaporte"),d(),u(122,"app-upload-files",50),w("onFilesChange",function(o){return r.setPasaporteFiles(o)}),d(),d(),u(123,"div",1),u(124,"label",51),m(125,"Comprobantes"),d(),u(126,"app-upload-files",52),w("onFilesChange",function(o){return r.setComprobantesFiles(o)}),d(),d(),u(127,"div",1),u(128,"div",6),u(129,"input",53),w("ngModelChange",function(o){return r.infoAdicional=o}),d(),u(130,"label",54),m(131,"Informacion adicional"),d(),d(),d(),d(),d(),d(),d(),u(132,"div",55),u(133,"button",56),w("click",function(){return r.btnSubmitClick()}),m(134," Enviar "),d(),d(),d(),d()),2&e&&(v(11),C("ngModel",r.nombre)("ngClass",H(32,Ot,r.nombre,!r.nombre)),v(9),C("ngModel",r.convenio)("ngClass",H(35,Ot,r.convenio,!r.convenio)),v(2),C("ngForOf",r.convenios),v(16),C("ngModel",r.ruta)("ngClass",H(38,Ot,r.ruta,!r.ruta)),v(4),C("ngModel",r.ruta)("ngClass",H(41,Ot,r.ruta,!r.ruta)),v(4),C("ngModel",r.ruta)("ngClass",H(44,Ot,r.ruta,!r.ruta)),v(3),C("ngIf",!r.ruta),v(1),C("ngForOf",r.tramos),v(1),C("ngIf","Multidestino"===r.ruta),v(3),C("ngModel",r.identificationType)("ngClass",H(47,Ot,r.identificationType,!r.identificationType)),v(14),C("ngIf",r.identificationType),v(16),C("ngModel",r.equipajeAdicional)("ngClass",H(50,Ot,r.equipajeAdicional,!r.equipajeAdicional)),v(4),C("ngModel",r.equipajeAdicional)("ngClass",H(53,Ot,r.equipajeAdicional,!r.equipajeAdicional)),v(4),C("ngModel",r.equipajeAdicional)("ngClass",H(56,Ot,r.equipajeAdicional,!r.equipajeAdicional)),v(4),C("ngModel",r.equipajeAdicional)("ngClass",H(59,Ot,r.equipajeAdicional,!r.equipajeAdicional)),v(7),C("ngModel",r.email)("ngClass",H(62,Ot,r.validateEmail(),!r.validateEmail())),v(9),C("ngModel",r.telefono)("OnlyNumbers",!0)("ngClass",H(65,Ot,10===r.telefono.length,10!==r.telefono.length)),v(17),C("ngModel",r.infoAdicional),v(4),C("disabled",!r.isValid()))},directives:[fc,cc,ho,ii,go,Mi,oi,Gn,si,fo,po,fr,pc,Rn,sH,mc,Ou],styles:[""]}),n})();function vH(n,t){if(1&n){const e=G();u(0,"tr",38),w("dblclick",function(){const o=R(e).$implicit;return b(2).removeQuotation(o.Number)}),u(1,"th",39),m(2),d(),u(3,"td"),m(4),d(),u(5,"td"),m(6),d(),u(7,"td"),m(8),d(),u(9,"td"),m(10),d(),d()}if(2&n){const e=t.$implicit;v(2),$t(e.Number),v(2),$t(e.Aerolinea),v(2),$t(e.HoraSalida),v(2),$t(e.HoraLlegada),v(2),$t(e.Costo)}}function _H(n,t){if(1&n&&(u(0,"div",34),u(1,"div",10),u(2,"div",11),u(3,"table",35),u(4,"caption"),m(5," Cotizaciones, puede eliminar alguna haciendo doble click sobre ella. "),d(),u(6,"thead"),u(7,"tr"),u(8,"th",36),m(9,"#"),d(),u(10,"th",36),m(11,"Aerolinea"),d(),u(12,"th",36),m(13,"Hora Salida"),d(),u(14,"th",36),m(15,"Hora Llegada"),d(),u(16,"th",36),m(17,"Costo"),d(),d(),d(),u(18,"tbody"),T(19,vH,11,5,"tr",37),d(),d(),d(),d(),d()),2&n){const e=b();v(19),C("ngForOf",e.quotations)}}const vc=function(n,t){return{"is-valid":n,"is-invalid":t}},CH=function(n){return{"col-xl-6":n}};let yH=(()=>{class n{constructor(e,r,i,o){this.router=e,this.activatedRoute=r,this.formsService=i,this.sharedService=o,this.quotations=[],this.Id="",this.ticketNumber="",this.aerolinea="",this.horaSalida="",this.horaLlegada="",this.uploadingQuotations=!1}ngOnInit(){if(!history.state.userInfo||!history.state.plaftformInfo)return this.router.navigate(["/login"],{state:{fromRoute:this.router.url}}),void this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Acceso inautorizado",description:"Para ingresar a este componente es necesario contar con el acceso autorizado, inicie sesion y vuelva a intentar ingresar.",autohide:1e4});this.Id=this.activatedRoute.snapshot.paramMap.get("Id");let e=$.makeRandomString(4);this.formsService.getFormsCoordinacionLogistica(this.Id).subscribe(r=>{switch(r.type){case I.Sent:this.sharedService.pushWaitTask({id:e,description:"Obteniendo informacion de la coordinacion logistica...",progress:0});break;case I.DownloadProgress:this.sharedService.pushWaitTask({id:e,progress:Math.round(100*r.loaded/r.total)});break;case I.Response:r.body.length>0?r.body.SelectedQuotation?(this.router.navigate(["/"]),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Coordinacion logistica finalizada",description:"La coordinacion logistica a la que esta intentando ingresar ya ha finalizado su proceso por esta razon no puede ingresar.",autohide:1e4})):(this.formsCoordinacionLogistica=r.body[0],this.formsCoordinacionLogistica.Quotations.length>0&&(this.ticketNumber=this.formsCoordinacionLogistica.TicketNumber,this.quotations=this.formsCoordinacionLogistica.Quotations),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Coordinacion logistica",description:"Ingrese las reservas necesarias para el proceso y posteriormente continue su camino aprobando la peticion en el flujo.",autohide:1e4})):(this.router.navigate(["/"]),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Coordinacion logistica no encontrada",description:"No se ha encontrado la coordinacion logistica a la que intenta ingresar, verifique la direccion y vuelva a intentarlo.",autohide:1e4})),this.sharedService.removeWaitTask({id:e})}},r=>{this.sharedService.removeWaitTask({id:e})})}btnSetTicketNumber(){this.formsService.putFormsCoordinacionLogistica({TicketNumber:this.ticketNumber},this.Id).subscribe(e=>{e.type===I.Response&&(this.formsCoordinacionLogistica.TicketNumber=this.ticketNumber,this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Numero de tiquete actualizado",description:"Se ha establecido correctamente el numero del tiquete para esta peticion."}))},e=>{this.ticketNumber=this.formsCoordinacionLogistica.TicketNumber,this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Numero de tiquete no actualizado",description:"No se ha podido establecer el numero del tiquete para esta peticion, vuelva a intentarlo."})})}btnAddClick(){!this.costo||(this.uploadingQuotations=!0,this.quotations.push({Number:this.quotations.length+1,Aerolinea:this.aerolinea,HoraSalida:this.horaSalida,HoraLlegada:this.horaLlegada,Costo:this.costo}),this.formsService.putFormsCoordinacionLogistica({Quotations:this.quotations},this.Id).subscribe(e=>{e.type===I.Response&&(this.formsCoordinacionLogistica.Quotations=this.quotations,this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Cotizaciones actualizadas",description:"Se han actualizado las cotizaciones de la peticion.",autohide:4e3}),this.aerolinea="",this.horaSalida="",this.horaLlegada="",this.costo=void 0,this.uploadingQuotations=!1)},e=>{this.quotations=this.formsCoordinacionLogistica.Quotations,this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Cotizaciones no actualizadas",description:"Las cotizaciones no ha podido ser actualizadas, vuelva a intentarlo."}),this.uploadingQuotations=!1}))}removeQuotation(e){this.quotations.splice(this.quotations.findIndex(r=>r.Number===e),1);for(let r=0;this.quotations.length>r;r++)this.quotations[r].Number=r+1;this.formsService.putFormsCoordinacionLogistica({Quotations:this.quotations},this.Id).subscribe(r=>{r.type===I.Response&&(this.formsCoordinacionLogistica.Quotations=this.quotations,this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Cotizaciones actualizadas",description:"Se han actualizado las cotizaciones de la peticion.",autohide:4e3}))},r=>{this.quotations=this.formsCoordinacionLogistica.Quotations,this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Cotizaciones no actualizadas",description:"Las cotizaciones no han podido ser actualizadas, intente remover la cotizacion nuevamente."})})}isValid(){return this.aerolinea&&this.horaSalida&&this.horaLlegada&&this.costo&&this.costo>0}}return n.\u0275fac=function(e){return new(e||n)(D(Ct),D(ri),D(Ii),D(lo))},n.\u0275cmp=ft({type:n,selectors:[["app-forms-coordinacionlogistica-fillquotations"]],decls:86,vars:32,consts:[["id","firstElement",1,"row","g-3"],[1,"col-8","col-md-9","col-xl-10"],[1,"form-floating"],["type","text","name","inputTicketNumber","id","inputTicketNumber","placeholder","\\0","maxlength","32",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","inputTicketNumber"],[1,"text-danger"],[1,"invalid-feedback"],[1,"col-4","col-md-3","col-xl-2","d-grid","grap-2","mx-auto"],[1,"btn","btn-primary",3,"disabled","click"],[1,"col-12",3,"ngClass"],[1,"card"],[1,"card-body"],[1,"row","g-3"],[1,"col-12"],[1,"card-title","text-center"],["type","text","name","inputAerolinea","id","inputAerolinea","placeholder","\\0","maxlength","255",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["for","inputAerolinea"],[1,"col-6"],["id","horaSalida","name","horaSalida",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["selected","","disabled",""],["value","05:00 - 8:00"],["value","8:00 - 11:00"],["value","11:00 - 14:00"],["value","14:00 - 17:00"],["value","17:00 - 20:00"],["value","20:00 - 24:00"],["for","horaSalida"],["id","horaLlegada","name","horaLlegada",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["for","horaLlegada"],["type","text","name","inputCosto","id","inputCosto","placeholder","\\0","maxlength","255",1,"form-control",3,"ngModel","OnlyNumbers","ngClass","ngModelChange"],["for","inputCosto"],[1,"d-grid","gap-2","col-6","mx-auto","mb-2"],["href","#firstElement",1,"btn","btn-primary",3,"disabled","click"],["class","table-responsive col-12 col-xl-6",4,"ngIf"],[1,"table-responsive","col-12","col-xl-6"],[1,"table","table-borderless","table-striped","table-hover","caption-top"],["scope","col"],[3,"dblclick",4,"ngFor","ngForOf"],[3,"dblclick"],["scope","row"]],template:function(e,r){1&e&&(u(0,"div",0),u(1,"div",1),u(2,"div",2),u(3,"input",3),w("ngModelChange",function(o){return r.ticketNumber=o}),d(),u(4,"label",4),m(5,"Numero de tiquete"),u(6,"span",5),m(7,"*"),d(),d(),u(8,"div",6),m(9," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),u(10,"div",7),u(11,"button",8),w("click",function(){return r.btnSetTicketNumber()}),m(12," Establecer "),d(),d(),u(13,"div",9),u(14,"div",10),u(15,"div",11),u(16,"div",12),u(17,"div",13),u(18,"h5",14),m(19," Actualizar cotizaciones de la peticion "),d(),d(),u(20,"div",13),u(21,"div",2),u(22,"input",15),w("ngModelChange",function(o){return r.aerolinea=o}),d(),u(23,"label",16),m(24,"Aerolinea"),u(25,"span",5),m(26,"*"),d(),d(),u(27,"div",6),m(28," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),u(29,"div",17),u(30,"div",2),u(31,"select",18),w("ngModelChange",function(o){return r.horaSalida=o}),Z(32,"option",19),u(33,"option",20),m(34,"05:00 - 8:00"),d(),u(35,"option",21),m(36,"8:00 - 11:00"),d(),u(37,"option",22),m(38,"11:00 - 14:00"),d(),u(39,"option",23),m(40,"14:00 - 17:00"),d(),u(41,"option",24),m(42,"17:00 - 20:00"),d(),u(43,"option",25),m(44,"20:00 - 24:00"),d(),d(),u(45,"label",26),m(46,"Hora salida"),u(47,"span",5),m(48,"*"),d(),d(),u(49,"div",6),m(50," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),u(51,"div",17),u(52,"div",2),u(53,"select",27),w("ngModelChange",function(o){return r.horaLlegada=o}),Z(54,"option",19),u(55,"option",20),m(56,"05:00 - 8:00"),d(),u(57,"option",21),m(58,"8:00 - 11:00"),d(),u(59,"option",22),m(60,"11:00 - 14:00"),d(),u(61,"option",23),m(62,"14:00 - 17:00"),d(),u(63,"option",24),m(64,"17:00 - 20:00"),d(),u(65,"option",25),m(66,"20:00 - 24:00"),d(),d(),u(67,"label",28),m(68,"Hora llegada"),u(69,"span",5),m(70,"*"),d(),d(),u(71,"div",6),m(72," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),u(73,"div",13),u(74,"div",2),u(75,"input",29),w("ngModelChange",function(o){return r.costo=o}),d(),u(76,"label",30),m(77,"Costo"),u(78,"span",5),m(79,"*"),d(),d(),u(80,"div",6),m(81," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),u(82,"div",31),u(83,"button",32),w("click",function(){return r.btnAddClick()}),m(84," A\xf1adir "),d(),d(),d(),d(),d(),d(),T(85,_H,20,1,"div",33),d()),2&e&&(v(3),C("ngModel",r.ticketNumber)("ngClass",H(15,vc,r.ticketNumber,!r.ticketNumber)),v(8),C("disabled",0===r.ticketNumber.length),v(2),C("ngClass",Hn(18,CH,r.quotations.length>0)),v(9),C("ngModel",r.aerolinea)("ngClass",H(20,vc,r.aerolinea,!r.aerolinea)),v(9),C("ngModel",r.horaSalida)("ngClass",H(23,vc,r.horaSalida,!r.horaSalida)),v(22),C("ngModel",r.horaLlegada)("ngClass",H(26,vc,r.horaLlegada,!r.horaLlegada)),v(22),C("ngModel",r.costo)("OnlyNumbers",!0)("ngClass",H(29,vc,r.costo&&r.costo>0,r.costo&&r.costo<1||!r.costo)),v(8),C("disabled",!r.isValid()||r.uploadingQuotations),v(2),C("ngIf",r.quotations.length>0))},directives:[ii,go,Mi,oi,Gn,si,fo,po,mc,Rn,fr],styles:[""]}),n})();const EH=function(n){return{"table-primary":n}};function bH(n,t){if(1&n){const e=G();u(0,"tr",8),w("dblclick",function(){const o=R(e).$implicit;return b(2).setSelectedQuotation(o)}),u(1,"th",9),m(2),d(),u(3,"td"),m(4),d(),u(5,"td"),m(6),d(),u(7,"td"),m(8),d(),u(9,"td"),m(10),d(),d()}if(2&n){const e=t.$implicit,r=b(2);C("ngClass",Hn(6,EH,r.formsCoordinacionLogistica.SelectedQuotation===e)),v(2),$t(e.Number),v(2),$t(e.Aerolinea),v(2),$t(e.HoraSalida),v(2),$t(e.HoraLlegada),v(2),$t(e.Costo)}}function AH(n,t){if(1&n&&(u(0,"div",2),u(1,"div",3),u(2,"div",4),u(3,"table",5),u(4,"caption"),m(5," Cotizaciones, seleccione una haciendo doble click sobre ella. "),d(),u(6,"thead"),u(7,"tr"),u(8,"th",6),m(9,"#"),d(),u(10,"th",6),m(11,"Aerolinea"),d(),u(12,"th",6),m(13,"Hora Salida"),d(),u(14,"th",6),m(15,"Hora Llegada"),d(),u(16,"th",6),m(17,"Costo"),d(),d(),d(),u(18,"tbody"),T(19,bH,11,8,"tr",7),d(),d(),d(),d(),d()),2&n){const e=b();v(19),C("ngForOf",e.quotations)}}let wH=(()=>{class n{constructor(e,r,i,o){this.router=e,this.activatedRoute=r,this.formsService=i,this.sharedService=o,this.quotations=[],this.Id=""}ngOnInit(){if(!history.state.userInfo||!history.state.plaftformInfo)return this.router.navigate(["/login"],{state:{fromRoute:this.router.url}}),void this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Acceso inautorizado",description:"Para ingresar a este componente es necesario contar con el acceso autorizado, inicie sesion y vuelva a intentar ingresar.",autohide:1e4});let e;this.Id=this.activatedRoute.snapshot.paramMap.get("Id"),this.formsService.getFormsCoordinacionLogistica(this.Id).subscribe(r=>{switch(r.type){case I.Sent:this.sharedService.pushWaitTask({id:e=$.makeRandomString(4),description:"Obteniendo informacion de la coordinacion logistica...",progress:0});break;case I.DownloadProgress:this.sharedService.pushWaitTask({id:e,progress:Math.round(100*r.loaded/r.total)});break;case I.Response:r.body.length>0?r.body[0].SelectedQuotation?(this.router.navigate(["/"]),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Coordinacion logistica finalizada",description:"La coordinacion logistica a la que esta intentando ingresar ya ha finalizado su proceso por esta razon no puede ingresar.",autohide:1e4})):(this.formsCoordinacionLogistica=r.body[0],this.formsCoordinacionLogistica.Quotations.length>0&&(this.quotations=this.formsCoordinacionLogistica.Quotations),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Coordinacion logistica",description:"Ingrese las reservas necesarias para el proceso y posteriormente continue su camino aprobando la peticion en el flujo.",autohide:1e4})):(this.router.navigate(["/"]),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Coordinacion logistica no encontrada",description:"No se ha encontrado la coordinacion logistica a la que intenta ingresar, verifique la direccion y vuelva a intentarlo.",autohide:1e4})),this.sharedService.removeWaitTask({id:e})}},r=>{this.sharedService.removeWaitTask({id:e})})}setSelectedQuotation(e){this.formsService.putFormsCoordinacionLogistica({SelectedQuotation:e},this.Id).subscribe(r=>{r.type===I.Response&&(this.formsCoordinacionLogistica.SelectedQuotation=e,this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:`Cotizacion #${e.Number} seleccionada correctamente`,description:"Se ha seleccionado correctamente la cotizacion, ya puede seguir el flujo o cambiar de cotizacion.",autohide:4e3}))},r=>{this.formsCoordinacionLogistica.SelectedQuotation=void 0,this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Cotizacion no seleccionada",description:"La cotizacion no ha podido ser seleccionada, intente seleccionar la cotizacion nuevamente."})})}}return n.\u0275fac=function(e){return new(e||n)(D(Ct),D(ri),D(Ii),D(lo))},n.\u0275cmp=ft({type:n,selectors:[["app-forms-coordinacionlogistica-selectquotation"]],decls:2,vars:1,consts:[["id","firstElement",1,"row","g-3"],["class","table-responsive col-12",4,"ngIf"],[1,"table-responsive","col-12"],[1,"card"],[1,"card-body"],[1,"table","table-borderless","table-striped","table-hover","caption-top"],["scope","col"],[3,"ngClass","dblclick",4,"ngFor","ngForOf"],[3,"ngClass","dblclick"],["scope","row"]],template:function(e,r){1&e&&(u(0,"div",0),T(1,AH,20,1,"div",1),d()),2&e&&(v(1),C("ngIf",r.quotations.length>0))},directives:[Rn,fr,Gn],styles:[""]}),n})();function SH(n,t){if(1&n){const e=G();u(0,"div",18),u(1,"div",19),u(2,"h5",20),m(3),d(),d(),u(4,"div",21),u(5,"a",22),u(6,"img",23),w("click",function(){const o=R(e).$implicit;return b(2).whenDeleteFileAdjuntosClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function TH(n,t){if(1&n&&(u(0,"div",16),T(1,SH,7,3,"div",17),d()),2&n){const e=b();v(1),C("ngForOf",e.adjuntosFiles)}}const IH=function(n,t){return{"is-valid":n,"is-invalid":t}};let DH=(()=>{class n{constructor(e){this.formsService=e,this.waitTasks=[],this.adjuntosFiles=[],this.onWaitTasksChange=new Re}ngOnInit(){}whenFileAdjuntosChange(e){let r=this.adjuntosFiles.length;for(let i=0;e.target.files.length>i;i++)this.adjuntosFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),$.getBase64(e.target.files[i]).then(o=>{this.adjuntosFiles[r+i].Bytes=o,this.adjuntosFiles[r+i].Uploaded=!0});e.target.value=null}whenDeleteFileAdjuntosClick(e){if(!0===this.adjuntosFiles[e].Uploaded){this.adjuntosFiles.splice(e,1);for(let r=0;this.adjuntosFiles.length>r;r++)this.adjuntosFiles[r].Index=r}}whenSubmit(){const e={id:$.makeRandomString(64),operation:"juridica-contratacion-convenio",username:"aescobar@contratista.oei.org.co",password:"",number:this.numero,name:this.nombre,filesFields:[{key:"Adjuntos",value:this.adjuntosFiles}],additionalInfo:"",keys:["id","operation","username","password","number","name","filesFields"]};var r;this.formsService.postFormsJuridicaContratacionConvenioRequest(e).subscribe(i=>{switch(i.type){case I.Sent:r=$.makeRandomString(4),this.waitTasks.push({id:r,description:"Enviando informaci\xf3n...",total:0,current:0,progress:0}),this.onWaitTasksChange.emit(this.waitTasks);break;case I.UploadProgress:let o=this.waitTasks.findIndex(s=>s.id===r);this.waitTasks[o].total=i.total,this.waitTasks[o].current=i.loaded,this.waitTasks[o].progress=Math.round(100*i.loaded/i.total),this.onWaitTasksChange.emit(this.waitTasks);break;case I.Response:this.waitTasks.splice(this.waitTasks.findIndex(s=>s.id===r),1),this.onWaitTasksChange.emit(this.waitTasks)}})}}return n.\u0275fac=function(e){return new(e||n)(D(Ii))},n.\u0275cmp=ft({type:n,selectors:[["app-forms-juridica-contratacion-convenio-request"]],inputs:{convenios:"convenios"},outputs:{onWaitTasksChange:"onWaitTasksChange"},decls:33,vars:9,consts:[[1,"was-validated",3,"ngSubmit"],[1,"row","g-3"],[1,"col-12"],[1,"form-floating"],["type","text","id","inputTextNumero","name","inputTextNumero","placeholder","x","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","inputTextNumero"],[1,"text-danger"],[1,"invalid-feedback"],["type","text","id","inputTextNombre","name","inputTextNombre","placeholder","x","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","inputTextNombre"],["for","formFileMultipleAdjuntos",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleAdjuntos","multiple","",1,"form-control",3,"ngClass","required","change"],["class","container",4,"ngIf"],[1,"row-12"],[1,"d-grid","gap-2","col-xl-6","mx-auto"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"container"],["class","\n            row\n            justify-content-center\n            align-items-center\n            mt-3\n            border-start border-top border-primary border-1\n          ",4,"ngFor","ngForOf"],[1,"row","justify-content-center","align-items-center","mt-3","border-start","border-top","border-primary","border-1"],[1,"col-11"],[1,"mb-0"],[1,"col-1","gx-0"],["href","javascript:;"],["width","50px","height","50px",1,"img-fluid",3,"src","click"]],template:function(e,r){1&e&&(u(0,"form",0),w("ngSubmit",function(){return r.whenSubmit()}),u(1,"div",1),u(2,"div",2),u(3,"div",3),u(4,"input",4),w("ngModelChange",function(o){return r.numero=o}),d(),u(5,"label",5),m(6,"Numero del convenio"),u(7,"span",6),m(8,"*"),d(),d(),u(9,"div",7),m(10," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),u(11,"div",2),u(12,"div",3),u(13,"input",8),w("ngModelChange",function(o){return r.nombre=o}),d(),u(14,"label",9),m(15,"Nombre del convenio"),u(16,"span",6),m(17,"*"),d(),d(),u(18,"div",7),m(19," Este campo es (*) obligatorio, rellenelo. "),d(),d(),d(),u(20,"div",2),u(21,"label",10),m(22,"Adjuntos"),u(23,"span",6),m(24,"*"),d(),d(),u(25,"input",11),w("change",function(o){return r.whenFileAdjuntosChange(o)}),d(),u(26,"div",7),m(27," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(28,TH,2,1,"div",12),d(),u(29,"div",13),u(30,"div",14),u(31,"button",15),m(32," Enviar "),d(),d(),d(),d(),d()),2&e&&(v(4),C("ngModel",r.numero),v(9),C("ngModel",r.nombre),v(12),C("ngClass",H(6,IH,r.adjuntosFiles.length>0,0===r.adjuntosFiles.length))("required",0===r.adjuntosFiles.length),v(3),C("ngIf",r.adjuntosFiles.length>0),v(3),C("disabled",!0))},directives:[fc,cc,ho,ii,gc,Mi,oi,Gn,Rn,fr],styles:[""]}),n})();function FH(n,t){if(1&n&&(u(0,"option",51),m(1),d()),2&n){const e=t.$implicit;C("value",e.Aliado+" | "+e.Numero),v(1),vt(" ",e.Aliado," | ",e.Numero," ")}}const yt=function(n,t){return{"is-valid":n,"is-invalid":t}};function RH(n,t){if(1&n){const e=G();u(0,"div",2),u(1,"input",55),w("ngModelChange",function(i){return R(e),b(2).identificacion=i}),d(),u(2,"label",56),m(3,"Numero de cedula de ciudadania"),u(4,"span",8),m(5,"*"),d(),d(),u(6,"div",9),m(7," Este campo es (*) obligatorio, rellenelo. "),d(),d()}if(2&n){const e=b(2);v(1),C("ngModel",e.identificacion)("ngClass",H(3,yt,8===(null==e.identificacion?null:e.identificacion.length)||10===(null==e.identificacion?null:e.identificacion.length),8!==(null==e.identificacion?null:e.identificacion.length)&&10!==(null==e.identificacion?null:e.identificacion.length)))("OnlyNumbers",!0)}}function MH(n,t){1&n&&(u(0,"label",27),m(1,"NIT (Con digito de verificacion) Ej. 890507890-4"),u(2,"span",8),m(3,"*"),d(),d())}function kH(n,t){if(1&n){const e=G();u(0,"div",57),u(1,"input",58),w("ngModelChange",function(i){return R(e),b(2).identificacion=i}),d(),u(2,"span",59),m(3,"-"),d(),u(4,"input",60),w("ngModelChange",function(i){return R(e),b(2).identificacion=i}),d(),d()}if(2&n){const e=b(2);v(1),C("ngModel",e.identificacion)("ngClass",H(6,yt,e.identificacion,!e.identificacion))("OnlyNumbers",!0),v(3),C("ngModel",e.identificacion)("ngClass",H(9,yt,e.identificacion,!e.identificacion))("OnlyNumbers",!0)}}function NH(n,t){if(1&n&&(u(0,"div",14),T(1,RH,8,6,"div",52),T(2,MH,4,0,"label",53),T(3,kH,5,12,"div",54),u(4,"div",9),m(5," Este campo es (*) obligatorio, rellenelo. "),d(),d()),2&n){const e=b();v(1),C("ngIf","Natural"===e.tipoDePersona),v(1),C("ngIf","Juridica"===e.tipoDePersona),v(1),C("ngIf","Juridica"===e.tipoDePersona)}}function PH(n,t){if(1&n){const e=G();u(0,"div",63),u(1,"div",64),u(2,"h5",65),m(3),d(),d(),u(4,"div",66),u(5,"a",67),u(6,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileFotocopiaCedulaClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(3),vt(" ",e.Index,". ",e.Name," "),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function xH(n,t){if(1&n&&(u(0,"div",61),T(1,PH,7,3,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.fotocopiaCedulaFiles)}}function OH(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function LH(n,t){if(1&n){const e=G();u(0,"div",63),T(1,OH,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileRUTClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function UH(n,t){if(1&n&&(u(0,"div",61),T(1,LH,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.rutFiles)}}function VH(n,t){if(1&n){const e=G();u(0,"div",63),u(1,"div",64),u(2,"h5",65),m(3),d(),d(),u(4,"div",66),u(5,"a",67),u(6,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileCertificacionBancariaClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(3),vt(" ",e.Index,". ",e.Name," "),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function HH(n,t){if(1&n&&(u(0,"div",61),T(1,VH,7,3,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.certificacionBancariaFiles)}}function BH(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function jH(n,t){if(1&n){const e=G();u(0,"div",63),T(1,BH,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileAfiliacionSaludClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function qH(n,t){if(1&n&&(u(0,"div",61),T(1,jH,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.afiliacionSaludFiles)}}function $H(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function GH(n,t){if(1&n){const e=G();u(0,"div",63),T(1,$H,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileAfiliacionPensionClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function zH(n,t){if(1&n&&(u(0,"div",61),T(1,GH,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.afiliacionPensionFiles)}}function WH(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function KH(n,t){if(1&n){const e=G();u(0,"div",63),T(1,WH,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileARLClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function QH(n,t){if(1&n&&(u(0,"div",61),T(1,KH,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.ARLFiles)}}function JH(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function YH(n,t){if(1&n){const e=G();u(0,"div",63),T(1,JH,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileTarjetaProfesionalClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function ZH(n,t){if(1&n&&(u(0,"div",61),T(1,YH,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.tarjetaProfesionalFiles)}}function XH(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function eB(n,t){if(1&n){const e=G();u(0,"div",63),T(1,XH,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileHojaDeVidaClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function tB(n,t){if(1&n&&(u(0,"div",61),T(1,eB,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.hojaDeVidaFiles)}}function nB(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function rB(n,t){if(1&n){const e=G();u(0,"div",63),T(1,nB,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileSoportesHojaDeVidaClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function iB(n,t){if(1&n&&(u(0,"div",61),T(1,rB,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.soportesHojaDeVidaFiles)}}function oB(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function sB(n,t){if(1&n){const e=G();u(0,"div",63),T(1,oB,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileTerminosDeReferenciaClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function aB(n,t){if(1&n&&(u(0,"div",61),T(1,sB,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.terminosDeReferenciaFiles)}}function cB(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function lB(n,t){if(1&n){const e=G();u(0,"div",63),T(1,cB,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileJustificacionContratistaClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function uB(n,t){if(1&n&&(u(0,"div",61),T(1,lB,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.justificacionContratistaFiles)}}function dB(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function hB(n,t){if(1&n){const e=G();u(0,"div",63),T(1,dB,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileExamenSaludOcupacionalClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function fB(n,t){if(1&n&&(u(0,"div",61),T(1,hB,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.examenSaludOcupacionalFiles)}}function pB(n,t){if(1&n&&(u(0,"div",70),Z(1,"img",71),d()),2&n){const e=b().$implicit;v(1),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function gB(n,t){if(1&n){const e=G();u(0,"div",63),T(1,pB,2,1,"div",69),u(2,"div",64),u(3,"h5",65),m(4),d(),d(),u(5,"div",66),u(6,"a",67),u(7,"img",68),w("click",function(){const o=R(e).$implicit;return b(2).onDeleteFileActaCumplimientoYConocimientoClick(o.Index)}),d(),d(),d(),d()}if(2&n){const e=t.$implicit;v(1),C("ngIf",!1),v(3),vt("",e.Index,". ",e.Name,""),v(3),xe("src",e.Uploaded?"../../../../assets/delete.png":"../../../../assets/loading.svg",De)}}function mB(n,t){if(1&n&&(u(0,"div",61),T(1,gB,8,4,"div",62),d()),2&n){const e=b();v(1),C("ngForOf",e.actaCumplimientoYConocimientoFiles)}}let vB=(()=>{class n{constructor(){this.convenios=[],this.waitTasks=[],this.fotocopiaCedulaFiles=[],this.rutFiles=[],this.certificacionBancariaFiles=[],this.afiliacionSaludFiles=[],this.afiliacionPensionFiles=[],this.ARLFiles=[],this.tarjetaProfesionalFiles=[],this.hojaDeVidaFiles=[],this.soportesHojaDeVidaFiles=[],this.terminosDeReferenciaFiles=[],this.justificacionContratistaFiles=[],this.examenSaludOcupacionalFiles=[],this.actaCumplimientoYConocimientoFiles=[],this.onWaitTasksChange=new Re}ngOnInit(){}getBase64(e){const r=new FileReader;return new Promise(i=>{r.onload=function(o){i(r.result.split(",")[1])},r.readAsDataURL(e)})}whenFileFotocopiaCedulaChange(e){let r=this.fotocopiaCedulaFiles.length;for(let i=0;e.target.files.length>i;i++)this.fotocopiaCedulaFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.fotocopiaCedulaFiles[r+i].Bytes=o,this.fotocopiaCedulaFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileFotocopiaCedulaClick(e){if(!0===this.fotocopiaCedulaFiles[e].Uploaded){this.fotocopiaCedulaFiles.splice(e,1);for(let r=0;this.fotocopiaCedulaFiles.length>r;r++)this.fotocopiaCedulaFiles[r].Index=r}}whenFileRUTChange(e){let r=this.rutFiles.length;for(let i=0;e.target.files.length>i;i++)this.rutFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.rutFiles[r+i].Bytes=o,this.rutFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileRUTClick(e){if(!0===this.rutFiles[e].Uploaded){this.rutFiles.splice(e,1);for(let r=0;this.rutFiles.length>r;r++)this.rutFiles[r].Index=r}}whenFileCertificacionBancariaChange(e){let r=this.certificacionBancariaFiles.length;for(let i=0;e.target.files.length>i;i++)this.certificacionBancariaFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.certificacionBancariaFiles[r+i].Bytes=o,this.certificacionBancariaFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileCertificacionBancariaClick(e){if(!0===this.certificacionBancariaFiles[e].Uploaded){this.certificacionBancariaFiles.splice(e,1);for(let r=0;this.certificacionBancariaFiles.length>r;r++)this.certificacionBancariaFiles[r].Index=r}}whenFileAfiliacionSaludChange(e){let r=this.afiliacionSaludFiles.length;for(let i=0;e.target.files.length>i;i++)this.afiliacionSaludFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.afiliacionSaludFiles[r+i].Bytes=o,this.afiliacionSaludFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileAfiliacionSaludClick(e){if(!0===this.afiliacionSaludFiles[e].Uploaded){this.afiliacionSaludFiles.splice(e,1);for(let r=0;this.afiliacionSaludFiles.length>r;r++)this.afiliacionSaludFiles[r].Index=r}}whenFileAfiliacionPensionChange(e){let r=this.afiliacionPensionFiles.length;for(let i=0;e.target.files.length>i;i++)this.afiliacionPensionFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.afiliacionPensionFiles[r+i].Bytes=o,this.afiliacionPensionFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileAfiliacionPensionClick(e){if(!0===this.afiliacionPensionFiles[e].Uploaded){this.afiliacionPensionFiles.splice(e,1);for(let r=0;this.afiliacionPensionFiles.length>r;r++)this.afiliacionPensionFiles[r].Index=r}}whenFileARLChange(e){let r=this.ARLFiles.length;for(let i=0;e.target.files.length>i;i++)this.ARLFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.ARLFiles[r+i].Bytes=o,this.ARLFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileARLClick(e){if(!0===this.ARLFiles[e].Uploaded){this.ARLFiles.splice(e,1);for(let r=0;this.ARLFiles.length>r;r++)this.ARLFiles[r].Index=r}}whenFileTarjetaProfesionalChange(e){let r=this.tarjetaProfesionalFiles.length;for(let i=0;e.target.files.length>i;i++)this.tarjetaProfesionalFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.tarjetaProfesionalFiles[r+i].Bytes=o,this.tarjetaProfesionalFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileTarjetaProfesionalClick(e){if(!0===this.tarjetaProfesionalFiles[e].Uploaded){this.tarjetaProfesionalFiles.splice(e,1);for(let r=0;this.tarjetaProfesionalFiles.length>r;r++)this.tarjetaProfesionalFiles[r].Index=r}}whenFileHojaDeVidaChange(e){let r=this.hojaDeVidaFiles.length;for(let i=0;e.target.files.length>i;i++)this.hojaDeVidaFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.hojaDeVidaFiles[r+i].Bytes=o,this.hojaDeVidaFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileHojaDeVidaClick(e){if(!0===this.hojaDeVidaFiles[e].Uploaded){this.hojaDeVidaFiles.splice(e,1);for(let r=0;this.hojaDeVidaFiles.length>r;r++)this.hojaDeVidaFiles[r].Index=r}}whenFileSoportesHojaDeVidaChange(e){let r=this.soportesHojaDeVidaFiles.length;for(let i=0;e.target.files.length>i;i++)this.soportesHojaDeVidaFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.soportesHojaDeVidaFiles[r+i].Bytes=o,this.soportesHojaDeVidaFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileSoportesHojaDeVidaClick(e){if(!0===this.soportesHojaDeVidaFiles[e].Uploaded){this.soportesHojaDeVidaFiles.splice(e,1);for(let r=0;this.soportesHojaDeVidaFiles.length>r;r++)this.soportesHojaDeVidaFiles[r].Index=r}}whenFileTerminosDeReferenciaChange(e){let r=this.terminosDeReferenciaFiles.length;for(let i=0;e.target.files.length>i;i++)this.terminosDeReferenciaFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.terminosDeReferenciaFiles[r+i].Bytes=o,this.terminosDeReferenciaFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileTerminosDeReferenciaClick(e){if(!0===this.terminosDeReferenciaFiles[e].Uploaded){this.terminosDeReferenciaFiles.splice(e,1);for(let r=0;this.terminosDeReferenciaFiles.length>r;r++)this.terminosDeReferenciaFiles[r].Index=r}}whenFileJustificacionContratistaChange(e){let r=this.justificacionContratistaFiles.length;for(let i=0;e.target.files.length>i;i++)this.justificacionContratistaFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.justificacionContratistaFiles[r+i].Bytes=o,this.justificacionContratistaFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileJustificacionContratistaClick(e){if(!0===this.justificacionContratistaFiles[e].Uploaded){this.justificacionContratistaFiles.splice(e,1);for(let r=0;this.justificacionContratistaFiles.length>r;r++)this.justificacionContratistaFiles[r].Index=r}}whenFileExamenSaludOcupacionalChange(e){let r=this.examenSaludOcupacionalFiles.length;for(let i=0;e.target.files.length>i;i++)this.examenSaludOcupacionalFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.examenSaludOcupacionalFiles[r+i].Bytes=o,this.examenSaludOcupacionalFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileExamenSaludOcupacionalClick(e){if(!0===this.examenSaludOcupacionalFiles[e].Uploaded){this.examenSaludOcupacionalFiles.splice(e,1);for(let r=0;this.examenSaludOcupacionalFiles.length>r;r++)this.examenSaludOcupacionalFiles[r].Index=r}}whenFileActaCumplimientoYConocimientoChange(e){let r=this.actaCumplimientoYConocimientoFiles.length;for(let i=0;e.target.files.length>i;i++)this.actaCumplimientoYConocimientoFiles.push({Index:r+i,Name:e.target.files[i].name,Size:e.target.files[i].size,Type:e.target.files[i].type,Uploaded:!1}),this.getBase64(e.target.files[i]).then(o=>{this.actaCumplimientoYConocimientoFiles[r+i].Bytes=o,this.actaCumplimientoYConocimientoFiles[r+i].Uploaded=!0});e.target.value=null}onDeleteFileActaCumplimientoYConocimientoClick(e){if(!0===this.actaCumplimientoYConocimientoFiles[e].Uploaded){this.actaCumplimientoYConocimientoFiles.splice(e,1);for(let r=0;this.actaCumplimientoYConocimientoFiles.length>r;r++)this.actaCumplimientoYConocimientoFiles[r].Index=r}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["app-forms-juridica-contratacion-request"]],inputs:{convenios:"convenios"},outputs:{onWaitTasksChange:"onWaitTasksChange"},decls:185,vars:85,consts:[[1,"row","g-3"],[1,"col-sm-6"],[1,"form-floating"],["name","floatingSelectGridTipoDePersona","id","floatingSelectGridTipoDePersona","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["selected","","disabled",""],["value","Natural"],["value","Juridica"],["for","floatingSelectGridTipoDePersona"],[1,"text-danger"],[1,"invalid-feedback"],["name","floatingSelectGridTipoDeRelacion","id","floatingSelectGridTipoDeRelacion","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["value","Contratista"],["value","Proveedor"],["for","floatingSelectGridTipoDeRelacion"],[1,"col-12"],["name","floatingSelectGridConvenio","id","floatingSelectGridConvenio","required","",1,"form-select",3,"ngModel","ngClass","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],[1,"form-floating","mb-3"],["type","text","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["for","formFileMultipleFotocopiaCedula",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleFotocopiaCedula","multiple","",1,"form-control",3,"ngClass","change"],["class","container",4,"ngIf"],["for","formFileMultipleRUT",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleRUT","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleCertificacionBancaria",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleCertificacionBancaria","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleAfiliacionSalud",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleafiliacionSalud","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleAfiliacionPension",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleAfiliacionPension","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleARL",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleARL","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleTarjetaProfesional",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipletarjetaProfesional","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipHojaDeVida",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultiplehojaDeVida","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleSoportesHojaDeVida",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultiplesoportesHojaDeVida","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleTerminosDeReferencia",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleterminosDeReferencia","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleJustificacionContratista",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultiplejustificacionContratista","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleExamenSaludOcupacional",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleexamenSaludOcupacional","multiple","",1,"form-control",3,"ngClass","change"],["for","formFileMultipleActaCumplimientoYConocimiento",1,"form-label"],["accept","text/csv, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, image/jpeg, image/png, application/pdf, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, application/vnd.visio, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/xml, text/xml","type","file","id","formFileMultipleactaCumplimientoYConocimiento","multiple","",1,"form-control",3,"ngClass","change"],[3,"value"],["class","form-floating",4,"ngIf"],["for","formFileMultipleRUT","class","form-label",4,"ngIf"],["class","input-group input-group-lg has-validation",4,"ngIf"],["type","text","name","floatingInputIdentificacion","id","floatingInputIdentificacion","placeholder","x","required","","maxlength","10",1,"form-control",3,"ngModel","ngClass","OnlyNumbers","ngModelChange"],["for","floatingInputIdentificacion"],[1,"input-group","input-group-lg","has-validation"],["type","text","placeholder","NIT Ej. 890507890-4","aria-label","NIT Ej. 890507890-4","maxlength","9",1,"form-control",3,"ngModel","ngClass","OnlyNumbers","ngModelChange"],[1,"input-group-text"],["type","text","placeholder","Digito de verificacion Ej. 890507890-4","aria-label","Digito de verificacion Ej. 890507890-4","maxlength","1",1,"form-control",3,"ngModel","ngClass","OnlyNumbers","ngModelChange"],[1,"container"],["class","\n                  row\n                  justify-content-center\n                  align-items-center\n                  mt-3\n                  border-start border-top border-primary border-1\n                ",4,"ngFor","ngForOf"],[1,"row","justify-content-center","align-items-center","mt-3","border-start","border-top","border-primary","border-1"],[1,"col-11"],[1,"mb-0"],[1,"col-1","gx-0"],["href","javascript:;"],["width","50px","height","50px",1,"img-fluid",3,"src","click"],["class","col-1",4,"ngIf"],[1,"col-1"],["width","50px","height","50px",1,"img-fluid",3,"src"]],template:function(e,r){1&e&&(u(0,"form"),u(1,"div",0),u(2,"div",1),u(3,"div",2),u(4,"select",3),w("ngModelChange",function(o){return r.tipoDePersona=o}),Z(5,"option",4),u(6,"option",5),m(7,"Natural"),d(),u(8,"option",6),m(9,"Juridica"),d(),d(),u(10,"label",7),m(11,"Tipo de persona"),u(12,"span",8),m(13,"*"),d(),d(),u(14,"div",9),m(15," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),u(16,"div",1),u(17,"div",2),u(18,"select",10),w("ngModelChange",function(o){return r.tipoDeRelacion=o}),Z(19,"option",4),u(20,"option",11),m(21,"Contratista"),d(),u(22,"option",12),m(23,"Proveedor"),d(),d(),u(24,"label",13),m(25,"Tipo de relacion"),u(26,"span",8),m(27,"*"),d(),d(),u(28,"div",9),m(29," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),u(30,"div",14),u(31,"div",2),u(32,"select",15),w("ngModelChange",function(o){return r.convenio=o}),Z(33,"option",4),T(34,FH,2,3,"option",16),d(),u(35,"label",13),m(36,"Convenio"),u(37,"span",8),m(38,"*"),d(),d(),u(39,"div",9),m(40," Este campo es (*) obligatorio, seleccione una opcion. "),d(),d(),d(),T(41,NH,6,3,"div",17),u(42,"div",14),u(43,"div",18),u(44,"div",19),m(45," Datos del contratista "),d(),u(46,"div",20),u(47,"div",14),u(48,"div",21),u(49,"input",22),w("ngModelChange",function(o){return r.nombresApellidos=o}),d(),u(50,"label",23),m(51,"Nombre y Apellidos del contratista"),d(),d(),d(),u(52,"div",14),u(53,"div",21),u(54,"input",22),w("ngModelChange",function(o){return r.direccion=o}),d(),u(55,"label",23),m(56,"Direcci\xf3n"),d(),d(),d(),u(57,"div",14),u(58,"div",21),u(59,"input",22),w("ngModelChange",function(o){return r.telefono=o}),d(),u(60,"label",23),m(61,"Telefono"),d(),d(),d(),d(),d(),d(),u(62,"div",14),u(63,"div",18),u(64,"div",19),m(65," Documentos "),d(),u(66,"div",20),u(67,"div",14),u(68,"label",24),m(69,"Fotocopia cedula"),u(70,"span",8),m(71,"*"),d(),d(),u(72,"input",25),w("change",function(o){return r.whenFileFotocopiaCedulaChange(o)}),d(),u(73,"div",9),m(74," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(75,xH,2,1,"div",26),d(),u(76,"div",14),u(77,"label",27),m(78,"RUT"),u(79,"span",8),m(80,"*"),d(),d(),u(81,"input",28),w("change",function(o){return r.whenFileRUTChange(o)}),d(),u(82,"div",9),m(83," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(84,UH,2,1,"div",26),d(),u(85,"div",14),u(86,"label",29),m(87,"Certificacion bancaria"),u(88,"span",8),m(89,"*"),d(),d(),u(90,"input",30),w("change",function(o){return r.whenFileCertificacionBancariaChange(o)}),d(),u(91,"div",9),m(92," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(93,HH,2,1,"div",26),d(),u(94,"div",14),u(95,"label",31),m(96,"Constacia de afiliaci\xf3n a salud"),u(97,"span",8),m(98,"*"),d(),d(),u(99,"input",32),w("change",function(o){return r.whenFileAfiliacionSaludChange(o)}),d(),u(100,"div",9),m(101," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(102,qH,2,1,"div",26),d(),u(103,"div",14),u(104,"label",33),m(105,"Constancia de afiliaci\xf3n a pensi\xf3n"),u(106,"span",8),m(107,"*"),d(),d(),u(108,"input",34),w("change",function(o){return r.whenFileAfiliacionPensionChange(o)}),d(),u(109,"div",9),m(110," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(111,zH,2,1,"div",26),d(),u(112,"div",14),u(113,"label",35),m(114,"Constancia de afiliaci\xf3n ARL para contratos superior de un mes"),u(115,"span",8),m(116,"*"),d(),d(),u(117,"input",36),w("change",function(o){return r.whenFileARLChange(o)}),d(),u(118,"div",9),m(119," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(120,QH,2,1,"div",26),d(),u(121,"div",14),u(122,"label",37),m(123,"Tarjeta Profesional"),u(124,"span",8),m(125,"*"),d(),d(),u(126,"input",38),w("change",function(o){return r.whenFileTarjetaProfesionalChange(o)}),d(),u(127,"div",9),m(128," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(129,ZH,2,1,"div",26),d(),u(130,"div",14),u(131,"label",39),m(132,"Hoja de vida"),u(133,"span",8),m(134,"*"),d(),d(),u(135,"input",40),w("change",function(o){return r.whenFileHojaDeVidaChange(o)}),d(),u(136,"div",9),m(137," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(138,tB,2,1,"div",26),d(),u(139,"div",14),u(140,"label",41),m(141,"Soportes hoja de vida (Estudio, Laborales)"),u(142,"span",8),m(143,"*"),d(),d(),u(144,"input",42),w("change",function(o){return r.whenFileSoportesHojaDeVidaChange(o)}),d(),u(145,"div",9),m(146," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(147,iB,2,1,"div",26),d(),u(148,"div",14),u(149,"label",43),m(150,"Terminos de referencia Firmados"),u(151,"span",8),m(152,"*"),d(),d(),u(153,"input",44),w("change",function(o){return r.whenFileTerminosDeReferenciaChange(o)}),d(),u(154,"div",9),m(155," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(156,aB,2,1,"div",26),d(),u(157,"div",14),u(158,"label",45),m(159,"Soporte justificaci\xf3n de la selecci\xf3n del contratista"),u(160,"span",8),m(161,"*"),d(),d(),u(162,"input",46),w("change",function(o){return r.whenFileJustificacionContratistaChange(o)}),d(),u(163,"div",9),m(164," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(165,uB,2,1,"div",26),d(),u(166,"div",14),u(167,"label",47),m(168,"Examen salud ocupacional"),u(169,"span",8),m(170,"*"),d(),d(),u(171,"input",48),w("change",function(o){return r.whenFileExamenSaludOcupacionalChange(o)}),d(),u(172,"div",9),m(173," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(174,fB,2,1,"div",26),d(),u(175,"div",14),u(176,"label",49),m(177,"Formato acta de cumplimiento y conocimiento del SG-SST"),u(178,"span",8),m(179,"*"),d(),d(),u(180,"input",50),w("change",function(o){return r.whenFileActaCumplimientoYConocimientoChange(o)}),d(),u(181,"div",9),m(182," Este campo es (*) obligatorio, cargue almenos 1 archivo. "),d(),T(183,mB,2,1,"div",26),d(),d(),d(),d(),d(),Z(184,"br"),d()),2&e&&(v(4),C("ngModel",r.tipoDePersona)("ngClass",H(37,yt,r.tipoDePersona,!r.tipoDePersona)),v(14),C("ngModel",r.tipoDeRelacion)("ngClass",H(40,yt,r.tipoDeRelacion,!r.tipoDeRelacion)),v(14),C("ngModel",r.convenio)("ngClass",H(43,yt,r.convenio,!r.convenio)),v(2),C("ngForOf",r.convenios),v(7),C("ngIf",void 0!==r.tipoDePersona),v(8),C("ngModel",r.nombresApellidos),v(5),C("ngModel",r.direccion),v(5),C("ngModel",r.telefono),v(13),C("ngClass",H(46,yt,r.fotocopiaCedulaFiles.length>0,0===r.fotocopiaCedulaFiles.length)),v(3),C("ngIf",r.fotocopiaCedulaFiles.length>0),v(6),C("ngClass",H(49,yt,r.rutFiles.length>0,0===r.rutFiles.length)),v(3),C("ngIf",r.rutFiles.length>0),v(6),C("ngClass",H(52,yt,r.certificacionBancariaFiles.length>0,0===r.certificacionBancariaFiles.length)),v(3),C("ngIf",r.certificacionBancariaFiles.length>0),v(6),C("ngClass",H(55,yt,r.afiliacionSaludFiles.length>0,0===r.afiliacionSaludFiles.length)),v(3),C("ngIf",r.afiliacionSaludFiles.length>0),v(6),C("ngClass",H(58,yt,r.afiliacionPensionFiles.length>0,0===r.afiliacionPensionFiles.length)),v(3),C("ngIf",r.afiliacionPensionFiles.length>0),v(6),C("ngClass",H(61,yt,r.ARLFiles.length>0,0===r.ARLFiles.length)),v(3),C("ngIf",r.ARLFiles.length>0),v(6),C("ngClass",H(64,yt,r.tarjetaProfesionalFiles.length>0,0===r.tarjetaProfesionalFiles.length)),v(3),C("ngIf",r.tarjetaProfesionalFiles.length>0),v(6),C("ngClass",H(67,yt,r.hojaDeVidaFiles.length>0,0===r.hojaDeVidaFiles.length)),v(3),C("ngIf",r.hojaDeVidaFiles.length>0),v(6),C("ngClass",H(70,yt,r.soportesHojaDeVidaFiles.length>0,0===r.soportesHojaDeVidaFiles.length)),v(3),C("ngIf",r.soportesHojaDeVidaFiles.length>0),v(6),C("ngClass",H(73,yt,r.terminosDeReferenciaFiles.length>0,0===r.terminosDeReferenciaFiles.length)),v(3),C("ngIf",r.terminosDeReferenciaFiles.length>0),v(6),C("ngClass",H(76,yt,r.justificacionContratistaFiles.length>0,0===r.justificacionContratistaFiles.length)),v(3),C("ngIf",r.justificacionContratistaFiles.length>0),v(6),C("ngClass",H(79,yt,r.examenSaludOcupacionalFiles.length>0,0===r.examenSaludOcupacionalFiles.length)),v(3),C("ngIf",r.examenSaludOcupacionalFiles.length>0),v(6),C("ngClass",H(82,yt,r.actaCumplimientoYConocimientoFiles.length>0,0===r.actaCumplimientoYConocimientoFiles.length)),v(3),C("ngIf",r.actaCumplimientoYConocimientoFiles.length>0))},directives:[fc,cc,ho,si,gc,Mi,oi,Gn,fo,po,fr,Rn,ii,go,mc],styles:[""]}),n})();function _B(n,t){1&n&&Z(0,"app-forms-tests")}function CB(n,t){if(1&n){const e=G();u(0,"app-forms-financiera-registration",11),w("onWaitTasksChange",function(i){return R(e),b().setWaitTasks(i)}),d()}}function yB(n,t){1&n&&Z(0,"app-forms-financiera-invoice")}function EB(n,t){1&n&&Z(0,"app-forms-coordinacionlogistica")}function bB(n,t){1&n&&Z(0,"app-forms-coordinacionlogistica-fillquotations")}function AB(n,t){1&n&&Z(0,"app-forms-coordinacionlogistica-selectquotation")}function wB(n,t){if(1&n){const e=G();u(0,"app-forms-juridica-contratacion-convenio-request",12),w("onWaitTasksChange",function(i){return R(e),b().setWaitTasks(i)}),d()}2&n&&C("convenios",b().convenios)}function SB(n,t){if(1&n){const e=G();u(0,"app-forms-juridica-contratacion-request",12),w("onWaitTasksChange",function(i){return R(e),b().setWaitTasks(i)}),d()}2&n&&C("convenios",b().convenios)}let gn=(()=>{class n{constructor(e,r,i){this.formsService=e,this.router=r,this.route=i,this.waitTasks=[],this.convenios=[]}setWaitTasks(e){setTimeout(()=>{this.waitTasks=e},0)}ngOnInit(){switch(this.router.url){case"/forms/tests":return this.title="Test",void(this.description="");case"/forms/financiera/registration":return this.title="Registro colaborador o proveedor",void(this.description="El registro es necesario para los procesos:\n- Envio de cuentas de cobro\n- Facturas\n- Anticipos\n- Pagos directos\n- Legalizaciones");case"/forms/financiera/invoice":return this.title="Gestion de cuentas colaborador o proveedor",void(this.description="Aqui podra realizar los siguientes procesos:\n- Envio de cuentas de cobro\n- Facturas\n- Anticipos\n- Pagos directos\n- Legalizaciones");case"/forms/coordinacionlogistica":return this.title="Coordinacion logistica",void(this.description="Coordinacion logistica descripcion");case"/forms/coordinacionlogistica/"+this.route.snapshot.params.id+"/fillquotations":return this.title="Coordinacion logistica fill quotations",void(this.description="Coordinacion logistica fill quotations descripcion");case"/forms/coordinacionlogistica/"+this.route.snapshot.params.id+"/selectquotation":return this.title="Coordinacion logistica select quotation",void(this.description="Coordinacion logistica select quotation descripcion");case"/forms/juridica/contratacion/convenio/request":return this.title="Subscripcion de convenio",void(this.description="Subscription request");case"/forms/juridica/contratacion/request":return this.title="Formulario de contratacion",void(this.description="Formulario de contratacion descripcion.");case"/forms/juridica/contratacion/directa/"+this.route.snapshot.params.id:return this.title="Formato solicictud de adquisicion modalidad contratacion marco contratacion directa",void(this.description="1. Compras o contrataciones directas se consideran aquellas cuyo valor estimado es igual o inferior a $40.000.000\n2. Las compras de menor importe, hasta $10.000.000$, se adquirir\xe1n directamente de los proveedores o prestadores de servicios, pedido contra factura\n3. Las compras superiores a $10.000.000$ e inferiores o iguales a $40.000.000 podr\xe1n hacerse por contrataci\xf3n directa con base en una sola oferta.\n4. Estas compras directas, por un importe igual o inferior a $40.000.000, no podr\xe1n tener una duraci\xf3n superior a un a\xf1o ni ser objeto de pr\xf3rroga.");case"/forms/juridica/contratacion/directa/excepcion/consultores/"+this.route.snapshot.params.id:return this.title="Formato solicictud de adquisicion modalidad contratacion marco contratacion directa por excepcion (Consultores)",void(this.description="1. La selecci\xf3n directa de consultores no ofrece los beneficios de la competencia en lo que respecta a la calidad y el costo y carece de transparencia, lo que podr\xeda promover pr\xe1cticas inaceptables. Por consiguiente, s\xf3lo se utilizar\xe1 en casos excepcionales.\n2. La OEI podr\xe1 contar con esta modalidad de contrataci\xf3n que constituye una excepci\xf3n al procedimiento general ya que se utiliza \xfanicamente para contratos que no superen  la suma de DIECIOCHO MIL DOLARES (USD 18.000).\n3. La decisi\xf3n de utilizar este modelo de contrataci\xf3n deber\xe1, en todos los casos, estar justificada por motivos de m\xe9rito y capacidad, prescindi\xe9ndose tanto de la publicidad como de la invitaci\xf3n, en aquellas circunstancias en las que la ejecuci\xf3n del contrato requiera una especializaci\xf3n del contratista en raz\xf3n de su experiencia y/o formaci\xf3n acad\xe9mica o profesional.\n4. La justificaci\xf3n de este tipo de contrataci\xf3n deber\xe1 en todo caso quedar registrada documentalmente en el expediente de contrataci\xf3n, cuyas caracter\xedsticas exijan la contrataci\xf3n de personas naturales o jur\xeddicas de prestigio en un determinado \xe1mbito, por su especializaci\xf3n y trayectoria acad\xe9mica o profesional evaluada por el \xf3rgano de contrataci\xf3n.");case"/forms/juridica/contratacion/directa/excepcion/sinlimite/"+this.route.snapshot.params.id:return this.title="Formato solicictud de adquisicion modalidad contratacion marco contratacion directa por excepcion (Sin limite)",void(this.description="Entre los de utilizaci\xf3n ordinaria. Por consiguiente, es de utilizaci\xf3n limitada y restrictiva y s\xf3lo se utilizar\xe1 en casos excepcionales.");case"/forms/juridica/contratacion/directa/comparativadeprecios/"+this.route.snapshot.params.id:return this.title="Formato solicictud de adquisicion modalidad contratacion marco contratacion por comparativa de precios",void(this.description="1. Procedimiento abreviado utilizado s\xf3lo para compras de suministros comunes con especificaciones est\xe1ndares, este procedimiento de contrataci\xf3n no podr\xe1 superar en ning\xfan caso el importe de $ 80.000.000.\n2. Este procedimiento est\xe1 basado en la comparaci\xf3n de precios ofertados por al menos tres (3) potenciales proveedores. La adjudicaci\xf3n de estos contratos ser\xe1 otorgada por el \xf3rgano de contrataci\xf3n a la oferta con el precio m\xe1s bajo de entre todas las ofertas regulares y conformes.\n3. Por su propia naturaleza, adquisiciones al precio m\xe1s bajo, en la comparativa de precios la OEI no dar\xe1 a conocer a los proveedores el presupuesto oficial, es decir, el l\xedmite m\xe1ximo de gasto que en virtud del contrato puede comprometer el \xf3rgano de contrataci\xf3n, incluido el impuesto sobre el valor a\xf1adido.\n4. La selecci\xf3n del adjudicatario siempre deber\xe1 estar basada en el precio m\xe1s bajo, lo que significa que las especificaciones t\xe9cnicas (requisitos m\xednimos) deben estar suficientemente detalladas como para que no sea posible valorar otros aspectos diferentes al precio. En la comparativa de precios no se nombrar\xe1 un Comit\xe9 de Evaluaci\xf3n.\n5. El expediente de contrataci\xf3n del procedimiento de comparativa de precios contendr\xe1 la solicitud u orden de compra con las especificaciones correspondientes y el documento de comparativa de precios del Anexo II.");case"/forms/juridica/contratacion/simplificadaysupersimplificada/"+this.route.snapshot.params.id:return this.title="Formato solicictud de adquisicion modalidad contratacion procedimientos supersimplificado y simplificado",void(this.description="Procedimientos utilizados para compras de valor intermedio, consiste en la invitaci\xf3n a un m\xednimo de tres oferentes sujetos a unos requisitos (plazos, condiciones, especificaciones t\xe9cnicas) en virtud de las cuales presentan sus propuestas y que posteriormente la OEI adjudicar\xe1 en funci\xf3n de los criterios de adjudicaci\xf3n correspondientes a la naturaleza del objeto del contrato (servicios, suministros u obras).");case"/forms/juridica/contratacion/licitacion/"+this.route.snapshot.params.id:return this.title="Formato solicictud de adquisicion modalidad contratacion por licitacion",void(this.description='Cuando se trate de contratos de cuant\xeda superior a $400.000.000, la OEI publicar\xe1 un anuncio en su p\xe1gina web en el "\xc1rea de Contrataci\xf3n" y en cualquier otro medio adicional que estime conveniente con el objetivo de aumentar su difusi\xf3n. La publicaci\xf3n deber\xe1 incluir el "Pliego de condiciones"')}}isRoute(e){return this.router.url===e}startWithRoute(e){return this.router.url.startsWith(e)}endWithRoute(e){return this.router.url.endsWith(e)}onSubmitFinancieraRegistrationForm(e){var r;this.formsService.postFormsFinancieraRegistration(e).subscribe(i=>{switch(i.type){case I.Sent:r=$.makeRandomString(4),this.waitTasks.push({id:r,description:"Subiendo informaci\xf3n...",total:0,current:0,progress:0});break;case I.UploadProgress:let o=this.waitTasks.findIndex(s=>s.id===r);this.waitTasks[o].total=i.total,this.waitTasks[o].current=i.loaded,this.waitTasks[o].progress=Math.round(100*i.loaded/i.total);break;case I.Response:this.waitTasks.splice(this.waitTasks.findIndex(s=>s.id===r),1)}})}onSubmitFormsJuridicaContratacionConvenioRequest(e){}onSubmitFormsJuridicaContratacionRequest(e){}onSubmitFormsJuridicaContratacion(e){var r;this.formsService.submitFormsJuridicaContratacion(e).subscribe(i=>{switch(i.type){case I.Sent:r=$.makeRandomString(4),this.waitTasks.push({id:r,description:"Subiendo informaci\xf3n...",total:0,current:0,progress:0});break;case I.UploadProgress:let o=this.waitTasks.findIndex(s=>s.id===r);this.waitTasks[o].total=i.total,this.waitTasks[o].current=i.loaded,this.waitTasks[o].progress=Math.round(100*i.loaded/i.total);break;case I.Response:this.waitTasks.splice(this.waitTasks.findIndex(s=>s.id===r),1)}})}}return n.\u0275fac=function(e){return new(e||n)(D(Ii),D(Ct),D(ri))},n.\u0275cmp=ft({type:n,selectors:[["app-forms"]],decls:20,vars:10,consts:[[1,"container"],[1,"card","shadow-lg","bg-body","rounded","border-primary","border-0","border","border-5","my-3","border-start"],["src","../../../assets/banner.png",1,"card-img-top"],[1,"card-body"],[1,"row","g-3"],[1,"col-12"],[1,"card-title","text-center",2,"white-space","pre-wrap"],[1,"card-text",2,"white-space","pre-wrap"],[4,"ngIf"],[3,"onWaitTasksChange",4,"ngIf"],[3,"convenios","onWaitTasksChange",4,"ngIf"],[3,"onWaitTasksChange"],[3,"convenios","onWaitTasksChange"]],template:function(e,r){1&e&&(u(0,"div",0),u(1,"div",1),Z(2,"img",2),u(3,"div",3),u(4,"div",4),u(5,"div",5),u(6,"h5",6),m(7),d(),d(),u(8,"div",5),u(9,"p",7),m(10),d(),d(),u(11,"div",5),T(12,_B,1,0,"app-forms-tests",8),T(13,CB,1,0,"app-forms-financiera-registration",9),T(14,yB,1,0,"app-forms-financiera-invoice",8),T(15,EB,1,0,"app-forms-coordinacionlogistica",8),T(16,bB,1,0,"app-forms-coordinacionlogistica-fillquotations",8),T(17,AB,1,0,"app-forms-coordinacionlogistica-selectquotation",8),T(18,wB,1,1,"app-forms-juridica-contratacion-convenio-request",10),T(19,SB,1,1,"app-forms-juridica-contratacion-request",10),d(),d(),d(),d(),d()),2&e&&(v(7),Gt(" ",r.title," "),v(3),Gt(" ",r.description," "),v(2),C("ngIf",r.isRoute("/forms/tests")),v(1),C("ngIf",r.isRoute("/forms/financiera/registration")),v(1),C("ngIf",r.isRoute("/forms/financiera/invoice")),v(1),C("ngIf",r.isRoute("/forms/coordinacionlogistica")),v(1),C("ngIf",r.startWithRoute("/forms/coordinacionlogistica/")&&r.endWithRoute("/fillquotations")),v(1),C("ngIf",r.startWithRoute("/forms/coordinacionlogistica/")&&r.endWithRoute("/selectquotation")),v(1),C("ngIf",r.isRoute("/forms/juridica/contratacion/convenio/request")),v(1),C("ngIf",r.isRoute("/forms/juridica/contratacion/request")))},directives:[Rn,pV,v4,Q4,mH,yH,wH,DH,vB],styles:[""]}),n})(),TB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ft({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(e,r){},styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),n})();var Bg=function(n,t){return(Bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function Kn(n,t){function e(){this.constructor=n}Bg(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Qt=function(){return Qt=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Qt.apply(this,arguments)};function fe(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(f){s(f)}}function c(h){try{l(r.throw(h))}catch(f){s(f)}}function l(h){h.done?o(h.value):function(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}function pe(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}}function Ku(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;var r=Array(n),i=0;for(t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var U={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",ADFS:"adfs",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},jg=[U.OPENID_SCOPE,U.PROFILE_SCOPE,U.OFFLINE_ACCESS_SCOPE],GS=Ku(jg,[U.EMAIL_SCOPE]),Or=(()=>(function(n){n.CONTENT_TYPE="Content-Type",n.RETRY_AFTER="Retry-After",n.CCS_HEADER="X-AnchorMailbox",n.WWWAuthenticate="WWW-Authenticate",n.AuthenticationInfo="Authentication-Info"}(Or||(Or={})),Or))(),Ft=(()=>(function(n){n.ID_TOKEN="idtoken",n.CLIENT_INFO="client.info",n.ADAL_ID_TOKEN="adal.idtoken",n.ERROR="error",n.ERROR_DESC="error.description",n.ACTIVE_ACCOUNT="active-account"}(Ft||(Ft={})),Ft))(),_c=(()=>(function(n){n.COMMON="common",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers"}(_c||(_c={})),_c))(),Ce=(()=>(function(n){n.CLIENT_ID="client_id",n.REDIRECT_URI="redirect_uri",n.RESPONSE_TYPE="response_type",n.RESPONSE_MODE="response_mode",n.GRANT_TYPE="grant_type",n.CLAIMS="claims",n.SCOPE="scope",n.ERROR="error",n.ERROR_DESCRIPTION="error_description",n.ACCESS_TOKEN="access_token",n.ID_TOKEN="id_token",n.REFRESH_TOKEN="refresh_token",n.EXPIRES_IN="expires_in",n.STATE="state",n.NONCE="nonce",n.PROMPT="prompt",n.SESSION_STATE="session_state",n.CLIENT_INFO="client_info",n.CODE="code",n.CODE_CHALLENGE="code_challenge",n.CODE_CHALLENGE_METHOD="code_challenge_method",n.CODE_VERIFIER="code_verifier",n.CLIENT_REQUEST_ID="client-request-id",n.X_CLIENT_SKU="x-client-SKU",n.X_CLIENT_VER="x-client-VER",n.X_CLIENT_OS="x-client-OS",n.X_CLIENT_CPU="x-client-CPU",n.X_CLIENT_CURR_TELEM="x-client-current-telemetry",n.X_CLIENT_LAST_TELEM="x-client-last-telemetry",n.X_MS_LIB_CAPABILITY="x-ms-lib-capability",n.POST_LOGOUT_URI="post_logout_redirect_uri",n.ID_TOKEN_HINT="id_token_hint",n.DEVICE_CODE="device_code",n.CLIENT_SECRET="client_secret",n.CLIENT_ASSERTION="client_assertion",n.CLIENT_ASSERTION_TYPE="client_assertion_type",n.TOKEN_TYPE="token_type",n.REQ_CNF="req_cnf",n.OBO_ASSERTION="assertion",n.REQUESTED_TOKEN_USE="requested_token_use",n.ON_BEHALF_OF="on_behalf_of",n.FOCI="foci",n.CCS_HEADER="X-AnchorMailbox",n.RETURN_SPA_CODE="return_spa_code"}(Ce||(Ce={})),Ce))(),mo=(()=>(function(n){n.ACCESS_TOKEN="access_token",n.XMS_CC="xms_cc"}(mo||(mo={})),mo))(),vo={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create"},Ds=(()=>(function(n){n.ACCOUNT="account",n.SID="sid",n.LOGIN_HINT="login_hint",n.ID_TOKEN="id_token",n.DOMAIN_HINT="domain_hint",n.ORGANIZATIONS="organizations",n.CONSUMERS="consumers",n.ACCOUNT_ID="accountIdentifier",n.HOMEACCOUNT_ID="homeAccountIdentifier"}(Ds||(Ds={})),Ds))(),zS={PLAIN:"plain",S256:"S256"},Cc=(()=>(function(n){n.QUERY="query",n.FRAGMENT="fragment",n.FORM_POST="form_post"}(Cc||(Cc={})),Cc))(),yc=(()=>(function(n){n.IMPLICIT_GRANT="implicit",n.AUTHORIZATION_CODE_GRANT="authorization_code",n.CLIENT_CREDENTIALS_GRANT="client_credentials",n.RESOURCE_OWNER_PASSWORD_GRANT="password",n.REFRESH_TOKEN_GRANT="refresh_token",n.DEVICE_CODE_GRANT="device_code",n.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(yc||(yc={})),yc))(),Lr=(()=>(function(n){n.MSSTS_ACCOUNT_TYPE="MSSTS",n.ADFS_ACCOUNT_TYPE="ADFS",n.MSAV1_ACCOUNT_TYPE="MSA",n.GENERIC_ACCOUNT_TYPE="Generic"}(Lr||(Lr={})),Lr))(),mn=(()=>(function(n){n.CACHE_KEY_SEPARATOR="-",n.CLIENT_INFO_SEPARATOR="."}(mn||(mn={})),mn))(),ye=(()=>(function(n){n.ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",n.REFRESH_TOKEN="RefreshToken"}(ye||(ye={})),ye))(),Ni=(()=>(function(n){n.ACCOUNT="Account",n.CREDENTIAL="Credential",n.ID_TOKEN="IdToken",n.ACCESS_TOKEN="AccessToken",n.REFRESH_TOKEN="RefreshToken",n.APP_METADATA="AppMetadata",n.TEMPORARY="TempCache",n.TELEMETRY="Telemetry",n.UNDEFINED="Undefined",n.THROTTLING="Throttling"}(Ni||(Ni={})),Ni))(),Ur=(()=>(function(n){n[n.ADFS=1001]="ADFS",n[n.MSA=1002]="MSA",n[n.MSSTS=1003]="MSSTS",n[n.GENERIC=1004]="GENERIC",n[n.ACCESS_TOKEN=2001]="ACCESS_TOKEN",n[n.REFRESH_TOKEN=2002]="REFRESH_TOKEN",n[n.ID_TOKEN=2003]="ID_TOKEN",n[n.APP_METADATA=3001]="APP_METADATA",n[n.UNDEFINED=9999]="UNDEFINED"}(Ur||(Ur={})),Ur))(),qg="appmetadata",mr=(()=>(function(n){n.CONFIG="config",n.CACHE="cache",n.NETWORK="network"}(mr||(mr={})),mr))(),Lt={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ot=(()=>(function(n){n.BEARER="Bearer",n.POP="pop",n.SSH="ssh-cert"}(ot||(ot={})),ot))(),Ac=(()=>(function(n){n.username="username",n.password="password"}(Ac||(Ac={})),Ac))(),_o=(()=>(function(n){n[n.httpSuccess=200]="httpSuccess",n[n.httpBadRequest=400]="httpBadRequest"}(_o||(_o={})),_o))(),ai=(()=>(function(n){n.FAILED_AUTO_DETECTION="1",n.INTERNAL_CACHE="2",n.ENVIRONMENT_VARIABLE="3",n.IMDS="4"}(ai||(ai={})),ai))(),Pi=(()=>(function(n){n.CONFIGURED_MATCHES_DETECTED="1",n.CONFIGURED_NO_AUTO_DETECTION="2",n.CONFIGURED_NOT_DETECTED="3",n.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",n.AUTO_DETECTION_REQUESTED_FAILED="5"}(Pi||(Pi={})),Pi))(),xi=(()=>(function(n){n.NO_CACHE_HIT="0",n.FORCE_REFRESH="1",n.NO_CACHED_ACCESS_TOKEN="2",n.CACHED_ACCESS_TOKEN_EXPIRED="3",n.REFRESH_CACHED_ACCESS_TOKEN="4"}(xi||(xi={})),xi))(),Jt=(()=>(function(n){n.LocalStorage="localStorage",n.SessionStorage="sessionStorage",n.MemoryStorage="memoryStorage"}(Jt||(Jt={})),Jt))(),vr=(()=>(function(n){n.GET="GET",n.POST="POST"}(vr||(vr={})),vr))(),Ue=(()=>(function(n){n.AUTHORITY="authority",n.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",n.SESSION_STATE="session.state",n.REQUEST_STATE="request.state",n.NONCE_IDTOKEN="nonce.id_token",n.ORIGIN_URI="request.origin",n.RENEW_STATUS="token.renew.status",n.URL_HASH="urlHash",n.REQUEST_PARAMS="request.params",n.SCOPES="scopes",n.INTERACTION_STATUS_KEY="interaction.status",n.CCS_CREDENTIAL="ccs.credential",n.CORRELATION_ID="request.correlationId"}(Ue||(Ue={})),Ue))(),Co=(()=>(function(n){n.WRAPPER_SKU="wrapper.sku",n.WRAPPER_VER="wrapper.version"}(Co||(Co={})),Co))(),Ut=(()=>(function(n){n[n.acquireTokenRedirect=861]="acquireTokenRedirect",n[n.acquireTokenPopup=862]="acquireTokenPopup",n[n.ssoSilent=863]="ssoSilent",n[n.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",n[n.handleRedirectPromise=865]="handleRedirectPromise",n[n.acquireTokenByCode=866]="acquireTokenByCode",n[n.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",n[n.logout=961]="logout",n[n.logoutPopup=962]="logoutPopup"}(Ut||(Ut={})),Ut))(),q=(()=>(function(n){n.Redirect="redirect",n.Popup="popup",n.Silent="silent"}(q||(q={})),q))(),Rt=(()=>(function(n){n.Startup="startup",n.Login="login",n.Logout="logout",n.AcquireToken="acquireToken",n.SsoSilent="ssoSilent",n.HandleRedirect="handleRedirect",n.None="none"}(Rt||(Rt={})),Rt))(),KS={scopes:jg},wc="jwk",Ju=(()=>(function(n){n.React="@azure/msal-react",n.Angular="@azure/msal-angular"}(Ju||(Ju={})),Ju))(),$g="msal.db",Q=(()=>(function(n){n.ACCOUNT_ADDED="msal:accountAdded",n.ACCOUNT_REMOVED="msal:accountRemoved",n.LOGIN_START="msal:loginStart",n.LOGIN_SUCCESS="msal:loginSuccess",n.LOGIN_FAILURE="msal:loginFailure",n.ACQUIRE_TOKEN_START="msal:acquireTokenStart",n.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",n.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",n.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",n.SSO_SILENT_START="msal:ssoSilentStart",n.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",n.SSO_SILENT_FAILURE="msal:ssoSilentFailure",n.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",n.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",n.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",n.HANDLE_REDIRECT_START="msal:handleRedirectStart",n.HANDLE_REDIRECT_END="msal:handleRedirectEnd",n.POPUP_OPENED="msal:popupOpened",n.LOGOUT_START="msal:logoutStart",n.LOGOUT_SUCCESS="msal:logoutSuccess",n.LOGOUT_FAILURE="msal:logoutFailure",n.LOGOUT_END="msal:logoutEnd"}(Q||(Q={})),Q))(),RB=function(){function n(){}return n.getInteractionStatusFromEvent=function(t,e){switch(t.eventType){case Q.LOGIN_START:return Rt.Login;case Q.SSO_SILENT_START:return Rt.SsoSilent;case Q.ACQUIRE_TOKEN_START:if(t.interactionType===q.Redirect||t.interactionType===q.Popup)return Rt.AcquireToken;break;case Q.HANDLE_REDIRECT_START:return Rt.HandleRedirect;case Q.LOGOUT_START:return Rt.Logout;case Q.SSO_SILENT_SUCCESS:case Q.SSO_SILENT_FAILURE:if(e&&e!==Rt.SsoSilent)break;return Rt.None;case Q.LOGOUT_END:if(e&&e!==Rt.Logout)break;return Rt.None;case Q.HANDLE_REDIRECT_END:if(e&&e!==Rt.HandleRedirect)break;return Rt.None;case Q.LOGIN_SUCCESS:case Q.LOGIN_FAILURE:case Q.ACQUIRE_TOKEN_SUCCESS:case Q.ACQUIRE_TOKEN_FAILURE:if(t.interactionType===q.Redirect||t.interactionType===q.Popup){if(e&&e!==Rt.Login&&e!==Rt.AcquireToken)break;return Rt.None}}return null},n}(),Gg=function(n,t){return(Gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function ln(n,t){function e(){this.constructor=n}Gg(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Ge=function(){return Ge=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ge.apply(this,arguments)};function N(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(f){s(f)}}function c(h){try{l(r.throw(h))}catch(f){s(f)}}function l(h){h.done?o(h.value):function(o){return o instanceof e?o:new e(function(s){s(o)})}(h.value).then(a,c)}l((r=r.apply(n,t||[])).next())})}function P(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&l[0]?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,i=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){e=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){e.label=l[1];break}if(6===l[0]&&e.label<o[1]){e.label=o[1],o=l;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(l);break}o[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(n,e)}catch(h){l=[6,h],i=0}finally{r=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,h])}}}function MB(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var i,s,r=e.call(n),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return o}function QS(){for(var n=[],t=0;t<arguments.length;t++)n=n.concat(MB(arguments[t]));return n}var JS_unexpectedError_code="unexpected_error",JS_unexpectedError_desc="Unexpected error in authentication.",oe=function(n){function t(e,r,i){var o=this;return o=n.call(this,r?e+": "+r:e)||this,Object.setPrototypeOf(o,t.prototype),o.errorCode=e||U.EMPTY_STRING,o.errorMessage=r||"",o.subError=i||"",o.name="AuthError",o}return Kn(t,n),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(JS_unexpectedError_code,JS_unexpectedError_desc+": "+e)},t}(Error),Jn_redirectUriNotSet_code="redirect_uri_empty",Jn_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",Jn_postLogoutUriNotSet_code="post_logout_uri_empty",Jn_postLogoutUriNotSet_desc="A post logout redirect has not been set.",Jn_storageNotSupportedError_code="storage_not_supported",Jn_storageNotSupportedError_desc="Given storage configuration option was not supported.",Jn_noRedirectCallbacksSet_code="no_redirect_callbacks",Jn_noRedirectCallbacksSet_desc="No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.",Jn_stubPcaInstanceCalled_code="stubbed_public_client_application_called",Jn_stubPcaInstanceCalled_desc="Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",Jn_inMemRedirectUnavailable_code="in_mem_redirect_unavailable",Jn_inMemRedirectUnavailable_desc="Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.",Yu=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="BrowserConfigurationAuthError",Object.setPrototypeOf(i,t.prototype),i}return ln(t,n),t.createRedirectUriEmptyError=function(){return new t(Jn_redirectUriNotSet_code,Jn_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(Jn_postLogoutUriNotSet_code,Jn_postLogoutUriNotSet_desc)},t.createStorageNotSupportedError=function(e){return new t(Jn_storageNotSupportedError_code,Jn_storageNotSupportedError_desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(Jn_noRedirectCallbacksSet_code,Jn_noRedirectCallbacksSet_desc)},t.createStubPcaInstanceCalledError=function(){return new t(Jn_stubPcaInstanceCalled_code,Jn_stubPcaInstanceCalled_desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(Jn_inMemRedirectUnavailable_code,Jn_inMemRedirectUnavailable_desc)},t}(oe),k_clientInfoDecodingError_code="client_info_decoding_error",k_clientInfoDecodingError_desc="The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.",k_clientInfoEmptyError_code="client_info_empty_error",k_clientInfoEmptyError_desc="The client info was empty. Please review the trace to determine the root cause.",k_tokenParsingError_code="token_parsing_error",k_tokenParsingError_desc="Token cannot be parsed. Please review stack trace to determine root cause.",k_nullOrEmptyToken_code="null_or_empty_token",k_nullOrEmptyToken_desc="The token is null or empty. Please review the trace to determine the root cause.",k_endpointResolutionError_code="endpoints_resolution_error",k_endpointResolutionError_desc="Error: could not resolve endpoints. Please check network and try again.",k_networkError_code="network_error",k_networkError_desc="Network request failed. Please check network trace to determine root cause.",k_unableToGetOpenidConfigError_code="openid_config_error",k_unableToGetOpenidConfigError_desc="Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",k_hashNotDeserialized_code="hash_not_deserialized",k_hashNotDeserialized_desc="The hash parameters could not be deserialized. Please review the trace to determine the root cause.",k_invalidStateError_code="invalid_state",k_invalidStateError_desc="State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState().",k_stateMismatchError_code="state_mismatch",k_stateMismatchError_desc="State mismatch error. Please check your network. Continued requests may cause cache overflow.",k_stateNotFoundError_code="state_not_found",k_stateNotFoundError_desc="State not found",k_nonceMismatchError_code="nonce_mismatch",k_nonceMismatchError_desc="Nonce mismatch error. This may be caused by a race condition in concurrent requests.",k_nonceNotFoundError_code="nonce_not_found",k_nonceNotFoundError_desc="nonce not found",k_multipleMatchingTokens_code="multiple_matching_tokens",k_multipleMatchingTokens_desc="The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",k_multipleMatchingAccounts_code="multiple_matching_accounts",k_multipleMatchingAccounts_desc="The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",k_multipleMatchingAppMetadata_code="multiple_matching_appMetadata",k_multipleMatchingAppMetadata_desc="The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",k_tokenRequestCannotBeMade_code="request_cannot_be_made",k_tokenRequestCannotBeMade_desc="Token request cannot be made without authorization code or refresh token.",k_appendEmptyScopeError_code="cannot_append_empty_scope",k_appendEmptyScopeError_desc="Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info.",k_removeEmptyScopeError_code="cannot_remove_empty_scope",k_removeEmptyScopeError_desc="Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info.",k_appendScopeSetError_code="cannot_append_scopeset",k_appendScopeSetError_desc="Cannot append ScopeSet due to error.",k_emptyInputScopeSetError_code="empty_input_scopeset",k_emptyInputScopeSetError_desc="Empty input ScopeSet cannot be processed.",k_DeviceCodePollingCancelled_code="device_code_polling_cancelled",k_DeviceCodePollingCancelled_desc="Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",k_DeviceCodeExpired_code="device_code_expired",k_DeviceCodeExpired_desc="Device code is expired.",k_DeviceCodeUnknownError_code="device_code_unknown_error",k_DeviceCodeUnknownError_desc="Device code stopped polling for unknown reasons.",k_NoAccountInSilentRequest_code="no_account_in_silent_request",k_NoAccountInSilentRequest_desc="Please pass an account object, silent flow is not supported without account information",k_invalidCacheRecord_code="invalid_cache_record",k_invalidCacheRecord_desc="Cache record object was null or undefined.",k_invalidCacheEnvironment_code="invalid_cache_environment",k_invalidCacheEnvironment_desc="Invalid environment when attempting to create cache entry",k_noAccountFound_code="no_account_found",k_noAccountFound_desc="No account found in cache for given key.",k_CachePluginError_code="no cache plugin set on CacheManager",k_CachePluginError_desc="ICachePlugin needs to be set before using readFromStorage or writeFromStorage",k_noCryptoObj_code="no_crypto_object",k_noCryptoObj_desc="No crypto object detected. This is required for the following operation: ",k_invalidCacheType_code="invalid_cache_type",k_invalidCacheType_desc="Invalid cache type",k_unexpectedAccountType_code="unexpected_account_type",k_unexpectedAccountType_desc="Unexpected account type.",k_unexpectedCredentialType_code="unexpected_credential_type",k_unexpectedCredentialType_desc="Unexpected credential type.",k_invalidAssertion_code="invalid_assertion",k_invalidAssertion_desc="Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",k_invalidClientCredential_code="invalid_client_credential",k_invalidClientCredential_desc="Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",k_tokenRefreshRequired_code="token_refresh_required",k_tokenRefreshRequired_desc="Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",k_userTimeoutReached_code="user_timeout_reached",k_userTimeoutReached_desc="User defined timeout for device code polling reached",k_tokenClaimsRequired_code="token_claims_cnf_required_for_signedjwt",k_tokenClaimsRequired_desc="Cannot generate a POP jwt if the token_claims are not populated",k_noAuthorizationCodeFromServer_code="authorization_code_missing_from_server_response",k_noAuthorizationCodeFromServer_desc="Server response does not contain an authorization code to proceed",k_bindingKeyNotRemovedError_code="binding_key_not_removed",k_bindingKeyNotRemovedError_desc="Could not remove the credential's binding key from storage.",k_logoutNotSupported_code="end_session_endpoint_not_supported",k_logoutNotSupported_desc="Provided authority does not support logout.",K=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="ClientAuthError",Object.setPrototypeOf(i,t.prototype),i}return Kn(t,n),t.createClientInfoDecodingError=function(e){return new t(k_clientInfoDecodingError_code,k_clientInfoDecodingError_desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(k_clientInfoEmptyError_code,""+k_clientInfoEmptyError_desc)},t.createTokenParsingError=function(e){return new t(k_tokenParsingError_code,k_tokenParsingError_desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(k_nullOrEmptyToken_code,k_nullOrEmptyToken_desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(k_endpointResolutionError_code,k_endpointResolutionError_desc+" Detail: "+e)},t.createNetworkError=function(e,r){return new t(k_networkError_code,k_networkError_desc+" | Fetch client threw: "+r+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(k_unableToGetOpenidConfigError_code,k_unableToGetOpenidConfigError_desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(k_hashNotDeserialized_code,k_hashNotDeserialized_desc+" Given Object: "+e)},t.createInvalidStateError=function(e,r){return new t(k_invalidStateError_code,k_invalidStateError_desc+" Invalid State: "+e+", Root Err: "+r)},t.createStateMismatchError=function(){return new t(k_stateMismatchError_code,k_stateMismatchError_desc)},t.createStateNotFoundError=function(e){return new t(k_stateNotFoundError_code,k_stateNotFoundError_desc+":  "+e)},t.createNonceMismatchError=function(){return new t(k_nonceMismatchError_code,k_nonceMismatchError_desc)},t.createNonceNotFoundError=function(e){return new t(k_nonceNotFoundError_code,k_nonceNotFoundError_desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(k_multipleMatchingTokens_code,k_multipleMatchingTokens_desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(k_multipleMatchingAccounts_code,k_multipleMatchingAccounts_desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(k_multipleMatchingAppMetadata_code,k_multipleMatchingAppMetadata_desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(k_tokenRequestCannotBeMade_code,k_tokenRequestCannotBeMade_desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(k_appendEmptyScopeError_code,k_appendEmptyScopeError_desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(k_removeEmptyScopeError_code,k_removeEmptyScopeError_desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(k_appendScopeSetError_code,k_appendScopeSetError_desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(k_emptyInputScopeSetError_code,""+k_emptyInputScopeSetError_desc)},t.createDeviceCodeCancelledError=function(){return new t(k_DeviceCodePollingCancelled_code,""+k_DeviceCodePollingCancelled_desc)},t.createDeviceCodeExpiredError=function(){return new t(k_DeviceCodeExpired_code,""+k_DeviceCodeExpired_desc)},t.createDeviceCodeUnknownError=function(){return new t(k_DeviceCodeUnknownError_code,""+k_DeviceCodeUnknownError_desc)},t.createNoAccountInSilentRequestError=function(){return new t(k_NoAccountInSilentRequest_code,""+k_NoAccountInSilentRequest_desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(k_invalidCacheRecord_code,k_invalidCacheRecord_desc)},t.createInvalidCacheEnvironmentError=function(){return new t(k_invalidCacheEnvironment_code,k_invalidCacheEnvironment_desc)},t.createNoAccountFoundError=function(){return new t(k_noAccountFound_code,k_noAccountFound_desc)},t.createCachePluginError=function(){return new t(k_CachePluginError_code,""+k_CachePluginError_desc)},t.createNoCryptoObjectError=function(e){return new t(k_noCryptoObj_code,""+k_noCryptoObj_desc+e)},t.createInvalidCacheTypeError=function(){return new t(k_invalidCacheType_code,""+k_invalidCacheType_desc)},t.createUnexpectedAccountTypeError=function(){return new t(k_unexpectedAccountType_code,""+k_unexpectedAccountType_desc)},t.createUnexpectedCredentialTypeError=function(){return new t(k_unexpectedCredentialType_code,""+k_unexpectedCredentialType_desc)},t.createInvalidAssertionError=function(){return new t(k_invalidAssertion_code,""+k_invalidAssertion_desc)},t.createInvalidCredentialError=function(){return new t(k_invalidClientCredential_code,""+k_invalidClientCredential_desc)},t.createRefreshRequiredError=function(){return new t(k_tokenRefreshRequired_code,k_tokenRefreshRequired_desc)},t.createUserTimeoutReachedError=function(){return new t(k_userTimeoutReached_code,k_userTimeoutReached_desc)},t.createTokenClaimsRequiredError=function(){return new t(k_tokenClaimsRequired_code,k_tokenClaimsRequired_desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(k_noAuthorizationCodeFromServer_code,k_noAuthorizationCodeFromServer_desc)},t.createBindingKeyNotRemovedError=function(){return new t(k_bindingKeyNotRemovedError_code,k_bindingKeyNotRemovedError_desc)},t.createLogoutNotSupportedError=function(){return new t(k_logoutNotSupported_code,k_logoutNotSupported_desc)},t}(oe),ge_redirectUriNotSet_code="redirect_uri_empty",ge_redirectUriNotSet_desc="A redirect URI is required for all calls, and none has been set.",ge_postLogoutUriNotSet_code="post_logout_uri_empty",ge_postLogoutUriNotSet_desc="A post logout redirect has not been set.",ge_claimsRequestParsingError_code="claims_request_parsing_error",ge_claimsRequestParsingError_desc="Could not parse the given claims request object.",ge_authorityUriInsecure_code="authority_uri_insecure",ge_authorityUriInsecure_desc="Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",ge_urlParseError_code="url_parse_error",ge_urlParseError_desc="URL could not be parsed into appropriate segments.",ge_urlEmptyError_code="empty_url_error",ge_urlEmptyError_desc="URL was empty or null.",ge_emptyScopesError_code="empty_input_scopes_error",ge_emptyScopesError_desc="Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",ge_clientIdSingleScopeError_code="clientid_input_scopes_error",ge_clientIdSingleScopeError_desc="Client ID can only be provided as a single scope.",ge_invalidPrompt_code="invalid_prompt_value",ge_invalidPrompt_desc="Supported prompt values are 'login', 'select_account', 'consent', 'create' and 'none'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",ge_invalidClaimsRequest_code="invalid_claims",ge_invalidClaimsRequest_desc="Given claims parameter must be a stringified JSON object.",ge_tokenRequestEmptyError_code="token_request_empty",ge_tokenRequestEmptyError_desc="Token request was empty and not found in cache.",ge_logoutRequestEmptyError_code="logout_request_empty",ge_logoutRequestEmptyError_desc="The logout request was null or undefined.",ge_invalidCodeChallengeMethod_code="invalid_code_challenge_method",ge_invalidCodeChallengeMethod_desc='code_challenge_method passed is invalid. Valid values are "plain" and "S256".',ge_invalidCodeChallengeParams_code="pkce_params_missing",ge_invalidCodeChallengeParams_desc="Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",ge_invalidCloudDiscoveryMetadata_code="invalid_cloud_discovery_metadata",ge_invalidCloudDiscoveryMetadata_desc="Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",ge_invalidAuthorityMetadata_code="invalid_authority_metadata",ge_invalidAuthorityMetadata_desc="Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",ge_untrustedAuthority_code="untrusted_authority",ge_untrustedAuthority_desc="The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",ge_missingSshJwk_code="missing_ssh_jwk",ge_missingSshJwk_desc="Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",ge_missingSshKid_code="missing_ssh_kid",ge_missingSshKid_desc="Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",ge_missingNonceAuthenticationHeader_code="missing_nonce_authentication_header",ge_missingNonceAuthenticationHeader_desc="Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",ge_invalidAuthenticationHeader_code="invalid_authentication_header",ge_invalidAuthenticationHeader_desc="Invalid authentication header provided",Ke=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.name="ClientConfigurationError",Object.setPrototypeOf(i,t.prototype),i}return Kn(t,n),t.createRedirectUriEmptyError=function(){return new t(ge_redirectUriNotSet_code,ge_redirectUriNotSet_desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(ge_postLogoutUriNotSet_code,ge_postLogoutUriNotSet_desc)},t.createClaimsRequestParsingError=function(e){return new t(ge_claimsRequestParsingError_code,ge_claimsRequestParsingError_desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(ge_authorityUriInsecure_code,ge_authorityUriInsecure_desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(ge_urlParseError_code,ge_urlParseError_desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(ge_urlEmptyError_code,ge_urlEmptyError_desc)},t.createEmptyScopesArrayError=function(){return new t(ge_emptyScopesError_code,""+ge_emptyScopesError_desc)},t.createClientIdSingleScopeError=function(e){return new t(ge_clientIdSingleScopeError_code,ge_clientIdSingleScopeError_desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(ge_invalidPrompt_code,ge_invalidPrompt_desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(ge_invalidClaimsRequest_code,ge_invalidClaimsRequest_desc)},t.createEmptyLogoutRequestError=function(){return new t(ge_logoutRequestEmptyError_code,ge_logoutRequestEmptyError_desc)},t.createEmptyTokenRequestError=function(){return new t(ge_tokenRequestEmptyError_code,ge_tokenRequestEmptyError_desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(ge_invalidCodeChallengeMethod_code,ge_invalidCodeChallengeMethod_desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(ge_invalidCodeChallengeParams_code,ge_invalidCodeChallengeParams_desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(ge_invalidCloudDiscoveryMetadata_code,ge_invalidCloudDiscoveryMetadata_desc)},t.createInvalidAuthorityMetadataError=function(){return new t(ge_invalidAuthorityMetadata_code,ge_invalidAuthorityMetadata_desc)},t.createUntrustedAuthorityError=function(){return new t(ge_untrustedAuthority_code,ge_untrustedAuthority_desc)},t.createMissingSshJwkError=function(){return new t(ge_missingSshJwk_code,ge_missingSshJwk_desc)},t.createMissingSshKidError=function(){return new t(ge_missingSshKid_code,ge_missingSshKid_desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(ge_missingNonceAuthenticationHeader_code,ge_missingNonceAuthenticationHeader_desc)},t.createInvalidAuthenticationHeaderError=function(e,r){return new t(ge_invalidAuthenticationHeader_code,ge_invalidAuthenticationHeader_desc+". Invalid header: "+e+". Details: "+r)},t}(K),j=function(){function n(){}return n.decodeAuthToken=function(t){if(n.isEmpty(t))throw K.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw K.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},n.isEmpty=function(t){return void 0===t||!t||0===t.length},n.isEmptyObj=function(t){if(t&&!n.isEmpty(t))try{var e=JSON.parse(t);return 0===Object.keys(e).length}catch(r){}return!0},n.startsWith=function(t,e){return 0===t.indexOf(e)},n.endsWith=function(t,e){return t.length>=e.length&&t.lastIndexOf(e)===t.length-e.length},n.queryStringToObject=function(t){var e={},r=t.split("&"),i=function(o){return decodeURIComponent(o.replace(/\+/g," "))};return r.forEach(function(o){if(o.trim()){var s=o.split(/=(.+)/g,2),a=s[0],c=s[1];a&&c&&(e[i(a)]=i(c))}}),e},n.trimArrayEntries=function(t){return t.map(function(e){return e.trim()})},n.removeEmptyStringsFromArray=function(t){return t.filter(function(e){return!n.isEmpty(e)})},n.jsonParseHelper=function(t){try{return JSON.parse(t)}catch(e){return null}},n.matchPattern=function(t,e){return new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(e)},n}(),Oe=function(){function n(t){if(this._urlString=t,j.isEmpty(this._urlString))throw Ke.createUrlEmptyError();j.isEmpty(this.getHash())&&(this._urlString=n.canonicalizeUri(t))}return Object.defineProperty(n.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),n.canonicalizeUri=function(t){if(t){var e=t.toLowerCase();return j.endsWith(e,"?")?e=e.slice(0,-1):j.endsWith(e,"?/")&&(e=e.slice(0,-2)),j.endsWith(e,"/")||(e+="/"),e}return t},n.prototype.validateAsUri=function(){var t;try{t=this.getUrlComponents()}catch(e){throw Ke.createUrlParseError(e)}if(!t.HostNameAndPort||!t.PathSegments)throw Ke.createUrlParseError("Given url string: "+this.urlString);if(!t.Protocol||"https:"!==t.Protocol.toLowerCase())throw Ke.createInsecureAuthorityUriError(this.urlString)},n.appendQueryString=function(t,e){return j.isEmpty(e)?t:t.indexOf("?")<0?t+"?"+e:t+"&"+e},n.removeHashFromUrl=function(t){return n.canonicalizeUri(t.split("#")[0])},n.prototype.replaceTenantPath=function(t){var e=this.getUrlComponents(),r=e.PathSegments;return t&&0!==r.length&&(r[0]===_c.COMMON||r[0]===_c.ORGANIZATIONS)&&(r[0]=t),n.constructAuthorityUriFromObject(e)},n.prototype.getHash=function(){return n.parseHash(this.urlString)},n.prototype.getUrlComponents=function(){var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),e=this.urlString.match(t);if(!e)throw Ke.createUrlParseError("Given url string: "+this.urlString);var r={Protocol:e[1],HostNameAndPort:e[4],AbsolutePath:e[5],QueryString:e[7]},i=r.AbsolutePath.split("/");return i=i.filter(function(o){return o&&o.length>0}),r.PathSegments=i,!j.isEmpty(r.QueryString)&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r},n.getDomainFromUrl=function(t){var e=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=t.match(e);if(!r)throw Ke.createUrlParseError("Given url string: "+t);return r[2]},n.getAbsoluteUrl=function(t,e){if(t[0]===U.FORWARD_SLASH){var i=new n(e).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+t}return t},n.parseHash=function(t){var e=t.indexOf("#"),r=t.indexOf("#/");return r>-1?t.substring(r+2):e>-1?t.substring(e+1):""},n.constructAuthorityUriFromObject=function(t){return new n(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},n.getDeserializedHash=function(t){if(j.isEmpty(t))return{};var e=n.parseHash(t),r=j.queryStringToObject(j.isEmpty(e)?t:e);if(!r)throw K.createHashNotDeserializedError(JSON.stringify(r));return r},n.hashContainsKnownProperties=function(t){if(j.isEmpty(t)||t.indexOf("=")<0)return!1;var e=n.getDeserializedHash(t);return!!(e.code||e.error_description||e.error||e.state)},n}(),O_pkceNotGenerated_code="pkce_not_created",O_pkceNotGenerated_desc="The PKCE code challenge and verifier could not be generated.",O_cryptoDoesNotExist_code="crypto_nonexistent",O_cryptoDoesNotExist_desc="The crypto object or function is not available.",O_httpMethodNotImplementedError_code="http_method_not_implemented",O_httpMethodNotImplementedError_desc="The HTTP method given has not been implemented in this library.",O_emptyNavigateUriError_code="empty_navigate_uri",O_emptyNavigateUriError_desc="Navigation URI is empty. Please check stack trace for more info.",O_hashEmptyError_code="hash_empty_error",O_hashEmptyError_desc="Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash.",O_hashDoesNotContainStateError_code="no_state_in_hash",O_hashDoesNotContainStateError_desc="Hash does not contain state. Please verify that the request originated from msal.",O_hashDoesNotContainKnownPropertiesError_code="hash_does_not_contain_known_properties",O_hashDoesNotContainKnownPropertiesError_desc="Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.",O_unableToParseStateError_code="unable_to_parse_state",O_unableToParseStateError_desc="Unable to parse state. Please verify that the request originated from msal.",O_stateInteractionTypeMismatchError_code="state_interaction_type_mismatch",O_stateInteractionTypeMismatchError_desc="Hash contains state but the interaction type does not match the caller.",O_interactionInProgress_code="interaction_in_progress",O_interactionInProgress_desc="Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors.",O_popupWindowError_code="popup_window_error",O_popupWindowError_desc="Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",O_emptyWindowError_code="empty_window_error",O_emptyWindowError_desc="window.open returned null or undefined window object.",O_userCancelledError_code="user_cancelled",O_userCancelledError_desc="User cancelled the flow.",O_monitorPopupTimeoutError_code="monitor_window_timeout",O_monitorPopupTimeoutError_desc="Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",O_monitorIframeTimeoutError_code="monitor_window_timeout",O_monitorIframeTimeoutError_desc="Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors.",O_redirectInIframeError_code="redirect_in_iframe",O_redirectInIframeError_desc="Code flow is not supported inside an iframe. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",O_blockTokenRequestsInHiddenIframeError_code="block_iframe_reload",O_blockTokenRequestsInHiddenIframeError_desc="Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors",O_blockAcquireTokenInPopupsError_code="block_nested_popups",O_blockAcquireTokenInPopupsError_desc="Request was blocked inside a popup because MSAL detected it was running in a popup.",O_iframeClosedPrematurelyError_code="iframe_closed_prematurely",O_iframeClosedPrematurelyError_desc="The iframe being monitored was closed prematurely.",O_silentLogoutUnsupportedError_code="silent_logout_unsupported",O_silentLogoutUnsupportedError_desc="Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",O_noAccountError_code="no_account_error",O_noAccountError_desc="No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",O_silentPromptValueError_code="silent_prompt_value_error",O_silentPromptValueError_desc="The value given for the prompt value is not valid for silent requests - must be set to 'none'.",O_noTokenRequestCacheError_code="no_token_request_cache_error",O_noTokenRequestCacheError_desc="No token request found in cache.",O_unableToParseTokenRequestCacheError_code="unable_to_parse_token_request_cache_error",O_unableToParseTokenRequestCacheError_desc="The cached token request could not be parsed.",O_noCachedAuthorityError_code="no_cached_authority_error",O_noCachedAuthorityError_desc="No cached authority found.",O_authRequestNotSet_code="auth_request_not_set_error",O_authRequestNotSet_desc="Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",O_invalidCacheType_code="invalid_cache_type",O_invalidCacheType_desc="Invalid cache type",O_notInBrowserEnvironment_code="non_browser_environment",O_notInBrowserEnvironment_desc="Login and token requests are not supported in non-browser environments.",O_databaseNotOpen_code="database_not_open",O_databaseNotOpen_desc="Database is not open!",O_noNetworkConnectivity_code="no_network_connectivity",O_noNetworkConnectivity_desc="No network connectivity. Check your internet connection.",O_postRequestFailed_code="post_request_failed",O_postRequestFailed_desc="Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",O_getRequestFailed_code="get_request_failed",O_getRequestFailed_desc="Network request failed. Please check the network trace to determine root cause.",O_failedToParseNetworkResponse_code="failed_to_parse_response",O_failedToParseNetworkResponse_desc="Failed to parse network response. Check network trace.",O_unableToLoadTokenError_code="unable_to_load_token",O_unableToLoadTokenError_desc="Error loading token to cache.",O_signingKeyNotFoundInStorage_code="crypto_key_not_found",O_signingKeyNotFoundInStorage_desc="Cryptographic Key or Keypair not found in browser storage.",O_authCodeRequired_code="auth_code_required",O_authCodeRequired_desc="An authorization code must be provided (as the `code` property on the request) to this flow.",O_databaseUnavailable_code="database_unavailable",O_databaseUnavailable_desc="IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",z=function(n){function t(e,r){var i=n.call(this,e,r)||this;return Object.setPrototypeOf(i,t.prototype),i.name="BrowserAuthError",i}return ln(t,n),t.createPkceNotGeneratedError=function(e){return new t(O_pkceNotGenerated_code,O_pkceNotGenerated_desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(O_cryptoDoesNotExist_code,O_cryptoDoesNotExist_desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(O_httpMethodNotImplementedError_code,O_httpMethodNotImplementedError_desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(O_emptyNavigateUriError_code,O_emptyNavigateUriError_desc)},t.createEmptyHashError=function(e){return new t(O_hashEmptyError_code,O_hashEmptyError_desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(O_hashDoesNotContainStateError_code,O_hashDoesNotContainStateError_desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(O_hashDoesNotContainKnownPropertiesError_code,O_hashDoesNotContainKnownPropertiesError_desc)},t.createUnableToParseStateError=function(){return new t(O_unableToParseStateError_code,O_unableToParseStateError_desc)},t.createStateInteractionTypeMismatchError=function(){return new t(O_stateInteractionTypeMismatchError_code,O_stateInteractionTypeMismatchError_desc)},t.createInteractionInProgressError=function(){return new t(O_interactionInProgress_code,O_interactionInProgress_desc)},t.createPopupWindowError=function(e){var r=O_popupWindowError_desc;return r=j.isEmpty(e)?r:r+" Details: "+e,new t(O_popupWindowError_code,r)},t.createEmptyWindowCreatedError=function(){return new t(O_emptyWindowError_code,O_emptyWindowError_desc)},t.createUserCancelledError=function(){return new t(O_userCancelledError_code,O_userCancelledError_desc)},t.createMonitorPopupTimeoutError=function(){return new t(O_monitorPopupTimeoutError_code,O_monitorPopupTimeoutError_desc)},t.createMonitorIframeTimeoutError=function(){return new t(O_monitorIframeTimeoutError_code,O_monitorIframeTimeoutError_desc)},t.createRedirectInIframeError=function(e){return new t(O_redirectInIframeError_code,O_redirectInIframeError_desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(O_blockTokenRequestsInHiddenIframeError_code,O_blockTokenRequestsInHiddenIframeError_desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(O_blockAcquireTokenInPopupsError_code,O_blockAcquireTokenInPopupsError_desc)},t.createIframeClosedPrematurelyError=function(){return new t(O_iframeClosedPrematurelyError_code,O_iframeClosedPrematurelyError_desc)},t.createSilentLogoutUnsupportedError=function(){return new t(O_silentLogoutUnsupportedError_code,O_silentLogoutUnsupportedError_desc)},t.createNoAccountError=function(){return new t(O_noAccountError_code,O_noAccountError_desc)},t.createSilentPromptValueError=function(e){return new t(O_silentPromptValueError_code,O_silentPromptValueError_desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(O_unableToParseTokenRequestCacheError_code,O_unableToParseTokenRequestCacheError_desc)},t.createNoTokenRequestCacheError=function(){return new t(O_noTokenRequestCacheError_code,O_noTokenRequestCacheError_desc)},t.createAuthRequestNotSetError=function(){return new t(O_authRequestNotSet_code,O_authRequestNotSet_desc)},t.createNoCachedAuthorityError=function(){return new t(O_noCachedAuthorityError_code,O_noCachedAuthorityError_desc)},t.createInvalidCacheTypeError=function(){return new t(O_invalidCacheType_code,""+O_invalidCacheType_desc)},t.createNonBrowserEnvironmentError=function(){return new t(O_notInBrowserEnvironment_code,O_notInBrowserEnvironment_desc)},t.createDatabaseNotOpenError=function(){return new t(O_databaseNotOpen_code,O_databaseNotOpen_desc)},t.createNoNetworkConnectivityError=function(){return new t(O_noNetworkConnectivity_code,O_noNetworkConnectivity_desc)},t.createPostRequestFailedError=function(e,r){return new t(O_postRequestFailed_code,O_postRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createGetRequestFailedError=function(e,r){return new t(O_getRequestFailed_code,O_getRequestFailed_desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(O_failedToParseNetworkResponse_code,O_failedToParseNetworkResponse_desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(O_unableToLoadTokenError_code,O_unableToLoadTokenError_desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(O_signingKeyNotFoundInStorage_code,O_signingKeyNotFoundInStorage_desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(O_authCodeRequired_code,O_authCodeRequired_desc)},t.createDatabaseUnavailableError=function(){return new t(O_databaseUnavailable_code,O_databaseUnavailable_desc)},t}(oe),kB=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return N(this,void 0,void 0,function(){var r,i,o;return P(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,fetch(t,{method:vr.GET,headers:this.getFetchHeaders(e)})];case 1:return r=s.sent(),[3,3];case 2:throw i=s.sent(),window.navigator.onLine?z.createGetRequestFailedError(i,t):z.createNoNetworkConnectivityError();case 3:return s.trys.push([3,5,,6]),o={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(o.body=s.sent(),o.status=r.status,o)];case 5:throw s.sent(),z.createFailedToParseNetworkResponseError(t);case 6:return[2]}})})},n.prototype.sendPostRequestAsync=function(t,e){return N(this,void 0,void 0,function(){var r,i,o,s;return P(this,function(a){switch(a.label){case 0:r=e&&e.body||"",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(t,{method:vr.POST,headers:this.getFetchHeaders(e),body:r})];case 2:return i=a.sent(),[3,4];case 3:throw o=a.sent(),window.navigator.onLine?z.createPostRequestFailedError(o,t):z.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),s={headers:this.getHeaderDict(i.headers)},[4,i.json()];case 5:return[2,(s.body=a.sent(),s.status=i.status,s)];case 6:throw a.sent(),z.createFailedToParseNetworkResponseError(t);case 7:return[2]}})})},n.prototype.getFetchHeaders=function(t){var e=new Headers;if(!t||!t.headers)return e;var r=t.headers;return Object.keys(r).forEach(function(i){e.append(i,r[i])}),e},n.prototype.getHeaderDict=function(t){var e={};return t.forEach(function(r,i){e[i]=r}),e},n}(),NB=function(){function n(){}return n.prototype.sendGetRequestAsync=function(t,e){return N(this,void 0,void 0,function(){return P(this,function(r){return[2,this.sendRequestAsync(t,vr.GET,e)]})})},n.prototype.sendPostRequestAsync=function(t,e){return N(this,void 0,void 0,function(){return P(this,function(r){return[2,this.sendRequestAsync(t,vr.POST,e)]})})},n.prototype.sendRequestAsync=function(t,e,r){var i=this;return new Promise(function(o,s){var a=new XMLHttpRequest;if(a.open(e,t,!0),i.setXhrHeaders(a,r),a.onload=function(){(a.status<200||a.status>=300)&&s(e===vr.POST?z.createPostRequestFailedError("Failed with status "+a.status,t):z.createGetRequestFailedError("Failed with status "+a.status,t));try{var c=JSON.parse(a.responseText),l={headers:i.getHeaderDict(a),body:c,status:a.status};o(l)}catch(h){s(z.createFailedToParseNetworkResponseError(t))}},a.onerror=function(){window.navigator.onLine?s(e===vr.POST?z.createPostRequestFailedError("Failed with status "+a.status,t):z.createGetRequestFailedError("Failed with status "+a.status,t)):s(z.createNoNetworkConnectivityError())},e===vr.POST&&r&&r.body)a.send(r.body);else{if(e!==vr.GET)throw z.createHttpMethodNotImplementedError(e);a.send()}})},n.prototype.setXhrHeaders=function(t,e){if(e&&e.headers){var r=e.headers;Object.keys(r).forEach(function(i){t.setRequestHeader(i,r[i])})}},n.prototype.getHeaderDict=function(t){var r=t.getAllResponseHeaders().trim().split(/[\r\n]+/),i={};return r.forEach(function(o){var s=o.split(": "),a=s.shift(),c=s.join(": ");a&&c&&(i[a]=c)}),i},n}(),st=function(){function n(){}return n.clearHash=function(t){t.location.hash=U.EMPTY_STRING,"function"==typeof t.history.replaceState&&t.history.replaceState(null,U.EMPTY_STRING,""+t.location.origin+t.location.pathname+t.location.search)},n.replaceHash=function(t){var e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""},n.isInIframe=function(){return window.parent!==window},n.isInPopup=function(){return"undefined"!=typeof window&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf("msal.")},n.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},n.getHomepage=function(){var e=new Oe(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},n.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new kB:new NB},n.blockReloadInHiddenIframes=function(){if(Oe.hashContainsKnownProperties(window.location.hash)&&n.isInIframe())throw z.createBlockReloadInHiddenIframeError()},n.blockRedirectInIframe=function(t,e){var r=n.isInIframe();if(t===q.Redirect&&r&&!e)throw z.createRedirectInIframeError(r)},n.blockAcquireTokenInPopups=function(){if(n.isInPopup())throw z.createBlockAcquireTokenInPopupsError()},n.blockNonBrowserEnvironment=function(t){if(!t)throw z.createNonBrowserEnvironmentError()},n.detectIEOrEdge=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE "),r=t.indexOf("Trident/"),i=t.indexOf("Edge/");return e>0||r>0||i>0},n}();const Zu=new de("MSAL_INSTANCE"),YS=new de("MSAL_GUARD_CONFIG"),PB=new de("MSAL_INTERCEPTOR_CONFIG"),ZS="@azure/msal-angular",zg="2.1.0";let Fs=(()=>{class n{constructor(e,r){this.instance=e,this.location=r;const i=this.location.path(!0).split("#").pop();i&&(this.redirectHash=`#${i}`),this.instance.initializeWrapperLibrary(Ju.Angular,zg)}acquireTokenPopup(e){return He(this.instance.acquireTokenPopup(e))}acquireTokenRedirect(e){return He(this.instance.acquireTokenRedirect(e))}acquireTokenSilent(e){return He(this.instance.acquireTokenSilent(e))}handleRedirectObservable(e){return He(this.instance.handleRedirectPromise(e||this.redirectHash))}loginPopup(e){return He(this.instance.loginPopup(e))}loginRedirect(e){return He(this.instance.loginRedirect(e))}logout(e){return He(this.instance.logout(e))}logoutRedirect(e){return He(this.instance.logoutRedirect(e))}logoutPopup(e){return He(this.instance.logoutPopup(e))}ssoSilent(e){return He(this.instance.ssoSilent(e))}getLogger(){return this.logger||(this.logger=this.instance.getLogger().clone(ZS,zg)),this.logger}setLogger(e){this.logger=e.clone(ZS,zg),this.instance.setLogger(e)}}return n.\u0275fac=function(e){return new(e||n)(x(Zu),x($a))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),XS=(()=>{class n{constructor(e,r){this.msalInstance=e,this.authService=r,this._msalSubject=new un,this.msalSubject$=this._msalSubject.asObservable(),this._inProgress=new zn(Rt.Startup),this.inProgress$=this._inProgress.asObservable(),this.msalInstance.addEventCallback(i=>{this._msalSubject.next(i);const o=RB.getInteractionStatusFromEvent(i,this._inProgress.value);null!==o&&(this.authService.getLogger().verbose(`BroadcastService - ${i.eventType} results in setting inProgress from ${this._inProgress.value} to ${o}`),this._inProgress.next(o))})}}return n.\u0275fac=function(e){return new(e||n)(x(Zu),x(Fs))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),xB=(()=>{class n{constructor(e,r,i,o,s){this.msalGuardConfig=e,this.msalBroadcastService=r,this.authService=i,this.location=o,this.router=s,this.msalBroadcastService.inProgress$.subscribe()}parseUrl(e){return this.router.parseUrl(e)}getDestinationUrl(e){this.authService.getLogger().verbose("Guard - getting destination url");const r=document.getElementsByTagName("base"),i=this.location.normalize(r.length?r[0].href:window.location.origin),o=this.location.prepareExternalUrl(e);return o.startsWith("#")?(this.authService.getLogger().verbose("Guard - destination by hash routing"),`${i}/${o}`):`${i}${e}`}loginInteractively(e){const r="function"==typeof this.msalGuardConfig.authRequest?this.msalGuardConfig.authRequest(this.authService,e):Object.assign({},this.msalGuardConfig.authRequest);if(this.msalGuardConfig.interactionType===q.Popup)return this.authService.getLogger().verbose("Guard - logging in by popup"),this.authService.loginPopup(r).pipe(W(o=>(this.authService.getLogger().verbose("Guard - login by popup successful, can activate, setting active account"),this.authService.instance.setActiveAccount(o.account),!0)));this.authService.getLogger().verbose("Guard - logging in by redirect");const i=this.getDestinationUrl(e.url);return this.authService.loginRedirect(Object.assign({redirectStartPage:i},r)).pipe(W(()=>!1))}activateHelper(e){if(this.msalGuardConfig.interactionType!==q.Popup&&this.msalGuardConfig.interactionType!==q.Redirect)throw new Yu("invalid_interaction_type","Invalid interaction type provided to MSAL Guard. InteractionType.Popup or InteractionType.Redirect must be provided in the MsalGuardConfiguration");if(this.authService.getLogger().verbose("MSAL Guard activated"),"undefined"==typeof window)return this.authService.getLogger().info("Guard - window is undefined, MSAL does not support server-side token acquisition"),ne(!0);if(Oe.hashContainsKnownProperties(window.location.hash)&&st.isInIframe()&&!this.authService.instance.getConfiguration().system.allowRedirectInIframe)return this.authService.getLogger().warning("Guard - redirectUri set to page with MSAL Guard. It is recommended to not set redirectUri to a page that requires authentication."),ne(!1);this.msalGuardConfig.loginFailedRoute&&(this.loginFailedRoute=this.parseUrl(this.msalGuardConfig.loginFailedRoute));const r=this.location.path(!0);return this.authService.handleRedirectObservable().pipe(io(()=>{if(!this.authService.instance.getAllAccounts().length)return e?(this.authService.getLogger().verbose("Guard - no accounts retrieved, log in required to activate"),this.loginInteractively(e)):(this.authService.getLogger().verbose("Guard - no accounts retrieved, no state, cannot load"),ne(!1));if(this.authService.getLogger().verbose("Guard - at least 1 account exists, can activate or load"),e){const i=this.includesCode(e.url),o=!!e.root&&!!e.root.fragment&&this.includesCode(`#${e.root.fragment}`),s=0===this.location.prepareExternalUrl(e.url).indexOf("#");if(i&&(o||s))return this.authService.getLogger().info("Guard - Hash contains known code response, stopping navigation."),r.indexOf("#")>-1?ne(this.parseUrl(this.location.path())):ne(this.parseUrl(""))}return ne(!0)}),be(i=>(this.authService.getLogger().error("Guard - error while logging in, unable to activate"),this.authService.getLogger().errorPii(`Guard - error: ${i.message}`),this.loginFailedRoute&&parseInt(gf.major,10)>9&&e?(this.authService.getLogger().verbose("Guard - loginFailedRoute set, redirecting"),ne(this.loginFailedRoute)):ne(!1))))}includesCode(e){return e.lastIndexOf("/code")>-1&&e.lastIndexOf("/code")===e.length-"/code".length||e.indexOf("#code=")>-1||e.indexOf("&code=")>-1}canActivate(e,r){return this.authService.getLogger().verbose("Guard - canActivate"),this.activateHelper(r)}canActivateChild(e,r){return this.authService.getLogger().verbose("Guard - canActivateChild"),this.activateHelper(r)}canLoad(){return this.authService.getLogger().verbose("Guard - canLoad"),this.activateHelper()}}return n.\u0275fac=function(e){return new(e||n)(x(YS),x(XS),x(Fs),x($a),x(Ct))},n.\u0275prov=X({token:n,factory:n.\u0275fac}),n})(),OB=(()=>{class n{static forRoot(e,r,i){return{ngModule:n,providers:[{provide:Zu,useValue:e},{provide:YS,useValue:r},{provide:PB,useValue:i},Fs]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({providers:[xB,XS],imports:[[mA]]}),n})(),e0=(()=>{class n{constructor(e,r,i){this.http=e,this.sharedService=r,this.msalService=i}validateUser(e,r){return this.http.request(new Dt("GET",`https://${We_backendAddress}/api/platform/validateUser`,{reportProgress:!0,params:(new kn).appendAll({email:e,password:r})}))}loggedInUser(){return this.msalService.instance.getActiveAccount()}userLogin(){var e=$.makeRandomString(4);this.sharedService.pushWaitTask({id:e,description:"Iniciando sesion...",progress:0}),this.msalService.loginPopup().subscribe(r=>{this.sharedService.pushWaitTask({id:e,progress:100}),this.msalService.instance.setActiveAccount(r.account),this.sharedService.removeWaitTask({id:e}),this.sharedService.pushToastMessage({id:$.makeRandomString(4),title:"Bienvenido",description:"Hola, esperamos tengas la mejor de las estancias."})})}userLogout(){this.msalService.logout()}}return n.\u0275fac=function(e){return new(e||n)(x(mg),x(lo),x(Fs))},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LB=[{path:"",component:TB},{path:"login",component:(()=>{class n{constructor(e){this.loginService=e,this.email="",this.password="",this.invalidUser=!1}ngOnInit(){}validateEmail(e=this.email){return $.validateEmail(e)}userLogin(){this.loginService.userLogin()}isValid(){return!0}}return n.\u0275fac=function(e){return new(e||n)(D(e0))},n.\u0275cmp=ft({type:n,selectors:[["app-login"]],decls:27,vars:1,consts:[[1,"page-holder","align-items-center","py-4","bg-gray-100","vh-100"],[1,"container"],[1,"row","g-3","align-items-center"],[1,"col-lg-6"],[1,"card"],[1,"card-body"],[1,"row","g-3"],[1,"col-12"],[1,"card-title","text-center","text-primary","mt-3"],[1,"my-3"],[1,"text-muted","text-sm","mb-5"],["id","loginForm"],[1,"d-grid","gap-2","col-6","mx-auto","mb-2"],[1,"btn","btn-primary",3,"disabled","click"],[1,"col-lg-6","text-center","text-primary"],["width","300","src","https://therichpost.com/wp-content/uploads/2021/06/login_page_image.png","alt","",1,"img-fluid","my-5",2,"transform","rotate(10deg)"],[1,"d-inline"],[1,"lead","text-muted"]],template:function(e,r){1&e&&(u(0,"div",0),u(1,"div",1),u(2,"div",2),u(3,"div",3),u(4,"div",4),u(5,"div",5),u(6,"div",6),u(7,"div",7),u(8,"h5",8),m(9," Inicio de sesion "),d(),d(),u(10,"div",7),u(11,"h3",9),m(12,"Hola, bienvenido! \u{1f44b}\u{1f44b}"),d(),u(13,"p",10),m(14," Ingrese con sus credenciales asignadas para realizar procesos y gestiones. "),d(),u(15,"form",11),u(16,"div",12),u(17,"button",13),w("click",function(){return r.userLogin()}),m(18," Iniciar sesion "),d(),d(),d(),d(),d(),d(),d(),d(),u(19,"div",14),Z(20,"img",15),u(21,"h1"),m(22,"OEI"),Z(23,"br",16),m(24,"Code"),d(),u(25,"p",17),m(26," Aumentamos la eficiencia con transformacion digital. "),d(),d(),d(),d(),d()),2&e&&(v(17),C("disabled",!r.isValid()))},directives:[fc,cc,ho],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;700&amp;display=swap";.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(1rem - 1px) calc(1rem - 1px) 0 0}.card-header[_ngcontent-%COMP%]{position:relative;padding:2rem;border-bottom:none;background-color:#fff;box-shadow:0 .125rem .25rem #00000014;z-index:2}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:none;box-shadow:0 .5rem 1rem #00000026;border-radius:1rem}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f8f9fa!important}body[_ngcontent-%COMP%]{font-family:"Poppins"!important}.text-primary[_ngcontent-%COMP%]{color:#4650dd!important}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-weight:700;line-height:1.2}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.lead[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:300}.text-sm[_ngcontent-%COMP%]{font-size:.7875rem!important}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:1.575rem}.page-holder[_ngcontent-%COMP%]{display:flex;overflow-x:hidden;width:100%;min-height:calc(100vh - 72px);flex-wrap:wrap}a[_ngcontent-%COMP%]{color:#4650dd!important;text-decoration:underline!important;cursor:pointer}']}),n})()},{path:"forms/tests",component:gn},{path:"forms/financiera/registration",component:gn},{path:"forms/financiera/invoice",component:gn},{path:"forms/coordinacionlogistica",component:gn},{path:"forms/coordinacionlogistica/:Id/fillquotations",component:gn},{path:"forms/coordinacionlogistica/:Id/selectquotation",component:gn},{path:"forms/juridica/contratacion/convenio/request",component:gn},{path:"forms/juridica/contratacion/request",component:gn},{path:"forms/juridica/contratacion/directa/:id",component:gn},{path:"forms/juridica/contratacion/directa/excepcion/consultores/:id",component:gn},{path:"forms/juridica/contratacion/directa/excepcion/sinlimite/:id",component:gn},{path:"forms/juridica/contratacion/directa/comparativadeprecios/:id",component:gn},{path:"forms/juridica/contratacion/simplificadaysupersimplificada/:id",component:gn},{path:"forms/juridica/contratacion/licitacion/:id",component:gn}];let UB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=Xt({imports:[[Pw.forRoot(LB,{enableTracing:!0})],Pw]}),n})();const Xu=function(n){return{active:n}},VB=function(){return["/forms/coordinacionlogistica"]};function HB(n,t){if(1&n&&(u(0,"li",8),u(1,"a",18),m(2,"Coordinacion logistica"),d(),d()),2&n){const e=b();v(1),C("ngClass",Hn(3,Xu,e.isRoute("/forms/coordinacionlogistica")))("routerLink",Jr(5,VB))("state",e.loggedUser)}}const BB=function(){return["/forms/juridica/contratacion/convenio/request"]},jB=function(){return["/forms/juridica/contratacion/request"]};function qB(n,t){if(1&n&&(u(0,"li",10),u(1,"a",19),m(2," Gestion juridica "),d(),u(3,"ul",20),u(4,"li"),u(5,"a",13),m(6,"Subscripcion convenio"),d(),d(),u(7,"li"),u(8,"a",13),m(9,"Contratacion "),d(),d(),d(),d()),2&n){const e=b();v(1),C("ngClass",Hn(3,Xu,e.startWithRoute("/forms/juridica/"))),v(4),C("routerLink",Jr(5,BB)),v(3),C("routerLink",Jr(6,jB))}}const t0=function(){return["/"]},$B=function(){return["/forms/financiera/registration"]},GB=function(){return["/forms/financiera/invoice"]},zB=function(){return["/login"]},WB=function(n,t){return{"text-light":n,"text-dark":t}};let KB=(()=>{class n{constructor(e,r){this.router=e,this.loginService=r,this.mouseOverLoginButton=!1}ngOnInit(){}isRoute(e){return this.router.url===e}startWithRoute(e){return this.router.url.startsWith(e)}isLoggedIn(){const e=this.loginService.loggedInUser();return console.log(e),null!=e}userLogout(){this.isLoggedIn()&&this.loginService.userLogout()}onMouseOverLoginButton(){this.mouseOverLoginButton=!0}onMouseOutLoginButton(){this.mouseOverLoginButton=!1}}return n.\u0275fac=function(e){return new(e||n)(D(Ct),D(e0))},n.\u0275cmp=ft({type:n,selectors:[["app-header"]],inputs:{loggedUser:"loggedUser"},decls:26,vars:23,consts:[[1,"navbar","navbar-expand-lg","sticky-top","navbar-dark",2,"background-color","rgb(0, 92, 230, 0.95)"],[1,"container-fluid"],[1,"navbar-brand",3,"routerLink"],["src","../../../assets/logo.png","alt","","height","40px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page",1,"nav-link","text-white",3,"ngClass","routerLink"],[1,"nav-item","dropdown"],["id","navbarScrollingDropdown","name","navbarScrollingDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-white",3,"ngClass"],["aria-labelledby","navbarScrollingDropdown",1,"dropdown-menu","text-white"],[1,"dropdown-item",3,"routerLink"],["class","nav-item",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-outline-light",3,"routerLink","ngClass","mouseover","mouseout","click"],["aria-current","page",1,"nav-link","text-white",3,"ngClass","routerLink","state"],["id","navbarScrollingDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-white",3,"ngClass"],["aria-labelledby","navbarScrollingDropdown",1,"dropdown-menu"]],template:function(e,r){1&e&&(u(0,"nav",0),u(1,"div",1),u(2,"a",2),Z(3,"img",3),d(),u(4,"button",4),Z(5,"span",5),d(),u(6,"div",6),u(7,"ul",7),u(8,"li",8),u(9,"a",9),m(10,"Inicio"),d(),d(),u(11,"li",10),u(12,"a",11),m(13," Colaborador o proveedor "),d(),u(14,"ul",12),u(15,"li"),u(16,"a",13),m(17,"Registro colaborador o proveedor"),d(),d(),u(18,"li"),u(19,"a",13),m(20,"Gestion de cuentas colaborador o proveedor "),d(),d(),d(),d(),T(21,HB,3,6,"li",14),T(22,qB,10,7,"li",15),d(),u(23,"div",16),u(24,"a",17),w("mouseover",function(){return r.onMouseOverLoginButton()})("mouseout",function(){return r.onMouseOutLoginButton()})("click",function(){return r.userLogout()}),m(25),d(),d(),d(),d(),d()),2&e&&(v(2),C("routerLink",Jr(11,t0)),v(7),C("ngClass",Hn(12,Xu,r.isRoute("/")))("routerLink",Jr(14,t0)),v(3),C("ngClass",Hn(15,Xu,r.startWithRoute("/forms/financiera/"))),v(4),C("routerLink",Jr(17,$B)),v(3),C("routerLink",Jr(18,GB)),v(2),C("ngIf",r.isLoggedIn()),v(1),C("ngIf",r.isLoggedIn()),v(2),C("routerLink",Jr(19,zB))("ngClass",H(20,WB,!r.mouseOverLoginButton,r.mouseOverLoginButton)),v(1),$t(r.isLoggedIn()?"Cerrar sesion":"Iniciar sesion"))},directives:[Pu,Gn,Rn],styles:[""]}),n})();const n0=function(n,t){return{"fade-in":n,"fade-out":t}};function QB(n,t){if(1&n){const e=G();u(0,"div",11),w("animationstart",function(i){return R(e),b().codingScreenAnimationStart(i)})("animationend",function(i){return R(e),b().codingScreenAnimationEnd(i)}),u(1,"div",12),u(2,"div",13),u(3,"div",14),Z(4,"img",15),d(),u(5,"div",14),u(6,"p",16),m(7," !Cuidado actualmente nos encontramos trabajando aqui\xa1, por esta razon no puede acceder, solo personal autorizado sera permitido. "),d(),d(),d(),d(),d()}if(2&n){const e=b();C("ngClass",H(1,n0,e.inCoding,!e.inCoding))}}function JB(n,t){if(1&n){const e=G();u(0,"div",17),w("animationstart",function(i){return R(e),b().maintenanceScreenAnimationStart(i)})("animationend",function(i){return R(e),b().maintenanceScreenAnimationEnd(i)}),u(1,"div",12),u(2,"div",13),u(3,"div",14),Z(4,"img",18),d(),u(5,"div",14),u(6,"p",19),m(7," Estimados usuarios en estos momentos estamos presentando intermitencias en el servicio."),Z(8,"br"),m(9," Microsoft esta realizando una actualizaci\xf3n a la plataforma de servicios de office 365."),Z(10,"br"),m(11," Una vez finalice esta actualizaci\xf3n el servicio ser\xe1 reestablecido."),Z(12,"br"),m(13," Estamos trabajando para brindar una mejor experiencia. "),d(),d(),d(),d(),d()}if(2&n){const e=b();C("ngClass",H(1,n0,e.inMaintenance,!e.inMaintenance))}}const YB=function(n,t,e){return{"fade-in":n,"fade-out":t,"d-none":e}},ZB=function(n){return{width:n}};function XB(n,t){if(1&n){const e=G();u(0,"div",20),w("animationstart",function(i){return R(e),b().loadingScreenAnimationStart(i)})("animationend",function(i){return R(e),b().loadingScreenAnimationEnd(i)}),u(1,"div",21),u(2,"div",13),u(3,"div",14),Z(4,"img",22),d(),u(5,"div",23),u(6,"div",24),Z(7,"div",25),d(),d(),u(8,"div",14),Z(9,"p",26),d(),d(),d(),d()}if(2&n){const e=b();C("ngClass",uE(4,YB,e.waitTasks.length>0,0===e.waitTasks.length,0===e.waitTasks.length&&!e.loadingScreen)),v(7),C("ngStyle",Hn(8,ZB,(e.waitTasks.length>0?e.waitTasks[0].progress:100)+"%"))("innerHTML",(e.waitTasks.length>0?e.waitTasks[0].progress:100)+"%",sa),v(2),C("innerHTML",e.waitTasks.length>0?e.waitTasks[0].description:"",sa)}}const ej=function(n,t){return{"fade-in":n,"fade-out":t,"d-none":!1}};function tj(n,t){if(1&n){const e=G();u(0,"div",29),w("animationstart",function(i){return R(e),b(2).toastShowAnimationStart(i)})("animationend",function(i){return R(e),b(2).toastShowAnimationEnd(i)}),u(1,"div",30),Z(2,"img",31),Z(3,"strong",32),u(4,"button",33),w("click",function(){const o=R(e).$implicit;return b(2).removeToastMessage(o.id)}),d(),d(),Z(5,"div",34),d()}if(2&n){const e=t.$implicit;Dr("id","liveToast",e.id,""),C("ngClass",H(4,ej,!e.hide,e.hide)),v(3),C("innerHTML",e.title,sa),v(2),C("innerHTML",e.description,sa)}}function nj(n,t){if(1&n&&(u(0,"div",27),T(1,tj,6,7,"div",28),d()),2&n){const e=b();v(1),C("ngForOf",e.toastMessages)}}let rj=(()=>{class n{constructor(e){this.sharedService=e,this.title="OEI",this.waitTasks=[],this.toastMessages=[],this.loadingScreen=!1,this.toastShow=!1,this.inMaintenance=!1,this.inCoding=!1}ngOnInit(){this.sharedService.onSetLoggedUser.subscribe(e=>{this.loggedUser=e}),this.sharedService.onPushWaitTask.subscribe(e=>{const r=this.waitTasks.findIndex(i=>i.id===e.id);-1!==r?(100===e.progress&&(this.waitTasks[r].description="Su peticion se encuentra siendo procesada, por favor espere..."),e.description&&(this.waitTasks[r].description=e.description),this.waitTasks[r].progress=e.progress):this.waitTasks.push(e)}),this.sharedService.onRemoveWaitTask.subscribe(e=>{this.waitTasks.splice(this.waitTasks.findIndex(r=>r.id===e.id))}),this.sharedService.onPushToastMessage.subscribe(e=>{this.toastMessages.push(e),-1!==e.autohide&&setTimeout(()=>{this.removeToastMessage(e.id)},e.autohide?e.autohide:6500)})}removeToastMessage(e){let r;-1!==(r=this.toastMessages.findIndex(i=>i.id===e))&&(this.toastMessages[r].hide=!0,setTimeout(()=>{this.toastMessages.splice(this.toastMessages.findIndex(i=>i.id===e),1)},400))}loadingScreenAnimationStart(e){"fadeIn"===e.animationName&&(this.loadingScreen=!0)}loadingScreenAnimationEnd(e){"fadeOut"===e.animationName&&(this.loadingScreen=!1)}toastShowAnimationStart(e){"fadeIn"===e.animationName&&(this.toastShow=!0)}toastShowAnimationEnd(e){"fadeOut"===e.animationName&&(this.toastShow=!1)}maintenanceScreenAnimationStart(e){"fadeIn"===e.animationName&&(this.inMaintenance=!0)}maintenanceScreenAnimationEnd(e){"fadeOut"===e.animationName&&(this.inMaintenance=!1)}codingScreenAnimationStart(e){"fadeIn"===e.animationName&&(this.inCoding=!0)}codingScreenAnimationEnd(e){"fadeOut"===e.animationName&&(this.inCoding=!1)}}return n.\u0275fac=function(e){return new(e||n)(D(lo))},n.\u0275cmp=ft({type:n,selectors:[["app-root"]],decls:15,vars:5,consts:[["class","position-fixed","style","\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.9);\n    z-index: 111111;\n  ",3,"ngClass","animationstart","animationend",4,"ngIf"],["class","position-fixed","style","\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.9);\n    z-index: 11111;\n  ",3,"ngClass","animationstart","animationend",4,"ngIf"],["class","position-fixed","style","\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.7);\n    z-index: 11;\n  ",3,"ngClass","animationstart","animationend",4,"ngIf"],["class","position-fixed top-0 end-0 p-3","style","z-index: 1111",4,"ngIf"],[1,"position-fixed","bottom-0","end-0","p-3",2,"z-index","11"],["data-bs-toggle","tooltip","title","\xbfNecesitas ayuda?","href",""],["id","egJCB1EpTo61","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 100 100","shape-rendering","geometricPrecision","text-rendering","geometricPrecision"],["id","egJCB1EpTo62","rx","10","ry","10","transform","matrix(4.999999 0 0 5 49.99999 50)","fill","rgb(0,92,230)","stroke","none","stroke-width","0"],["id","egJCB1EpTo63","dx","0","dy","0","font-family",'"Roboto"',"font-size","5","transform","matrix(15.557818 0 0 13.984108 27.878718 79.247002)","fill","rgb(255,255,255)","stroke","none","stroke-width","0"],["id","egJCB1EpTo64","x","0","y","0","font-family","Roboto","font-size","6","stroke","none","stroke-width","0"],[3,"loggedUser"],[1,"position-fixed",2,"width","100%","height","100%","background-color","rgba(0, 0, 0, 0.9)","z-index","111111",3,"ngClass","animationstart","animationend"],[1,"position-absolute","top-50","start-50","translate-middle"],[1,"row","g-3"],[1,"col-12","text-center"],["src","../../../assets/infinity.svg","height","100px","width","100px",1,"img-fluid"],[1,"fs-4","text-light",2,"white-space","pre-line"],[1,"position-fixed",2,"width","100%","height","100%","background-color","rgba(0, 0, 0, 0.9)","z-index","11111",3,"ngClass","animationstart","animationend"],["src","../../../assets/gear.svg","height","100px","width","100px",1,"img-fluid"],[1,"fs-4","text-light"],[1,"position-fixed",2,"width","100%","height","100%","background-color","rgba(0, 0, 0, 0.7)","z-index","11",3,"ngClass","animationstart","animationend"],[1,"position-absolute","top-50","start-50","translate-middle",2,"width","50vw"],["src","../../../assets/loading.svg","height","100px","width","100px",1,"img-fluid"],[1,"col-12"],[1,"progress"],["role","progressbar",1,"progress-bar","progress-bar-striped","progress-bar-animated","text-light",3,"ngStyle","innerHTML"],[1,"fs-4","text-light",3,"innerHTML"],[1,"position-fixed","top-0","end-0","p-3",2,"z-index","1111"],["style","display: block","data-bs-autohide","false","class","toast","role","alert","aria-live","assertive","aria-atomic","true",3,"ngClass","id","animationstart","animationend",4,"ngFor","ngForOf"],["data-bs-autohide","false","role","alert","aria-live","assertive","aria-atomic","true",1,"toast",2,"display","block",3,"ngClass","id","animationstart","animationend"],[1,"toast-header"],["src","../../../assets/banner.png",1,"rounded","me-2",2,"max-width","35%"],[1,"me-auto",3,"innerHTML"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body",3,"innerHTML"]],template:function(e,r){1&e&&(T(0,QB,8,4,"div",0),T(1,JB,14,4,"div",1),T(2,XB,10,10,"div",2),T(3,nj,2,1,"div",3),u(4,"div",4),u(5,"a",5),ae.lFrame.currentNamespace=Lm,u(6,"svg",6),Z(7,"ellipse",7),u(8,"text",8),u(9,"tspan",9),m(10,"?"),d(),d(),u(11,"style"),m(12,' svg { max-width: 70px; } @font-face { font-family: "Roboto"; font-style: normal; font-weight: 400; src: url(data:font/ttf;charset=utf-8;base64,AAEAAAASAQAABAAgR0RFRgApAAQAAAFcAAAAHkdQT1NEdEx1AAABfAAAAB5HU1VCkw2CAgAAAgAAAAA0T1MvMnSaAagAAAL8AAAAYGNtYXAAcABeAAACbAAAADxjdnQgK6gHnQAAAqgAAABUZnBnbXf4YKsAAAbcAAABvGdhc3AACAATAAABNAAAAAxnbHlmb7sB8gAAA1wAAAC+aGRteA0EBAsAAAFMAAAAEGhlYWT8atJ6AAACNAAAADZoaGVhCroFowAAAdwAAAAkaG10eAlOAK8AAAFAAAAADGxvY2EAAABfAAABLAAAAAhtYXhwAjMDCQAAAZwAAAAgbmFtZRudOGoAAAVoAAABdHBvc3T/bQBkAAABvAAAACBwcmVwomb6yQAABBwAAAFJAAAAAAAAAF8AAQACAAgAAv//AA8DjABkAfsAAAPHAEsAAAABAAAACAkEBAIEAAAAAAEAAgAAAAAAAAAAAA4AAQACAAAADAAAAAwAAQAAAAAAAQAAAAoAHAAcAAFERkxUAAgABAAAAAD//wAAAAAAAAABAAAAAwCPABYAVAAFAAEAAAAAAA4AAAIAAiQABgABAAMAAAAAAAD/agBkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAB2z+DAAACUn6G/5KCTAAAQAAAAAAAAAAAAAAAAAAAAMAAQAAAAoAMgAyAARERkxUAB5jeXJsABpncmVrABpsYXRuABoAAAAAAAQAAAAA//8AAAAAAAEAAAACIxJLIc9KXw889QAZCAAAAAAAxPARLgAAAADVAVL0+hv91QkwCHMAAAAJAAIAAAAAAAAAAAACAAAAAwAAABQAAwABAAAAFAAEACgAAAAGAAQAAQACACAAP///AAAAIAA/////4f/DAAEAAAAAAAAAKgCdAIAAigB4ANQAZABOAFoAhwBgAFYANAI8ALwAsgCOAMQAAAAU/mAAFAKbACADIQALBDoAFASNABAFsAAUBhgAFQGmABEGwAAOBtkABgAAAAAAAwSGAZAABQAABZoFMwAAAR8FmgUzAAAD0QBmAgAAAAIAAAAAAAAAAACAAAAnAAAASwAAACAAAAAAR09PRwBAAAD//QYA/gAAZgeaAgAgAAGfAAAAAAQ6BbAAIAAgAAMAAgBL//UDdgXEABgAIQBTALAARViwEC8bsRAePlmwAEVYsCAvG7EgEj5ZsRsFsAorWCHYG/RZsgAbEBESObIEEAAREjmwEBCxCQGwCitYIdgb9FmwEBCwDNCyFQAQERI5MDEBNjY3NzY1NCYjIgYVIzY2MzIWFRQHBwYVAzQ2MhYUBiImAWUCMk2DVG5pZny5AuO2vdOibUnBN2w4OGw3AZp3ilSHX21pd2xbosfLsa+qbFGY/sMtPT1aOzsAAACwDCuwACsAsgEQAisBshEBAisBtxE6MCUbEAAIKwC3AUg7LiEUAAgrtwJYSDgoFAAIK7cDUkM0JRYACCu3BF5NPCsZAAgrtwU2LCIZDwAIK7cGcV1GMhsACCu3B5F3XDojAAgrtwh+Z1A5GgAIK7cJVEU2JhQACCu3CnZgSzYdAAgrtwuDZE46IwAIK7cM2bKKYzwACCu3DRQQDAkGAAgrtw48MiccEQAIK7cPQDQpHRQACCu3EFBBLiEUAAgrALISCwcrsAAgRX1pGESyPxoBc7JfGgFzsn8aAXOyLxoBdLJPGgF0sm8aAXSyjxoBdLKvGgF0sv8aAXSyHxoBdbI/GgF1sl8aAXWyfxoBdbIPHgFzsn8eAXOy7x4Bc7IfHgF0sl8eAXSyjx4BdLLPHgF0sv8eAXSyPx4BdbJvHgF1si8gAXOybyABcwAAAAAAAAgAZgADAAEECQAAAF4AsAADAAEECQABAAwApAADAAEECQACAA4AlgADAAEECQADAAwApAADAAEECQAEAAwApAADAAEECQAFACYAcAADAAEECQAGABwAVAADAAEECQAOAFQAAABoAHQAdABwADoALwAvAHcAdwB3AC4AYQBwAGEAYwBoAGUALgBvAHIAZwAvAGwAaQBjAGUAbgBzAGUAcwAvAEwASQBDAEUATgBTAEUALQAyAC4AMABSAG8AYgBvAHQAbwAtAFIAZQBnAHUAbABhAHIAVgBlAHIAcwBpAG8AbgAgADIALgAxADMANwA7ACAAMgAwADEANwBSAGUAZwB1AGwAYQByAFIAbwBiAG8AdABvAEMAbwBwAHkAcgBpAGcAaAB0ACAAMgAwADEAMQAgAEcAbwBvAGcAbABlACAASQBuAGMALgAgAEEAbABsACAAUgBpAGcAaAB0AHMAIABSAGUAcwBlAHIAdgBlAGQALrAALEuwCVBYsQEBjlm4Af+FsIQdsQkDX14tsAEsICBFaUSwAWAtsAIssAEqIS2wAywgRrADJUZSWCNZIIogiklkiiBGIGhhZLAEJUYgaGFkUlgjZYpZLyCwAFNYaSCwAFRYIbBAWRtpILAAVFghsEBlWVk6LbAELCBGsAQlRlJYI4pZIEYgamFksAQlRiBqYWRSWCOKWS/9LbAFLEsgsAMmUFhRWLCARBuwQERZGyEhIEWwwFBYsMBEGyFZWS2wBiwgIEVpRLABYCAgRX1pGESwAWAtsAcssAYqLbAILEsgsAMmU1iwQBuwAFmKiiCwAyZTWCMhsICKihuKI1kgsAMmU1gjIbDAioobiiNZILADJlNYIyG4AQCKihuKI1kgsAMmU1gjIbgBQIqKG4ojWSCwAyZTWLADJUW4AYBQWCMhuAGAIyEbsAMlRSMhIyFZGyFZRC2wCSxLU1hFRBshIVktsAossChFLbALLLApRS2wDCyxJwGIIIpTWLlAAAQAY7gIAIhUWLkAKAPocFkbsCNTWLAgiLgQAFRYuQAoA+hwWVlZLbANLLBAiLggAFpYsSkARBu5ACkD6ERZLQ==) format("truetype"); } '),d(),d(),d(),d(),ae.lFrame.currentNamespace=null,Z(13,"app-header",10),Z(14,"router-outlet")),2&e&&(C("ngIf",r.inCoding),v(1),C("ngIf",r.inMaintenance),v(1),C("ngIf",r.waitTasks.length>0||r.loadingScreen),v(1),C("ngIf",r.toastMessages.length>0),v(10),C("loggedUser",r.loggedUser))},directives:[Rn,KB,og,Gn,pA,fr],styles:[""]}),n})(),ij=(()=>{class n{constructor(){}intercept(e,r){return r.handle(e).pipe()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Yt=function(){function n(){}return n.decimalToHex=function(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return e},n}(),oj=function(){function n(t){this.cryptoObj=t}return n.prototype.generateGuid=function(){try{var t=new Uint8Array(16);return this.cryptoObj.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,Yt.decimalToHex(t[0])+Yt.decimalToHex(t[1])+Yt.decimalToHex(t[2])+Yt.decimalToHex(t[3])+"-"+Yt.decimalToHex(t[4])+Yt.decimalToHex(t[5])+"-"+Yt.decimalToHex(t[6])+Yt.decimalToHex(t[7])+"-"+Yt.decimalToHex(t[8])+Yt.decimalToHex(t[9])+"-"+Yt.decimalToHex(t[10])+Yt.decimalToHex(t[11])+Yt.decimalToHex(t[12])+Yt.decimalToHex(t[13])+Yt.decimalToHex(t[14])+Yt.decimalToHex(t[15])}catch(a){for(var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",i=0,o="",s=0;s<36;s++)"-"!==e[s]&&"4"!==e[s]&&(i=16*Math.random()|0),"x"===e[s]?o+=r[i]:"y"===e[s]?(i&=3,o+=r[i|=8]):o+=e[s];return o}},n.isGuid=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)},n}(),Rs=function(){function n(){}return n.stringToUtf8Arr=function(t){for(var e,r=0,i=t.length,o=0;o<i;o++)r+=(e=t.charCodeAt(o))<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6;for(var s=new Uint8Array(r),a=0,c=0;a<r;c++)(e=t.charCodeAt(c))<128?s[a++]=e:e<2048?(s[a++]=192+(e>>>6),s[a++]=128+(63&e)):e<65536?(s[a++]=224+(e>>>12),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):e<2097152?(s[a++]=240+(e>>>18),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):e<67108864?(s[a++]=248+(e>>>24),s[a++]=128+(e>>>18&63),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e)):(s[a++]=252+(e>>>30),s[a++]=128+(e>>>24&63),s[a++]=128+(e>>>18&63),s[a++]=128+(e>>>12&63),s[a++]=128+(e>>>6&63),s[a++]=128+(63&e));return s},n.stringToArrayBuffer=function(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return e},n.utf8ArrToString=function(t){for(var e="",r=void 0,i=t.length,o=0;o<i;o++)r=t[o],e+=String.fromCharCode(r>251&&r<254&&o+5<i?1073741824*(r-252)+(t[++o]-128<<24)+(t[++o]-128<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>247&&r<252&&o+4<i?(r-248<<24)+(t[++o]-128<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>239&&r<248&&o+3<i?(r-240<<18)+(t[++o]-128<<12)+(t[++o]-128<<6)+t[++o]-128:r>223&&r<240&&o+2<i?(r-224<<12)+(t[++o]-128<<6)+t[++o]-128:r>191&&r<224&&o+1<i?(r-192<<6)+t[++o]-128:r);return e},n}(),r0=function(){function n(){}return n.prototype.urlEncode=function(t){return encodeURIComponent(this.encode(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))},n.prototype.urlEncodeArr=function(t){return this.base64EncArr(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},n.prototype.encode=function(t){var e=Rs.stringToUtf8Arr(t);return this.base64EncArr(e)},n.prototype.base64EncArr=function(t){for(var e=(3-t.length%3)%3,r="",i=void 0,o=t.length,s=0,a=0;a<o;a++)s|=t[a]<<(16>>>(i=a%3)&24),(2===i||t.length-a==1)&&(r+=String.fromCharCode(this.uint6ToB64(s>>>18&63),this.uint6ToB64(s>>>12&63),this.uint6ToB64(s>>>6&63),this.uint6ToB64(63&s)),s=0);return 0===e?r:r.substring(0,r.length-e)+(1===e?"=":"==")},n.prototype.uint6ToB64=function(t){return t<26?t+65:t<52?t+71:t<62?t-4:62===t?43:63===t?47:65},n}(),sj=function(){function n(){}return n.prototype.decode=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Invalid base64 string")}var r=this.base64DecToArr(e);return Rs.utf8ArrToString(r)},n.prototype.base64DecToArr=function(t,e){for(var r=t.replace(/[^A-Za-z0-9\+\/]/g,""),i=r.length,o=e?Math.ceil((3*i+1>>>2)/e)*e:3*i+1>>>2,s=new Uint8Array(o),a=void 0,c=void 0,l=0,h=0,f=0;f<i;f++)if(c=3&f,l|=this.b64ToUint6(r.charCodeAt(f))<<18-6*c,3===c||i-f==1){for(a=0;a<3&&h<o;a++,h++)s[h]=l>>>(16>>>a&24)&255;l=0}return s},n.prototype.b64ToUint6=function(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:43===t?62:47===t?63:0},n}(),cj=function(){function n(t){this.base64Encode=new r0,this.cryptoObj=t}return n.prototype.generateCodes=function(){return N(this,void 0,void 0,function(){var t,e;return P(this,function(r){switch(r.label){case 0:return t=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(t)];case 1:return e=r.sent(),[2,{verifier:t,challenge:e}]}})})},n.prototype.generateCodeVerifier=function(){try{var t=new Uint8Array(32);return this.cryptoObj.getRandomValues(t),this.base64Encode.urlEncodeArr(t)}catch(r){throw z.createPkceNotGeneratedError(r)}},n.prototype.generateCodeChallengeFromVerifier=function(t){return N(this,void 0,void 0,function(){var e,r;return P(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(t)];case 1:return e=i.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(e))];case 2:throw r=i.sent(),z.createPkceNotGeneratedError(r);case 3:return[2]}})})},n}(),Wg="SHA-256",dj=new Uint8Array([1,0,1]),Kg=function(){function n(t){if(this.logger=t,!this.hasCryptoAPI())throw z.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:Wg,modulusLength:2048,publicExponent:dj}}return n.prototype.sha256Digest=function(t){return N(this,void 0,void 0,function(){var e;return P(this,function(r){return e=Rs.stringToUtf8Arr(t),[2,this.hasIECrypto()?this.getMSCryptoDigest(Wg,e):this.getSubtleCryptoDigest(Wg,e)]})})},n.prototype.getRandomValues=function(t){var e=window.msCrypto||window.crypto;if(!e.getRandomValues)throw z.createCryptoNotAvailableError("getRandomValues does not exist.");e.getRandomValues(t)},n.prototype.generateKeyPair=function(t,e){return N(this,void 0,void 0,function(){return P(this,function(r){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(t,e):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,t,e)]})})},n.prototype.exportJwk=function(t){return N(this,void 0,void 0,function(){return P(this,function(e){return[2,this.hasIECrypto()?this.msCryptoExportJwk(t):window.crypto.subtle.exportKey(wc,t)]})})},n.prototype.importJwk=function(t,e,r){return N(this,void 0,void 0,function(){var i,o;return P(this,function(s){return i=n.getJwkString(t),o=Rs.stringToArrayBuffer(i),[2,this.hasIECrypto()?this.msCryptoImportKey(o,e,r):window.crypto.subtle.importKey(wc,t,this._keygenAlgorithmOptions,e,r)]})})},n.prototype.sign=function(t,e){return N(this,void 0,void 0,function(){return P(this,function(r){return[2,this.hasIECrypto()?this.msCryptoSign(t,e):window.crypto.subtle.sign(this._keygenAlgorithmOptions,t,e)]})})},n.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},n.prototype.hasIECrypto=function(){return"msCrypto"in window},n.prototype.hasBrowserCrypto=function(){return"crypto"in window},n.prototype.getSubtleCryptoDigest=function(t,e){return N(this,void 0,void 0,function(){return P(this,function(r){return[2,window.crypto.subtle.digest(t,e)]})})},n.prototype.getMSCryptoDigest=function(t,e){return N(this,void 0,void 0,function(){return P(this,function(r){return[2,new Promise(function(i,o){var s=window.msCrypto.subtle.digest(t,e.buffer);s.addEventListener("complete",function(a){i(a.target.result)}),s.addEventListener("error",function(a){o(a)})})]})})},n.prototype.msCryptoGenerateKey=function(t,e){return N(this,void 0,void 0,function(){var r=this;return P(this,function(i){return[2,new Promise(function(o,s){var a=window.msCrypto.subtle.generateKey(r._keygenAlgorithmOptions,t,e);a.addEventListener("complete",function(c){o(c.target.result)}),a.addEventListener("error",function(c){s(c)})})]})})},n.prototype.msCryptoExportJwk=function(t){return N(this,void 0,void 0,function(){return P(this,function(e){return[2,new Promise(function(r,i){var o=window.msCrypto.subtle.exportKey(wc,t);o.addEventListener("complete",function(s){var c=Rs.utf8ArrToString(new Uint8Array(s.target.result)).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").split(" ").join("").replace("\0","");try{r(JSON.parse(c))}catch(l){i(l)}}),o.addEventListener("error",function(s){i(s)})})]})})},n.prototype.msCryptoImportKey=function(t,e,r){return N(this,void 0,void 0,function(){var i=this;return P(this,function(o){return[2,new Promise(function(s,a){var c=window.msCrypto.subtle.importKey(wc,t,i._keygenAlgorithmOptions,e,r);c.addEventListener("complete",function(l){s(l.target.result)}),c.addEventListener("error",function(l){a(l)})})]})})},n.prototype.msCryptoSign=function(t,e){return N(this,void 0,void 0,function(){var r=this;return P(this,function(i){return[2,new Promise(function(o,s){var a=window.msCrypto.subtle.sign(r._keygenAlgorithmOptions,t,e);a.addEventListener("complete",function(c){o(c.target.result)}),a.addEventListener("error",function(c){s(c)})})]})})},n.getJwkString=function(t){return JSON.stringify(t,Object.keys(t).sort())},n}(),hj=function(){function n(){this.dbName=$g,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return n.prototype.open=function(){return N(this,void 0,void 0,function(){var t=this;return P(this,function(e){return[2,new Promise(function(r,i){var o=window.indexedDB.open(t.dbName,t.version);o.addEventListener("upgradeneeded",function(s){s.target.result.createObjectStore(t.tableName)}),o.addEventListener("success",function(s){t.db=s.target.result,t.dbOpen=!0,r()}),o.addEventListener("error",function(){return i(z.createDatabaseUnavailableError())})})]})})},n.prototype.validateDbIsOpen=function(){return N(this,void 0,void 0,function(){return P(this,function(t){switch(t.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,t.sent()];case 2:return[2]}})})},n.prototype.getItem=function(t){return N(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(z.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).get(t);c.addEventListener("success",function(l){i(l.target.result)}),c.addEventListener("error",function(l){return o(l)})})]}})})},n.prototype.setItem=function(t,e){return N(this,void 0,void 0,function(){var r=this;return P(this,function(i){switch(i.label){case 0:return[4,this.validateDbIsOpen()];case 1:return i.sent(),[2,new Promise(function(o,s){if(!r.db)return s(z.createDatabaseNotOpenError());var l=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(e,t);l.addEventListener("success",function(){return o()}),l.addEventListener("error",function(h){return s(h)})})]}})})},n.prototype.removeItem=function(t){return N(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(z.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readwrite").objectStore(e.tableName).delete(t);c.addEventListener("success",function(){return i()}),c.addEventListener("error",function(l){return o(l)})})]}})})},n.prototype.getKeys=function(){return N(this,void 0,void 0,function(){var t=this;return P(this,function(e){switch(e.label){case 0:return[4,this.validateDbIsOpen()];case 1:return e.sent(),[2,new Promise(function(r,i){if(!t.db)return i(z.createDatabaseNotOpenError());var a=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).getAllKeys();a.addEventListener("success",function(c){r(c.target.result)}),a.addEventListener("error",function(c){return i(c)})})]}})})},n.prototype.containsKey=function(t){return N(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(i,o){if(!e.db)return o(z.createDatabaseNotOpenError());var c=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).count(t);c.addEventListener("success",function(l){i(1===l.target.result)}),c.addEventListener("error",function(l){return o(l)})})]}})})},n.prototype.deleteDatabase=function(){return N(this,void 0,void 0,function(){return P(this,function(t){return[2,new Promise(function(e,r){var i=window.indexedDB.deleteDatabase($g);i.addEventListener("success",function(){return e(!0)}),i.addEventListener("error",function(){return r(!1)})})]})})},n}(),Qg=function(){function n(){this.cache=new Map}return n.prototype.getItem=function(t){return this.cache.get(t)||null},n.prototype.setItem=function(t,e){this.cache.set(t,e)},n.prototype.removeItem=function(t){this.cache.delete(t)},n.prototype.getKeys=function(){var t=[];return this.cache.forEach(function(e,r){t.push(r)}),t},n.prototype.containsKey=function(t){return this.cache.has(t)},n.prototype.clear=function(){this.cache.clear()},n}(),o0=function(){function n(t){this.inMemoryCache=new Qg,this.indexedDBCache=new hj,this.logger=t}return n.prototype.handleDatabaseAccessError=function(t){t instanceof z&&t.errorCode===O_databaseUnavailable_code&&this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},n.prototype.getItem=function(t){return N(this,void 0,void 0,function(){var e,r;return P(this,function(i){switch(i.label){case 0:if(e=this.inMemoryCache.getItem(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(t)];case 2:return[2,i.sent()];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,e]}})})},n.prototype.setItem=function(t,e){return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:this.inMemoryCache.setItem(t,e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(t,e)];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}})})},n.prototype.removeItem=function(t){return N(this,void 0,void 0,function(){var e;return P(this,function(r){switch(r.label){case 0:this.inMemoryCache.removeItem(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(t)];case 2:return r.sent(),[3,4];case 3:return e=r.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2]}})})},n.prototype.getKeys=function(){return N(this,void 0,void 0,function(){var t,e;return P(this,function(r){switch(r.label){case 0:if(0!==(t=this.inMemoryCache.getKeys()).length)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,r.sent()];case 3:return e=r.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2,t]}})})},n.prototype.containsKey=function(t){return N(this,void 0,void 0,function(){var e,r;return P(this,function(i){switch(i.label){case 0:if(e=this.inMemoryCache.containsKey(t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(t)];case 2:return[2,i.sent()];case 3:return r=i.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,e]}})})},n.prototype.clear=function(){return N(this,void 0,void 0,function(){var t;return P(this,function(e){switch(e.label){case 0:this.inMemoryCache.clear(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.indexedDBCache.deleteDatabase()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}})})},n}(),fj=function(){function n(t){this.logger=t,this.browserCrypto=new Kg(this.logger),this.b64Encode=new r0,this.b64Decode=new sj,this.guidGenerator=new oj(this.browserCrypto),this.pkceGenerator=new cj(this.browserCrypto),this.cache={asymmetricKeys:new o0(this.logger),symmetricKeys:new o0(this.logger)}}return n.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},n.prototype.base64Encode=function(t){return this.b64Encode.encode(t)},n.prototype.base64Decode=function(t){return this.b64Decode.decode(t)},n.prototype.generatePkceCodes=function(){return N(this,void 0,void 0,function(){return P(this,function(t){return[2,this.pkceGenerator.generateCodes()]})})},n.prototype.getPublicKeyThumbprint=function(t){return N(this,void 0,void 0,function(){var e,r,o,s,a,c;return P(this,function(l){switch(l.label){case 0:return[4,this.browserCrypto.generateKeyPair(n.EXTRACTABLE,n.POP_KEY_USAGES)];case 1:return e=l.sent(),[4,this.browserCrypto.exportJwk(e.publicKey)];case 2:return r=l.sent(),o=Kg.getJwkString({e:r.e,kty:r.kty,n:r.n}),[4,this.hashString(o)];case 3:return s=l.sent(),[4,this.browserCrypto.exportJwk(e.privateKey)];case 4:return a=l.sent(),[4,this.browserCrypto.importJwk(a,!1,["sign"])];case 5:return c=l.sent(),[4,this.cache.asymmetricKeys.setItem(s,{privateKey:c,publicKey:e.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return l.sent(),[2,s]}})})},n.prototype.removeTokenBindingKey=function(t){return N(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(t)];case 1:return r.sent(),[4,this.cache.asymmetricKeys.containsKey(t)];case 2:return[2,!r.sent()]}})})},n.prototype.clearKeystore=function(){return N(this,void 0,void 0,function(){var t,e,r;return P(this,function(i){switch(i.label){case 0:return t=Object.keys(this.cache),(e=this.cache[t[0]])?[4,e.deleteDatabase()]:[3,2];case 1:return r=i.sent(),[3,3];case 2:r=!1,i.label=3;case 3:return[2,r]}})})},n.prototype.signJwt=function(t,e){return N(this,void 0,void 0,function(){var r,i,o,a,c,l,h,f,p;return P(this,function(g){switch(g.label){case 0:return[4,this.cache.asymmetricKeys.getItem(e)];case 1:if(!(r=g.sent()))throw z.createSigningKeyNotFoundInStorageError(e);return[4,this.browserCrypto.exportJwk(r.publicKey)];case 2:return i=g.sent(),o=Kg.getJwkString(i),a=this.b64Encode.urlEncode(JSON.stringify({alg:i.alg,type:wc})),t.cnf={jwk:JSON.parse(o)},c=this.b64Encode.urlEncode(JSON.stringify(t)),h=Rs.stringToArrayBuffer(l=a+"."+c),[4,this.browserCrypto.sign(r.privateKey,h)];case 3:return f=g.sent(),p=this.b64Encode.urlEncodeArr(new Uint8Array(f)),[2,l+"."+p]}})})},n.prototype.hashString=function(t){return N(this,void 0,void 0,function(){var e,r;return P(this,function(i){switch(i.label){case 0:return[4,this.browserCrypto.sha256Digest(t)];case 1:return e=i.sent(),r=new Uint8Array(e),[2,this.b64Encode.urlEncodeArr(r)]}})})},n.POP_KEY_USAGES=["sign","verify"],n.EXTRACTABLE=!0,n}(),Mt=(()=>(function(n){n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Verbose=3]="Verbose",n[n.Trace=4]="Trace"}(Mt||(Mt={})),Mt))(),s0=function(){function n(t,e,r){this.level=Mt.Info,this.localCallback=t.loggerCallback||function(){},this.piiLoggingEnabled=t.piiLoggingEnabled||!1,this.level="number"==typeof t.logLevel?t.logLevel:Mt.Info,this.correlationId=t.correlationId||"",this.packageName=e||U.EMPTY_STRING,this.packageVersion=r||U.EMPTY_STRING}return n.prototype.clone=function(t,e,r){return new n({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},t,e)},n.prototype.logMessage=function(t,e){if(!(e.logLevel>this.level||!this.piiLoggingEnabled&&e.containsPii)){var i,r=(new Date).toUTCString();i=j.isEmpty(e.correlationId)?j.isEmpty(this.correlationId)?"["+r+"]":"["+r+"] : ["+this.correlationId+"]":"["+r+"] : ["+e.correlationId+"]",this.executeCallback(e.logLevel,i+" : "+this.packageName+"@"+this.packageVersion+" : "+Mt[e.logLevel]+" - "+t,e.containsPii||!1)}},n.prototype.executeCallback=function(t,e,r){this.localCallback&&this.localCallback(t,e,r)},n.prototype.error=function(t,e){this.logMessage(t,{logLevel:Mt.Error,containsPii:!1,correlationId:e||""})},n.prototype.errorPii=function(t,e){this.logMessage(t,{logLevel:Mt.Error,containsPii:!0,correlationId:e||""})},n.prototype.warning=function(t,e){this.logMessage(t,{logLevel:Mt.Warning,containsPii:!1,correlationId:e||""})},n.prototype.warningPii=function(t,e){this.logMessage(t,{logLevel:Mt.Warning,containsPii:!0,correlationId:e||""})},n.prototype.info=function(t,e){this.logMessage(t,{logLevel:Mt.Info,containsPii:!1,correlationId:e||""})},n.prototype.infoPii=function(t,e){this.logMessage(t,{logLevel:Mt.Info,containsPii:!0,correlationId:e||""})},n.prototype.verbose=function(t,e){this.logMessage(t,{logLevel:Mt.Verbose,containsPii:!1,correlationId:e||""})},n.prototype.verbosePii=function(t,e){this.logMessage(t,{logLevel:Mt.Verbose,containsPii:!0,correlationId:e||""})},n.prototype.trace=function(t,e){this.logMessage(t,{logLevel:Mt.Trace,containsPii:!1,correlationId:e||""})},n.prototype.tracePii=function(t,e){this.logMessage(t,{logLevel:Mt.Trace,containsPii:!0,correlationId:e||""})},n.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},n}(),ed={createNewGuid:function(){throw oe.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw oe.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw oe.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw oe.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")})})},getPublicKeyThumbprint:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw oe.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")})})},removeTokenBindingKey:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw oe.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")})})},clearKeystore:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw oe.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")})})},signJwt:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw oe.createUnexpectedError("Crypto interface - signJwt() has not been implemented")})})},hashString:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw oe.createUnexpectedError("Crypto interface - hashString() has not been implemented")})})}},Sc=function(n){function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.name="ServerError",Object.setPrototypeOf(o,t.prototype),o}return Kn(t,n),t}(oe),a0=["interaction_required","consent_required","login_required"],pj=["message_only","additional_action","basic_action","user_password_expired","consent_required"],Jg_noTokensFoundError_code="no_tokens_found",Jg_noTokensFoundError_desc="No refresh token found in the cache. Please sign-in.",yo=function(n){function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.name="InteractionRequiredAuthError",Object.setPrototypeOf(o,t.prototype),o}return Kn(t,n),t.isInteractionRequiredError=function(e,r,i){var o=!!e&&a0.indexOf(e)>-1,s=!!i&&pj.indexOf(i)>-1,a=!!r&&a0.some(function(c){return r.indexOf(c)>-1});return o||a||s},t.createNoTokensFoundError=function(){return new t(Jg_noTokensFoundError_code,Jg_noTokensFoundError_desc)},t}(oe);function td(n,t){if(j.isEmpty(n))throw K.createClientInfoEmptyError();try{var e=t.base64Decode(n);return JSON.parse(e)}catch(r){throw K.createClientInfoDecodingError(r)}}function Tc(n){if(j.isEmpty(n))throw K.createClientInfoDecodingError("Home account ID was empty.");var t=n.split(mn.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?U.EMPTY_STRING:t[1]}}var ci=(()=>(function(n){n[n.Default=0]="Default",n[n.Adfs=1]="Adfs"}(ci||(ci={})),ci))(),vn=function(){function n(){}return n.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(mn.CACHE_KEY_SEPARATOR).toLowerCase()},n.prototype.generateAccountKey=function(){return n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},n.prototype.generateType=function(){switch(this.authorityType){case Lr.ADFS_ACCOUNT_TYPE:return Ur.ADFS;case Lr.MSAV1_ACCOUNT_TYPE:return Ur.MSA;case Lr.MSSTS_ACCOUNT_TYPE:return Ur.MSSTS;case Lr.GENERIC_ACCOUNT_TYPE:return Ur.GENERIC;default:throw K.createUnexpectedAccountTypeError()}},n.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims}},n.generateAccountCacheKey=function(t){return[t.homeAccountId,t.environment||"",t.tenantId||""].join(mn.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAccount=function(t,e,r,i,o,s,a,c){var l,h,f,p,g,_,E=new n;E.authorityType=Lr.MSSTS_ACCOUNT_TYPE,E.clientInfo=t,E.homeAccountId=e;var y=c||i&&i.getPreferredCache();if(!y)throw K.createInvalidCacheEnvironmentError();return E.environment=y,E.realm=(null===(l=null==r?void 0:r.claims)||void 0===l?void 0:l.tid)||"",E.oboAssertion=o,r&&(E.idTokenClaims=r.claims,E.localAccountId=(null===(h=null==r?void 0:r.claims)||void 0===h?void 0:h.oid)||(null===(f=null==r?void 0:r.claims)||void 0===f?void 0:f.sub)||"",E.username=(null===(p=null==r?void 0:r.claims)||void 0===p?void 0:p.preferred_username)||((null===(g=null==r?void 0:r.claims)||void 0===g?void 0:g.emails)?r.claims.emails[0]:""),E.name=null===(_=null==r?void 0:r.claims)||void 0===_?void 0:_.name),E.cloudGraphHostName=s,E.msGraphHost=a,E},n.createGenericAccount=function(t,e,r,i,o,s,a){var c,l,h,f,p=new n;p.authorityType=r&&r.authorityType===ci.Adfs?Lr.ADFS_ACCOUNT_TYPE:Lr.GENERIC_ACCOUNT_TYPE,p.homeAccountId=t,p.realm="",p.oboAssertion=i;var g=a||r&&r.getPreferredCache();if(!g)throw K.createInvalidCacheEnvironmentError();return e&&(p.localAccountId=(null===(c=null==e?void 0:e.claims)||void 0===c?void 0:c.oid)||(null===(l=null==e?void 0:e.claims)||void 0===l?void 0:l.sub)||"",p.username=(null===(h=null==e?void 0:e.claims)||void 0===h?void 0:h.upn)||"",p.name=(null===(f=null==e?void 0:e.claims)||void 0===f?void 0:f.name)||"",p.idTokenClaims=null==e?void 0:e.claims),p.environment=g,p.cloudGraphHostName=o,p.msGraphHost=s,p},n.generateHomeAccountId=function(t,e,r,i,o){var s,a=(null===(s=null==o?void 0:o.claims)||void 0===s?void 0:s.sub)?o.claims.sub:U.EMPTY_STRING;if(e===ci.Adfs)return a;if(t)try{var c=td(t,i);if(!j.isEmpty(c.uid)&&!j.isEmpty(c.utid))return""+c.uid+mn.CLIENT_INFO_SEPARATOR+c.utid}catch(l){}return r.verbose("No client info in response"),a},n.isAccountEntity=function(t){return!!t&&t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType")},n.accountInfoIsEqual=function(t,e,r){if(!t||!e)return!1;var i=!0;if(r){var o=t.idTokenClaims||{},s=e.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return t.homeAccountId===e.homeAccountId&&t.localAccountId===e.localAccountId&&t.username===e.username&&t.tenantId===e.tenantId&&t.environment===e.environment&&i},n}(),Ic=function(){function n(){}return n.prototype.generateAccountId=function(){return n.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},n.prototype.generateCredentialId=function(){return n.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},n.prototype.generateTarget=function(){return n.generateTargetForCacheKey(this.target)},n.prototype.generateCredentialKey=function(){return n.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},n.prototype.generateType=function(){switch(this.credentialType){case ye.ID_TOKEN:return Ur.ID_TOKEN;case ye.ACCESS_TOKEN:case ye.ACCESS_TOKEN_WITH_AUTH_SCHEME:return Ur.ACCESS_TOKEN;case ye.REFRESH_TOKEN:return Ur.REFRESH_TOKEN;default:throw K.createUnexpectedCredentialTypeError()}},n.getCredentialType=function(t){return-1!==t.indexOf(ye.ACCESS_TOKEN.toLowerCase())?-1!==t.indexOf(ye.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?ye.ACCESS_TOKEN_WITH_AUTH_SCHEME:ye.ACCESS_TOKEN:-1!==t.indexOf(ye.ID_TOKEN.toLowerCase())?ye.ID_TOKEN:-1!==t.indexOf(ye.REFRESH_TOKEN.toLowerCase())?ye.REFRESH_TOKEN:U.NOT_DEFINED},n.generateCredentialCacheKey=function(t,e,r,i,o,s,a,c,l){return[this.generateAccountIdForCacheKey(t,e),this.generateCredentialIdForCacheKey(r,i,o,a),this.generateTargetForCacheKey(s),this.generateClaimsHashForCacheKey(l),this.generateSchemeForCacheKey(c)].join(mn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateAccountIdForCacheKey=function(t,e){return[t,e].join(mn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateCredentialIdForCacheKey=function(t,e,r,i){return[t,t===ye.REFRESH_TOKEN&&i||e,r||""].join(mn.CACHE_KEY_SEPARATOR).toLowerCase()},n.generateTargetForCacheKey=function(t){return(t||"").toLowerCase()},n.generateClaimsHashForCacheKey=function(t){return(t||"").toLowerCase()},n.generateSchemeForCacheKey=function(t){return t&&t.toLowerCase()!==ot.BEARER.toLowerCase()?t.toLowerCase():""},n}(),Vr=function(){function n(t){var e=this,r=t?j.trimArrayEntries(Ku(t)):[],i=r?j.removeEmptyStringsFromArray(r):[];this.validateInputScopes(i),this.scopes=new Set,i.forEach(function(o){return e.scopes.add(o)})}return n.fromString=function(t){return new n((t||"").split(" "))},n.prototype.validateInputScopes=function(t){if(!t||t.length<1)throw Ke.createEmptyScopesArrayError()},n.prototype.containsScope=function(t){var r=new n(this.printScopesLowerCase().split(" "));return!j.isEmpty(t)&&r.scopes.has(t.toLowerCase())},n.prototype.containsScopeSet=function(t){var e=this;return!(!t||t.scopes.size<=0)&&this.scopes.size>=t.scopes.size&&t.asArray().every(function(r){return e.containsScope(r)})},n.prototype.containsOnlyOIDCScopes=function(){var t=this,e=0;return GS.forEach(function(r){t.containsScope(r)&&(e+=1)}),this.scopes.size===e},n.prototype.appendScope=function(t){j.isEmpty(t)||this.scopes.add(t.trim())},n.prototype.appendScopes=function(t){var e=this;try{t.forEach(function(r){return e.appendScope(r)})}catch(r){throw K.createAppendScopeSetError(r)}},n.prototype.removeScope=function(t){if(j.isEmpty(t))throw K.createRemoveEmptyScopeFromSetError(t);this.scopes.delete(t.trim())},n.prototype.removeOIDCScopes=function(){var t=this;GS.forEach(function(e){t.scopes.delete(e)})},n.prototype.unionScopeSets=function(t){if(!t)throw K.createEmptyInputScopeSetError();var e=new Set;return t.scopes.forEach(function(r){return e.add(r.toLowerCase())}),this.scopes.forEach(function(r){return e.add(r.toLowerCase())}),e},n.prototype.intersectingScopeSets=function(t){if(!t)throw K.createEmptyInputScopeSetError();t.containsOnlyOIDCScopes()||t.removeOIDCScopes();var e=this.unionScopeSets(t),r=t.getScopeCount(),i=this.getScopeCount();return e.size<i+r},n.prototype.getScopeCount=function(){return this.scopes.size},n.prototype.asArray=function(){var t=[];return this.scopes.forEach(function(e){return t.push(e)}),t},n.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):""},n.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},n}(),Oi=function(){function n(t,e){if(j.isEmpty(t))throw K.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=n.extractTokenClaims(t,e)}return n.extractTokenClaims=function(t,e){var r=j.decodeAuthToken(t);try{var o=e.base64Decode(r.JWSPayload);return JSON.parse(o)}catch(s){throw K.createTokenParsingError(s)}},n}(),_r=function(){function n(t,e){this.clientId=t,this.cryptoImpl=e}return n.prototype.getAllAccounts=function(){var t=this,e=this.getAccountsFilteredBy(),r=Object.keys(e).map(function(s){return e[s]});return r.length<1?[]:r.map(function(s){var c=n.toObject(new vn,s).getAccountInfo(),l=t.readIdTokenFromCache(t.clientId,c);return l&&!c.idTokenClaims&&(c.idTokenClaims=new Oi(l.secret,t.cryptoImpl).claims),c})},n.prototype.saveCacheRecord=function(t){return fe(this,void 0,void 0,function(){return pe(this,function(e){switch(e.label){case 0:if(!t)throw K.createNullOrUndefinedCacheRecord();return t.account&&this.setAccount(t.account),t.idToken&&this.setIdTokenCredential(t.idToken),t.accessToken?[4,this.saveAccessToken(t.accessToken)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t.refreshToken&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata),[2]}})})},n.prototype.saveAccessToken=function(t){return fe(this,void 0,void 0,function(){var e,r,i,o,s=this;return pe(this,function(a){switch(a.label){case 0:return e=this.getCredentialsFilteredBy({clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash}),r=Vr.fromString(t.target),(i=Object.keys(e.accessTokens).map(function(c){return e.accessTokens[c]}))?(o=[],i.forEach(function(c){Vr.fromString(c.target).intersectingScopeSets(r)&&o.push(s.removeCredential(c))}),[4,Promise.all(o)]):[3,2];case 1:a.sent(),a.label=2;case 2:return this.setAccessTokenCredential(t),[2]}})})},n.prototype.getAccountsFilteredBy=function(t){return this.getAccountsFilteredByInternal(t?t.homeAccountId:"",t?t.environment:"",t?t.realm:"")},n.prototype.getAccountsFilteredByInternal=function(t,e,r){var i=this,o=this.getKeys(),s={};return o.forEach(function(a){var c=i.getAccount(a);!c||t&&!i.matchHomeAccountId(c,t)||e&&!i.matchEnvironment(c,e)||r&&!i.matchRealm(c,r)||(s[a]=c)}),s},n.prototype.getCredentialsFilteredBy=function(t){return this.getCredentialsFilteredByInternal(t.homeAccountId,t.environment,t.credentialType,t.clientId,t.familyId,t.realm,t.target,t.oboAssertion,t.tokenType,t.keyId,t.requestedClaimsHash)},n.prototype.getCredentialsFilteredByInternal=function(t,e,r,i,o,s,a,c,l,h,f){var p=this,g=this.getKeys(),_={idTokens:{},accessTokens:{},refreshTokens:{}};return g.forEach(function(E){var y=Ic.getCredentialType(E);if(y!==U.NOT_DEFINED){var A=p.getSpecificCredential(E,y);if(A&&(!c||p.matchOboAssertion(A,c))&&(!t||p.matchHomeAccountId(A,t))&&(!e||p.matchEnvironment(A,e))&&(!s||p.matchRealm(A,s))&&(!r||p.matchCredentialType(A,r))&&(!i||p.matchClientId(A,i))&&(!o||p.matchFamilyId(A,o))&&(!a||p.matchTarget(A,a))&&(!f&&!A.requestedClaimsHash||A.requestedClaimsHash===f)&&(r!==ye.ACCESS_TOKEN_WITH_AUTH_SCHEME||!(l&&!p.matchTokenType(A,l)||l===ot.SSH&&h&&!p.matchKeyId(A,h)))){var S=p.updateCredentialCacheKey(E,A);switch(y){case ye.ID_TOKEN:_.idTokens[S]=A;break;case ye.ACCESS_TOKEN:case ye.ACCESS_TOKEN_WITH_AUTH_SCHEME:_.accessTokens[S]=A;break;case ye.REFRESH_TOKEN:_.refreshTokens[S]=A}}}}),_},n.prototype.getAppMetadataFilteredBy=function(t){return this.getAppMetadataFilteredByInternal(t.environment,t.clientId)},n.prototype.getAppMetadataFilteredByInternal=function(t,e){var r=this,i=this.getKeys(),o={};return i.forEach(function(s){if(r.isAppMetadata(s)){var a=r.getAppMetadata(s);!a||t&&!r.matchEnvironment(a,t)||e&&!r.matchClientId(a,e)||(o[s]=a)}}),o},n.prototype.getAuthorityMetadataByAlias=function(t){var e=this,r=this.getAuthorityMetadataKeys(),i=null;return r.forEach(function(o){if(e.isAuthorityMetadata(o)&&-1!==o.indexOf(e.clientId)){var s=e.getAuthorityMetadata(o);!s||-1!==s.aliases.indexOf(t)&&(i=s)}}),i},n.prototype.removeAllAccounts=function(){return fe(this,void 0,void 0,function(){var t,e,r=this;return pe(this,function(i){switch(i.label){case 0:return t=this.getKeys(),e=[],t.forEach(function(o){!r.getAccount(o)||e.push(r.removeAccount(o))}),[4,Promise.all(e)];case 1:return i.sent(),[2,!0]}})})},n.prototype.removeAccount=function(t){return fe(this,void 0,void 0,function(){var e;return pe(this,function(r){switch(r.label){case 0:if(!(e=this.getAccount(t)))throw K.createNoAccountFoundError();return[4,this.removeAccountContext(e)];case 1:return[2,r.sent()&&this.removeItem(t,Ni.ACCOUNT)]}})})},n.prototype.removeAccountContext=function(t){return fe(this,void 0,void 0,function(){var e,r,i,o=this;return pe(this,function(s){switch(s.label){case 0:return e=this.getKeys(),r=t.generateAccountId(),i=[],e.forEach(function(a){var c=Ic.getCredentialType(a);if(c!==U.NOT_DEFINED){var l=o.getSpecificCredential(a,c);l&&r===l.generateAccountId()&&i.push(o.removeCredential(l))}}),[4,Promise.all(i)];case 1:return s.sent(),[2,!0]}})})},n.prototype.removeCredential=function(t){return fe(this,void 0,void 0,function(){var e,i;return pe(this,function(o){switch(o.label){case 0:if(e=t.generateCredentialKey(),t.credentialType.toLowerCase()!==ye.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==ot.POP)return[3,4];if(!(i=t.keyId))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(i)];case 2:return o.sent(),[3,4];case 3:throw o.sent(),K.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(e,Ni.CREDENTIAL)]}})})},n.prototype.removeAppMetadata=function(){var t=this;return this.getKeys().forEach(function(r){t.isAppMetadata(r)&&t.removeItem(r,Ni.APP_METADATA)}),!0},n.prototype.readCacheRecord=function(t,e,r,i){var o=this.readAccountFromCache(t),s=this.readIdTokenFromCache(e,t),a=this.readAccessTokenFromCache(e,t,r),c=this.readRefreshTokenFromCache(e,t,!1),l=this.readAppMetadataFromCache(i,e);return o&&s&&(o.idTokenClaims=new Oi(s.secret,this.cryptoImpl).claims),{account:o,idToken:s,accessToken:a,refreshToken:c,appMetadata:l}},n.prototype.readAccountFromCache=function(t){var e=vn.generateAccountCacheKey(t);return this.getAccount(e)},n.prototype.readIdTokenFromCache=function(t,e){var i=this.getCredentialsFilteredBy({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ye.ID_TOKEN,clientId:t,realm:e.tenantId}),o=Object.keys(i.idTokens).map(function(a){return i.idTokens[a]}),s=o.length;if(s<1)return null;if(s>1)throw K.createMultipleMatchingTokensInCacheError();return o[0]},n.prototype.readAccessTokenFromCache=function(t,e,r){var i=new Vr(r.scopes||[]),o=r.authenticationScheme||ot.BEARER,s=o&&o.toLowerCase()!==ot.BEARER.toLowerCase()?ye.ACCESS_TOKEN_WITH_AUTH_SCHEME:ye.ACCESS_TOKEN,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:s,clientId:t,realm:e.tenantId,target:i.printScopesLowerCase(),tokenType:o,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},c=this.getCredentialsFilteredBy(a),l=Object.keys(c.accessTokens).map(function(f){return c.accessTokens[f]}),h=l.length;if(h<1)return null;if(h>1)throw K.createMultipleMatchingTokensInCacheError();return l[0]},n.prototype.readRefreshTokenFromCache=function(t,e,r){var s=this.getCredentialsFilteredBy({homeAccountId:e.homeAccountId,environment:e.environment,credentialType:ye.REFRESH_TOKEN,clientId:t,familyId:r?"1":void 0}),a=Object.keys(s.refreshTokens).map(function(l){return s.refreshTokens[l]});return a.length<1?null:a[0]},n.prototype.readAppMetadataFromCache=function(t,e){var i=this.getAppMetadataFilteredBy({environment:t,clientId:e}),o=Object.keys(i).map(function(a){return i[a]}),s=o.length;if(s<1)return null;if(s>1)throw K.createMultipleMatchingAppMetadataInCacheError();return o[0]},n.prototype.isAppMetadataFOCI=function(t,e){var r=this.readAppMetadataFromCache(t,e);return!(!r||"1"!==r.familyId)},n.prototype.matchHomeAccountId=function(t,e){return!(!t.homeAccountId||e!==t.homeAccountId)},n.prototype.matchOboAssertion=function(t,e){return!(!t.oboAssertion||e!==t.oboAssertion)},n.prototype.matchEnvironment=function(t,e){var r=this.getAuthorityMetadataByAlias(e);return!!(r&&r.aliases.indexOf(t.environment)>-1)},n.prototype.matchCredentialType=function(t,e){return t.credentialType&&e.toLowerCase()===t.credentialType.toLowerCase()},n.prototype.matchClientId=function(t,e){return!(!t.clientId||e!==t.clientId)},n.prototype.matchFamilyId=function(t,e){return!(!t.familyId||e!==t.familyId)},n.prototype.matchRealm=function(t,e){return!(!t.realm||e!==t.realm)},n.prototype.matchTarget=function(t,e){if(t.credentialType!==ye.ACCESS_TOKEN&&t.credentialType!==ye.ACCESS_TOKEN_WITH_AUTH_SCHEME||!t.target)return!1;var i=Vr.fromString(t.target),o=Vr.fromString(e);return o.containsOnlyOIDCScopes()?o.removeScope(U.OFFLINE_ACCESS_SCOPE):o.removeOIDCScopes(),i.containsScopeSet(o)},n.prototype.matchTokenType=function(t,e){return!(!t.tokenType||t.tokenType!==e)},n.prototype.matchKeyId=function(t,e){return!(!t.keyId||t.keyId!==e)},n.prototype.isAppMetadata=function(t){return-1!==t.indexOf(qg)},n.prototype.isAuthorityMetadata=function(t){return-1!==t.indexOf("authority-metadata")},n.prototype.generateAuthorityMetadataCacheKey=function(t){return"authority-metadata-"+this.clientId+"-"+t},n.prototype.getSpecificCredential=function(t,e){switch(e){case ye.ID_TOKEN:return this.getIdTokenCredential(t);case ye.ACCESS_TOKEN:case ye.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(t);case ye.REFRESH_TOKEN:return this.getRefreshTokenCredential(t);default:return null}},n.toObject=function(t,e){for(var r in e)t[r]=e[r];return t},n}(),gj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Kn(t,n),t.prototype.setAccount=function(){throw oe.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw oe.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw oe.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw oe.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw oe.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw oe.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw oe.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw oe.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw oe.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw oe.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw oe.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw oe.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw oe.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw oe.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw oe.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw oe.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw oe.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw oe.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw oe.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw oe.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return fe(this,void 0,void 0,function(){return pe(this,function(r){throw oe.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")})})},t.prototype.updateCredentialCacheKey=function(){throw oe.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(_r),nd=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Kn(t,n),t.createIdTokenEntity=function(e,r,i,o,s,a){var c=new t;return c.credentialType=ye.ID_TOKEN,c.homeAccountId=e,c.environment=r,c.clientId=o,c.secret=i,c.realm=s,c.oboAssertion=a,c},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===ye.ID_TOKEN},t}(Ic),Hr=function(){function n(){}return n.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},n.isTokenExpired=function(t,e){var r=Number(t)||0;return n.nowSeconds()+e>r},n.wasClockTurnedBack=function(t){return Number(t)>n.nowSeconds()},n.delay=function(t,e){return new Promise(function(r){return setTimeout(function(){return r(e)},t)})},n}(),rd=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Kn(t,n),t.createAccessTokenEntity=function(e,r,i,o,s,a,c,l,h,f,p,g,_,E,y){var A,S,M=new t;M.homeAccountId=e,M.credentialType=ye.ACCESS_TOKEN,M.secret=i;var B=Hr.nowSeconds();if(M.cachedAt=B.toString(),M.expiresOn=c.toString(),M.extendedExpiresOn=l.toString(),f&&(M.refreshOn=f.toString()),M.environment=r,M.clientId=o,M.realm=s,M.target=a,M.oboAssertion=g,M.tokenType=j.isEmpty(p)?ot.BEARER:p,E&&(M.requestedClaims=E,M.requestedClaimsHash=y),(null===(A=M.tokenType)||void 0===A?void 0:A.toLowerCase())!==ot.BEARER.toLowerCase())switch(M.credentialType=ye.ACCESS_TOKEN_WITH_AUTH_SCHEME,M.tokenType){case ot.POP:var se=Oi.extractTokenClaims(i,h);if(!(null===(S=null==se?void 0:se.cnf)||void 0===S?void 0:S.kid))throw K.createTokenClaimsRequiredError();M.keyId=se.cnf.kid;break;case ot.SSH:M.keyId=_}return M},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===ye.ACCESS_TOKEN||e.credentialType===ye.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}(Ic),Yg=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Kn(t,n),t.createRefreshTokenEntity=function(e,r,i,o,s,a){var c=new t;return c.clientId=o,c.credentialType=ye.REFRESH_TOKEN,c.environment=r,c.homeAccountId=e,c.secret=i,c.oboAssertion=a,s&&(c.familyId=s),c},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===ye.REFRESH_TOKEN},t}(Ic),Zg=function(){function n(){}return n.prototype.generateAppMetadataKey=function(){return n.generateAppMetadataCacheKey(this.environment,this.clientId)},n.generateAppMetadataCacheKey=function(t,e){return[qg,t,e].join(mn.CACHE_KEY_SEPARATOR).toLowerCase()},n.createAppMetadataEntity=function(t,e,r){var i=new n;return i.clientId=t,i.environment=e,r&&(i.familyId=r),i},n.isAppMetadataEntity=function(t,e){return!!e&&0===t.indexOf(qg)&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment")},n}(),id=function(){function n(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return n.isServerTelemetryEntity=function(t,e){var r=0===t.indexOf(Lt.CACHE_KEY),i=!0;return e&&(i=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&i},n}(),Xg=function(){function n(){this.expiresAt=Hr.nowSeconds()+86400}return n.prototype.updateCloudDiscoveryMetadata=function(t,e){this.aliases=t.aliases,this.preferred_cache=t.preferred_cache,this.preferred_network=t.preferred_network,this.aliasesFromNetwork=e},n.prototype.updateEndpointMetadata=function(t,e){this.authorization_endpoint=t.authorization_endpoint,this.token_endpoint=t.token_endpoint,this.end_session_endpoint=t.end_session_endpoint,this.issuer=t.issuer,this.endpointsFromNetwork=e},n.prototype.updateCanonicalAuthority=function(t){this.canonical_authority=t},n.prototype.resetExpiresAt=function(){this.expiresAt=Hr.nowSeconds()+86400},n.prototype.isExpired=function(){return this.expiresAt<=Hr.nowSeconds()},n.isAuthorityMetadataEntity=function(t,e){return!!e&&0===t.indexOf("authority-metadata")&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")},n}(),c0=function(){function n(){}return n.isThrottlingEntity=function(t,e){var r=!1;t&&(r=0===t.indexOf("throttling"));var i=!0;return e&&(i=e.hasOwnProperty("throttleTime")),r&&i},n}(),Ms=function(){function n(){}return n.setRequestState=function(t,e,r){var i=n.generateLibraryState(t,r);return j.isEmpty(e)?i:""+i+U.RESOURCE_DELIM+e},n.generateLibraryState=function(t,e){if(!t)throw K.createNoCryptoObjectError("generateLibraryState");var r={id:t.createNewGuid()};e&&(r.meta=e);var i=JSON.stringify(r);return t.base64Encode(i)},n.parseRequestState=function(t,e){if(!t)throw K.createNoCryptoObjectError("parseRequestState");if(j.isEmpty(e))throw K.createInvalidStateError(e,"Null, undefined or empty state");try{var r=e.split(U.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(U.RESOURCE_DELIM):"",s=t.base64Decode(i),a=JSON.parse(s);return{userRequestState:j.isEmpty(o)?"":o,libraryState:a}}catch(c){throw K.createInvalidStateError(e,c)}},n}(),_n=(()=>(function(n){n.HOME_ACCOUNT_ID="home_account_id",n.UPN="UPN"}(_n||(_n={})),_n))(),l0=function(){function n(t){this.validateWindowStorage(t),this.windowStorage=window[t]}return n.prototype.validateWindowStorage=function(t){if(t!==Jt.LocalStorage&&t!==Jt.SessionStorage)throw Yu.createStorageNotSupportedError(t);if(!window[t])throw Yu.createStorageNotSupportedError(t)},n.prototype.getItem=function(t){return this.windowStorage.getItem(t)},n.prototype.setItem=function(t,e){this.windowStorage.setItem(t,e)},n.prototype.removeItem=function(t){this.windowStorage.removeItem(t)},n.prototype.getKeys=function(){return Object.keys(this.windowStorage)},n.prototype.containsKey=function(t){return this.windowStorage.hasOwnProperty(t)},n}(),u0=function(){function n(){}return n.extractBrowserRequestState=function(t,e){if(j.isEmpty(e))return null;try{return Ms.parseRequestState(t,e).libraryState.meta}catch(i){throw K.createInvalidStateError(e,i)}},n.parseServerResponseFromHash=function(t){if(!t)return{};var e=new Oe(t);return Oe.getDeserializedHash(e.getHash())},n}(),d0=function(n){function t(e,r,i,o){var s=n.call(this,e,i)||this;return s.COOKIE_LIFE_MULTIPLIER=864e5,s.cacheConfig=r,s.logger=o,s.internalStorage=new Qg,s.browserStorage=s.setupBrowserStorage(s.cacheConfig.cacheLocation),s.temporaryCacheStorage=s.setupTemporaryCacheStorage(s.cacheConfig.cacheLocation),s.migrateCacheEntries(),s}return ln(t,n),t.prototype.setupBrowserStorage=function(e){switch(e){case Jt.LocalStorage:case Jt.SessionStorage:try{return new l0(e)}catch(r){this.logger.verbose(r);break}}return this.cacheConfig.cacheLocation=Jt.MemoryStorage,new Qg},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case Jt.LocalStorage:case Jt.SessionStorage:try{return new l0(Jt.SessionStorage)}catch(r){return this.logger.verbose(r),this.internalStorage}default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,i=U.CACHE_PREFIX+"."+Ft.CLIENT_INFO,o=U.CACHE_PREFIX+"."+Ft.ERROR,s=U.CACHE_PREFIX+"."+Ft.ERROR_DESC,f=[this.browserStorage.getItem(U.CACHE_PREFIX+"."+Ft.ID_TOKEN),this.browserStorage.getItem(i),this.browserStorage.getItem(o),this.browserStorage.getItem(s)];[Ft.ID_TOKEN,Ft.CLIENT_INFO,Ft.ERROR,Ft.ERROR_DESC].forEach(function(g,_){return e.migrateCacheEntry(g,f[_])})},t.prototype.migrateCacheEntry=function(e,r){r&&this.setTemporaryCache(e,r,!0)},t.prototype.validateAndParseJson=function(e){try{var r=JSON.parse(e);return r&&"object"==typeof r?r:null}catch(i){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,r){this.browserStorage.setItem(e,r)},t.prototype.getAccount=function(e){var r=this.getItem(e);if(!r)return null;var i=this.validateAndParseJson(r);return i&&vn.isAccountEntity(i)?_r.toObject(new vn,i):null},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var r=e.generateAccountKey();this.setItem(r,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&nd.isIdTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),_r.toObject(new nd,i)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&rd.isAccessTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),_r.toObject(new rd,i)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Yg.isRefreshTokenEntity(i)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),_r.toObject(new Yg,i)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var r=e.generateCredentialKey();this.setItem(r,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Zg.isAppMetadataEntity(e,i)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),_r.toObject(new Zg,i)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var r=e.generateAppMetadataKey();this.setItem(r,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&id.isServerTelemetryEntity(e,i)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),_r.toObject(new id,i)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(r))},t.prototype.getAuthorityMetadata=function(e){var r=this.internalStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&Xg.isAuthorityMetadataEntity(e,i)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),_r.toObject(new Xg,i)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter(function(i){return e.isAuthorityMetadata(i)})},t.prototype.setWrapperMetadata=function(e,r){this.internalStorage.setItem(Co.WRAPPER_SKU,e),this.internalStorage.setItem(Co.WRAPPER_VER,r)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(Co.WRAPPER_SKU)||"",this.internalStorage.getItem(Co.WRAPPER_VER)||""]},t.prototype.setAuthorityMetadata=function(e,r){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(r))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(Ft.ACTIVE_ACCOUNT),r=this.browserStorage.getItem(e);return r&&this.getAccountInfoByFilter({localAccountId:r})[0]||null},t.prototype.setActiveAccount=function(e){var r=this.generateCacheKey(Ft.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(r,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r))},t.prototype.getAccountInfoByFilter=function(e){return this.getAllAccounts().filter(function(i){return!(e.username&&e.username.toLowerCase()!==i.username.toLowerCase()||e.homeAccountId&&e.homeAccountId!==i.homeAccountId||e.localAccountId&&e.localAccountId!==i.localAccountId||e.tenantId&&e.tenantId!==i.tenantId||e.environment&&e.environment!==i.environment)})},t.prototype.getThrottlingCache=function(e){var r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var i=this.validateAndParseJson(r);return i&&c0.isThrottlingEntity(e,i)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),_r.toObject(new c0,i)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(r))},t.prototype.getTemporaryCache=function(e,r){var i=r?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var o=this.getItemCookie(i);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}var s=this.temporaryCacheStorage.getItem(i);if(!s){if(this.cacheConfig.cacheLocation===Jt.LocalStorage){var a=this.browserStorage.getItem(i);if(a)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),a}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s},t.prototype.setTemporaryCache=function(e,r,i){var o=i?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(o,r),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(o,r))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return QS(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return N(this,void 0,void 0,function(){var e=this;return P(this,function(r){switch(r.label){case 0:return[4,this.removeAllAccounts()];case 1:return r.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(i){(e.browserStorage.containsKey(i)||e.temporaryCacheStorage.containsKey(i))&&(-1!==i.indexOf(U.CACHE_PREFIX)||-1!==i.indexOf(e.clientId))&&e.removeItem(i)}),this.internalStorage.clear(),[2]}})})},t.prototype.setItemCookie=function(e,r,i){var o=encodeURIComponent(e)+"="+encodeURIComponent(r)+";path=/;";i&&(o+="expires="+this.getCookieExpirationTime(i)+";"),this.cacheConfig.secureCookies&&(o+="Secure;"),document.cookie=o},t.prototype.getItemCookie=function(e){for(var r=encodeURIComponent(e)+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var s=i[o];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(r))return decodeURIComponent(s.substring(r.length,s.length))}return""},t.prototype.clearMsalCookies=function(){var e=this,r=U.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach(function(o){for(;" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(r)){var s=o.split("=")[0];e.clearItemCookie(s)}})},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,"",-1)},t.prototype.getCookieExpirationTime=function(e){var r=new Date;return new Date(r.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):j.startsWith(e,U.CACHE_PREFIX)||j.startsWith(e,Ft.ADAL_ID_TOKEN)?e:U.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var r=Ms.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ue.AUTHORITY+"."+r)},t.prototype.generateNonceKey=function(e){var r=Ms.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ue.NONCE_IDTOKEN+"."+r)},t.prototype.generateStateKey=function(e){var r=Ms.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(Ue.REQUEST_STATE+"."+r)},t.prototype.getCachedAuthority=function(e){var r=this.generateStateKey(e),i=this.getTemporaryCache(r);if(!i)return null;var o=this.generateAuthorityKey(i);return this.getTemporaryCache(o)},t.prototype.updateCacheEntries=function(e,r,i,o,s){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);var c=this.generateNonceKey(e);this.setTemporaryCache(c,r,!1);var l=this.generateAuthorityKey(e);if(this.setTemporaryCache(l,i,!1),s){var h={credential:s.homeAccountId,type:_n.HOME_ACCOUNT_ID};this.setTemporaryCache(Ue.CCS_CREDENTIAL,JSON.stringify(h),!0)}else j.isEmpty(o)||(h={credential:o,type:_n.UPN},this.setTemporaryCache(Ue.CCS_CREDENTIAL,JSON.stringify(h),!0))},t.prototype.resetRequestCache=function(e){var r=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),j.isEmpty(e)||this.getKeys().forEach(function(i){-1!==i.indexOf(e)&&r.removeItem(i)}),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(Ue.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(Ue.ORIGIN_URI)),this.removeItem(this.generateCacheKey(Ue.URL_HASH)),this.removeItem(this.generateCacheKey(Ue.CORRELATION_ID)),this.removeItem(this.generateCacheKey(Ue.CCS_CREDENTIAL)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var r=this.generateStateKey(e),i=this.temporaryCacheStorage.getItem(r);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+i),this.resetRequestCache(i||"")}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var r=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(i){if(-1!==i.indexOf(Ue.REQUEST_STATE)){var o=r.temporaryCacheStorage.getItem(i);if(o){var s=u0.extractBrowserRequestState(r.cryptoImpl,o);s&&s.interactionType===e&&(r.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+o),r.resetRequestCache(o))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,r){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var i=r.base64Encode(JSON.stringify(e));this.setTemporaryCache(Ue.REQUEST_PARAMS,i,!0)},t.prototype.getCachedRequest=function(e,r){this.logger.trace("BrowserCacheManager.getCachedRequest called");var i=this.getTemporaryCache(Ue.REQUEST_PARAMS,!0);if(!i)throw z.createNoTokenRequestCacheError();var o=this.validateAndParseJson(r.base64Decode(i));if(!o)throw z.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(Ue.REQUEST_PARAMS)),j.isEmpty(o.authority)){var s=this.generateAuthorityKey(e),a=this.getTemporaryCache(s);if(!a)throw z.createNoCachedAuthorityError();o.authority=a}return o},t.prototype.isInteractionInProgress=function(e){var r=this.getInteractionInProgress();return e?r===this.clientId:!!r},t.prototype.getInteractionInProgress=function(){return this.getTemporaryCache(U.CACHE_PREFIX+"."+Ue.INTERACTION_STATUS_KEY,!1)},t.prototype.setInteractionInProgress=function(e){var r=this.getInteractionInProgress(),i=U.CACHE_PREFIX+"."+Ue.INTERACTION_STATUS_KEY;e&&!r?this.setTemporaryCache(i,this.clientId,!1):!e&&r===this.clientId&&this.removeItem(i)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(Ft.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(Ft.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var r=this.getTemporaryCache(Ft.ID_TOKEN,!0);r&&(this.removeItem(this.generateCacheKey(Ft.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var i=r||e;if(i){var o=new Oi(i,this.cryptoImpl);if(o.claims&&o.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),o.claims.preferred_username;if(o.claims&&o.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),o.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,r){var i=r.generateCredentialKey();if(e!==i){var o=this.getItem(e);if(o)return this.removeItem(e),this.setItem(i,o),this.logger.verbose("Updated an outdated "+r.credentialType+" cache key"),i;this.logger.error("Attempted to update an outdated "+r.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t}(_r),Dc=(()=>(function(n){n.AAD="AAD",n.OIDC="OIDC"}(Dc||(Dc={})),Dc))(),f0={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Cj={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:Mt.Info,correlationId:""},yj={sendGetRequestAsync:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw oe.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")})})},sendPostRequestAsync:function(){return fe(this,void 0,void 0,function(){return pe(this,function(t){throw oe.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")})})}},Ej={sku:U.SKU,version:"6.0.0",cpu:"",os:""},bj={clientSecret:"",clientAssertion:void 0};function wj(n){return Qt({clientCapabilities:[]},n)}var Sj={sendGetRequestAsync:function(){return Promise.reject(oe.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(oe.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}},Tj=function(){function n(){}return n.prototype.navigateInternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.prototype.navigateExternal=function(t,e){return n.defaultNavigateWindow(t,e)},n.defaultNavigateWindow=function(t,e){return e.noHistory?window.location.replace(t):window.location.assign(t),new Promise(function(r){setTimeout(function(){r(!0)},e.timeout)})},n}(),tm="2.21.0",Mj=function(){function n(t,e){this.eventCallbacks=new Map,this.logger=t,this.browserCrypto=e,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return n.prototype.addEventCallback=function(t){if("undefined"!=typeof window){var e=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(e,t),this.logger.verbose("Event callback registered with id: "+e),e}return null},n.prototype.removeEventCallback=function(t){this.eventCallbacks.delete(t),this.logger.verbose("Event callback "+t+" removed.")},n.prototype.enableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},n.prototype.disableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},n.prototype.emitEvent=function(t,e,r,i){var o=this;if("undefined"!=typeof window){var s={eventType:t,interactionType:e||null,payload:r||null,error:i||null,timestamp:Date.now()};this.logger.info("Emitting event: "+t),this.eventCallbacks.forEach(function(a,c){o.logger.verbose("Emitting event to callback "+c+": "+t),a.apply(null,[s])})}},n.prototype.handleAccountCacheChange=function(t){try{var e=t.newValue||t.oldValue;if(!e)return;var r=JSON.parse(e);if("object"!=typeof r||!vn.isAccountEntity(r))return;var o=_r.toObject(new vn,r).getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(Q.ACCOUNT_ADDED,void 0,o)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(Q.ACCOUNT_REMOVED,void 0,o))}catch(s){return}},n}(),od=function(){function n(){}return n.generateThrottlingStorageKey=function(t){return"throttling."+JSON.stringify(t)},n.preProcess=function(t,e){var r,i=n.generateThrottlingStorageKey(e),o=t.getThrottlingCache(i);if(o){if(o.throttleTime<Date.now())return void t.removeItem(i,Ni.THROTTLING);throw new Sc((null===(r=o.errorCodes)||void 0===r?void 0:r.join(" "))||U.EMPTY_STRING,o.errorMessage,o.subError)}},n.postProcess=function(t,e,r){if(n.checkResponseStatus(r)||n.checkResponseForRetryAfter(r)){var i={throttleTime:n.calculateThrottleTime(parseInt(r.headers[Or.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};t.setThrottlingCache(n.generateThrottlingStorageKey(e),i)}},n.checkResponseStatus=function(t){return 429===t.status||t.status>=500&&t.status<600},n.checkResponseForRetryAfter=function(t){return!!t.headers&&t.headers.hasOwnProperty(Or.RETRY_AFTER)&&(t.status<200||t.status>=300)},n.calculateThrottleTime=function(t){var e=t<=0?0:t,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(e||60),r+3600))},n.removeThrottle=function(t,e,r,i){var s=this.generateThrottlingStorageKey({clientId:e,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid});return t.removeItem(s,Ni.THROTTLING)},n}(),kj=function(){function n(t,e){this.networkClient=t,this.cacheManager=e}return n.prototype.sendPostRequest=function(t,e,r){return fe(this,void 0,void 0,function(){var i,o;return pe(this,function(s){switch(s.label){case 0:od.preProcess(this.cacheManager,t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(e,r)];case 2:return i=s.sent(),[3,4];case 3:throw(o=s.sent())instanceof oe?o:K.createNetworkError(e,o);case 4:return od.postProcess(this.cacheManager,t,i),[2,i]}})})},n}(),nm=function(){function n(t){this.config=function(n){var t=n.authOptions,e=n.systemOptions,r=n.loggerOptions,i=n.storageInterface,o=n.networkInterface,s=n.cryptoInterface,a=n.clientCredentials,c=n.libraryInfo,l=n.serverTelemetryManager,h=n.persistencePlugin,f=n.serializableCache,p=Qt(Qt({},Cj),r);return{authOptions:wj(t),systemOptions:Qt(Qt({},f0),e),loggerOptions:p,storageInterface:i||new gj(t.clientId,ed),networkInterface:o||yj,cryptoInterface:s||ed,clientCredentials:a||bj,libraryInfo:Qt(Qt({},Ej),c),serverTelemetryManager:l||null,persistencePlugin:h||null,serializableCache:f||null}}(t),this.logger=new s0(this.config.loggerOptions,"@azure/msal-common","6.0.0"),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new kj(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return n.prototype.createTokenRequestHeaders=function(t){var e={};if(e[Or.CONTENT_TYPE]=U.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case _n.HOME_ACCOUNT_ID:try{var r=Tc(t.credential);e[Or.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(i){this.logger.verbose("Could not parse home account ID for CCS Header: "+i)}break;case _n.UPN:e[Or.CCS_HEADER]="UPN: "+t.credential}return e},n.prototype.executePostToTokenEndpoint=function(t,e,r,i){return fe(this,void 0,void 0,function(){var o;return pe(this,function(s){switch(s.label){case 0:return[4,this.networkManager.sendPostRequest(i,t,{body:e,headers:r})];case 1:return o=s.sent(),this.config.serverTelemetryManager&&o.status<500&&429!==o.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,o]}})})},n.prototype.updateAuthority=function(t){if(!t.discoveryComplete())throw K.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=t},n}(),Eo=function(){function n(){}return n.validateRedirectUri=function(t){if(j.isEmpty(t))throw Ke.createRedirectUriEmptyError()},n.validatePrompt=function(t){var e=[];for(var r in vo)e.push(vo[r]);if(e.indexOf(t)<0)throw Ke.createInvalidPromptError(t)},n.validateClaims=function(t){try{JSON.parse(t)}catch(e){throw Ke.createInvalidClaimsRequestError()}},n.validateCodeChallengeParams=function(t,e){if(j.isEmpty(t)||j.isEmpty(e))throw Ke.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(e)},n.validateCodeChallengeMethod=function(t){if([zS.PLAIN,zS.S256].indexOf(t)<0)throw Ke.createInvalidCodeChallengeMethodError()},n.sanitizeEQParams=function(t,e){return t?(e.forEach(function(r,i){t[i]&&delete t[i]}),t):{}},n}(),ks=function(){function n(){this.parameters=new Map}return n.prototype.addResponseTypeCode=function(){this.parameters.set(Ce.RESPONSE_TYPE,encodeURIComponent(U.CODE_RESPONSE_TYPE))},n.prototype.addResponseMode=function(t){this.parameters.set(Ce.RESPONSE_MODE,encodeURIComponent(t||Cc.QUERY))},n.prototype.addScopes=function(t,e){void 0===e&&(e=!0);var r=e?Ku(t||[],jg):t||[],i=new Vr(r);this.parameters.set(Ce.SCOPE,encodeURIComponent(i.printScopes()))},n.prototype.addClientId=function(t){this.parameters.set(Ce.CLIENT_ID,encodeURIComponent(t))},n.prototype.addRedirectUri=function(t){Eo.validateRedirectUri(t),this.parameters.set(Ce.REDIRECT_URI,encodeURIComponent(t))},n.prototype.addPostLogoutRedirectUri=function(t){Eo.validateRedirectUri(t),this.parameters.set(Ce.POST_LOGOUT_URI,encodeURIComponent(t))},n.prototype.addIdTokenHint=function(t){this.parameters.set(Ce.ID_TOKEN_HINT,encodeURIComponent(t))},n.prototype.addDomainHint=function(t){this.parameters.set(Ds.DOMAIN_HINT,encodeURIComponent(t))},n.prototype.addLoginHint=function(t){this.parameters.set(Ds.LOGIN_HINT,encodeURIComponent(t))},n.prototype.addCcsUpn=function(t){this.parameters.set(Or.CCS_HEADER,encodeURIComponent("UPN:"+t))},n.prototype.addCcsOid=function(t){this.parameters.set(Or.CCS_HEADER,encodeURIComponent("Oid:"+t.uid+"@"+t.utid))},n.prototype.addSid=function(t){this.parameters.set(Ds.SID,encodeURIComponent(t))},n.prototype.addClaims=function(t,e){var r=this.addClientCapabilitiesToClaims(t,e);Eo.validateClaims(r),this.parameters.set(Ce.CLAIMS,encodeURIComponent(r))},n.prototype.addCorrelationId=function(t){this.parameters.set(Ce.CLIENT_REQUEST_ID,encodeURIComponent(t))},n.prototype.addLibraryInfo=function(t){this.parameters.set(Ce.X_CLIENT_SKU,t.sku),this.parameters.set(Ce.X_CLIENT_VER,t.version),this.parameters.set(Ce.X_CLIENT_OS,t.os),this.parameters.set(Ce.X_CLIENT_CPU,t.cpu)},n.prototype.addPrompt=function(t){Eo.validatePrompt(t),this.parameters.set(""+Ce.PROMPT,encodeURIComponent(t))},n.prototype.addState=function(t){j.isEmpty(t)||this.parameters.set(Ce.STATE,encodeURIComponent(t))},n.prototype.addNonce=function(t){this.parameters.set(Ce.NONCE,encodeURIComponent(t))},n.prototype.addCodeChallengeParams=function(t,e){if(Eo.validateCodeChallengeParams(t,e),!t||!e)throw Ke.createInvalidCodeChallengeParamsError();this.parameters.set(Ce.CODE_CHALLENGE,encodeURIComponent(t)),this.parameters.set(Ce.CODE_CHALLENGE_METHOD,encodeURIComponent(e))},n.prototype.addAuthorizationCode=function(t){this.parameters.set(Ce.CODE,encodeURIComponent(t))},n.prototype.addDeviceCode=function(t){this.parameters.set(Ce.DEVICE_CODE,encodeURIComponent(t))},n.prototype.addRefreshToken=function(t){this.parameters.set(Ce.REFRESH_TOKEN,encodeURIComponent(t))},n.prototype.addCodeVerifier=function(t){this.parameters.set(Ce.CODE_VERIFIER,encodeURIComponent(t))},n.prototype.addClientSecret=function(t){this.parameters.set(Ce.CLIENT_SECRET,encodeURIComponent(t))},n.prototype.addClientAssertion=function(t){this.parameters.set(Ce.CLIENT_ASSERTION,encodeURIComponent(t))},n.prototype.addClientAssertionType=function(t){this.parameters.set(Ce.CLIENT_ASSERTION_TYPE,encodeURIComponent(t))},n.prototype.addOboAssertion=function(t){this.parameters.set(Ce.OBO_ASSERTION,encodeURIComponent(t))},n.prototype.addRequestTokenUse=function(t){this.parameters.set(Ce.REQUESTED_TOKEN_USE,encodeURIComponent(t))},n.prototype.addGrantType=function(t){this.parameters.set(Ce.GRANT_TYPE,encodeURIComponent(t))},n.prototype.addClientInfo=function(){this.parameters.set("client_info","1")},n.prototype.addExtraQueryParameters=function(t){var e=this;Eo.sanitizeEQParams(t,this.parameters),Object.keys(t).forEach(function(r){e.parameters.set(r,t[r])})},n.prototype.addClientCapabilitiesToClaims=function(t,e){var r;if(t)try{r=JSON.parse(t)}catch(i){throw Ke.createInvalidClaimsRequestError()}else r={};return e&&e.length>0&&(r.hasOwnProperty(mo.ACCESS_TOKEN)||(r[mo.ACCESS_TOKEN]={}),r[mo.ACCESS_TOKEN][mo.XMS_CC]={values:e}),JSON.stringify(r)},n.prototype.addUsername=function(t){this.parameters.set(Ac.username,t)},n.prototype.addPassword=function(t){this.parameters.set(Ac.password,t)},n.prototype.addPopToken=function(t){j.isEmpty(t)||(this.parameters.set(Ce.TOKEN_TYPE,ot.POP),this.parameters.set(Ce.REQ_CNF,encodeURIComponent(t)))},n.prototype.addSshJwk=function(t){j.isEmpty(t)||(this.parameters.set(Ce.TOKEN_TYPE,ot.SSH),this.parameters.set(Ce.REQ_CNF,encodeURIComponent(t)))},n.prototype.addServerTelemetry=function(t){this.parameters.set(Ce.X_CLIENT_CURR_TELEM,t.generateCurrentRequestHeaderValue()),this.parameters.set(Ce.X_CLIENT_LAST_TELEM,t.generateLastRequestHeaderValue())},n.prototype.addThrottling=function(){this.parameters.set(Ce.X_MS_LIB_CAPABILITY,"retry-after, h429")},n.prototype.createQueryString=function(){var t=new Array;return this.parameters.forEach(function(e,r){t.push(r+"="+e)}),t.join("&")},n}(),Nj=function(t,e,r,i,o){this.account=t||null,this.idToken=e||null,this.accessToken=r||null,this.refreshToken=i||null,this.appMetadata=o||null},sd=(()=>(function(n){n.SW="sw",n.UHW="uhw"}(sd||(sd={})),sd))(),rm=function(){function n(t){this.cryptoUtils=t}return n.prototype.generateCnf=function(t){return fe(this,void 0,void 0,function(){var e;return pe(this,function(r){switch(r.label){case 0:return[4,this.generateKid(t)];case 1:return e=r.sent(),[2,this.cryptoUtils.base64Encode(JSON.stringify(e))]}})})},n.prototype.generateKid=function(t){return fe(this,void 0,void 0,function(){return pe(this,function(r){switch(r.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(t)];case 1:return[2,{kid:r.sent(),xms_ksl:sd.SW}]}})})},n.prototype.signPopToken=function(t,e){var r;return fe(this,void 0,void 0,function(){var i;return pe(this,function(o){if(i=Oi.extractTokenClaims(t,this.cryptoUtils),!(null===(r=null==i?void 0:i.cnf)||void 0===r?void 0:r.kid))throw K.createTokenClaimsRequiredError();return[2,this.signPayload(t,i.cnf.kid,e)]})})},n.prototype.signPayload=function(t,e,r,i){return fe(this,void 0,void 0,function(){var o,s,a,c,l,h;return pe(this,function(f){switch(f.label){case 0:return o=r.resourceRequestMethod,a=r.shrClaims,c=r.shrNonce,l=(s=r.resourceRequestUri)?new Oe(s):void 0,h=null==l?void 0:l.getUrlComponents(),[4,this.cryptoUtils.signJwt(Qt({at:t,ts:Hr.nowSeconds(),m:null==o?void 0:o.toUpperCase(),u:null==h?void 0:h.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:null==h?void 0:h.AbsolutePath,q:(null==h?void 0:h.QueryString)?[[],h.QueryString]:void 0,client_claims:a||void 0},i),e)];case 1:return[2,f.sent()]}})})},n}(),Pj=function(){function n(t,e){this.cache=t,this.hasChanged=e}return Object.defineProperty(n.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),n}(),ad=function(){function n(t,e,r,i,o,s){this.clientId=t,this.cacheStorage=e,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s}return n.prototype.validateServerAuthorizationCodeResponse=function(t,e,r){if(!t.state||!e)throw K.createStateNotFoundError(t.state?"Cached State":"Server State");if(decodeURIComponent(t.state)!==decodeURIComponent(e))throw K.createStateMismatchError();if(t.error||t.error_description||t.suberror)throw yo.isInteractionRequiredError(t.error,t.error_description,t.suberror)?new yo(t.error||U.EMPTY_STRING,t.error_description,t.suberror):new Sc(t.error||U.EMPTY_STRING,t.error_description,t.suberror);t.client_info&&td(t.client_info,r)},n.prototype.validateTokenResponse=function(t){if(t.error||t.error_description||t.suberror){if(yo.isInteractionRequiredError(t.error,t.error_description,t.suberror))throw new yo(t.error,t.error_description,t.suberror);throw new Sc(t.error,t.error_codes+" - ["+t.timestamp+"]: "+t.error_description+" - Correlation ID: "+t.correlation_id+" - Trace ID: "+t.trace_id,t.suberror)}},n.prototype.handleServerTokenResponse=function(t,e,r,i,o,s,a){return fe(this,void 0,void 0,function(){var c,l,h,f,p;return pe(this,function(_){switch(_.label){case 0:if(t.id_token&&(c=new Oi(t.id_token||U.EMPTY_STRING,this.cryptoObj),o&&!j.isEmpty(o.nonce)&&c.claims.nonce!==o.nonce))throw K.createNonceMismatchError();this.homeAccountIdentifier=vn.generateHomeAccountId(t.client_info||U.EMPTY_STRING,e.authorityType,this.logger,this.cryptoObj,c),!!o&&!!o.state&&(l=Ms.parseRequestState(this.cryptoObj,o.state)),t.key_id=t.key_id||i.sshKid||void 0,h=this.generateCacheRecord(t,e,r,i,c,s,o),_.label=1;case 1:return _.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),f=new Pj(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(f)]):[3,3];case 2:_.sent(),_.label=3;case 3:return a&&h.account&&(p=h.account.generateAccountKey(),!this.cacheStorage.getAccount(p))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,n.generateAuthenticationResult(this.cryptoObj,e,h,!1,i,c,l)]):[4,this.cacheStorage.saveCacheRecord(h)];case 4:return _.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&f?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(f)]):[3,7];case 6:_.sent(),_.label=7;case 7:return[7];case 8:return[2,n.generateAuthenticationResult(this.cryptoObj,e,h,!1,i,c,l,t.spa_code)]}})})},n.prototype.generateCacheRecord=function(t,e,r,i,o,s,a){var l,h,c=e.getPreferredCache();if(j.isEmpty(c))throw K.createInvalidCacheEnvironmentError();!j.isEmpty(t.id_token)&&o&&(l=nd.createIdTokenEntity(this.homeAccountIdentifier,c,t.id_token||U.EMPTY_STRING,this.clientId,o.claims.tid||U.EMPTY_STRING,s),h=this.generateAccountEntity(t,o,e,s,a));var f=null;if(!j.isEmpty(t.access_token)){var p=t.scope?Vr.fromString(t.scope):new Vr(i.scopes||[]),g=("string"==typeof t.expires_in?parseInt(t.expires_in,10):t.expires_in)||0,_=("string"==typeof t.ext_expires_in?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,E=("string"==typeof t.refresh_in?parseInt(t.refresh_in,10):t.refresh_in)||void 0,y=r+g,A=y+_,S=E&&E>0?r+E:void 0;f=rd.createAccessTokenEntity(this.homeAccountIdentifier,c,t.access_token||U.EMPTY_STRING,this.clientId,o?o.claims.tid||U.EMPTY_STRING:e.tenant,p.printScopes(),y,A,this.cryptoObj,S,t.token_type,s,t.key_id,i.claims,i.requestedClaimsHash)}var M=null;j.isEmpty(t.refresh_token)||(M=Yg.createRefreshTokenEntity(this.homeAccountIdentifier,c,t.refresh_token||U.EMPTY_STRING,this.clientId,t.foci,s));var B=null;return j.isEmpty(t.foci)||(B=Zg.createAppMetadataEntity(this.clientId,c,t.foci)),new Nj(h,l,f,M,B)},n.prototype.generateAccountEntity=function(t,e,r,i,o){var a=o?o.cloud_graph_host_name:"",c=o?o.msgraph_host:"";if(r.authorityType===ci.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),vn.createGenericAccount(this.homeAccountIdentifier,e,r,i,a,c);if(j.isEmpty(t.client_info)&&"AAD"===r.protocolMode)throw K.createClientInfoEmptyError();return t.client_info?vn.createAccount(t.client_info,this.homeAccountIdentifier,e,r,i,a,c):vn.createGenericAccount(this.homeAccountIdentifier,e,r,i,a,c)},n.generateAuthenticationResult=function(t,e,r,i,o,s,a,c){var l,h,f;return fe(this,void 0,void 0,function(){var p,g,_,E,y;return pe(this,function(B){switch(B.label){case 0:return p="",g=[],_=null,y=U.EMPTY_STRING,r.accessToken?r.accessToken.tokenType!==ot.POP?[3,2]:[4,new rm(t).signPopToken(r.accessToken.secret,o)]:[3,4];case 1:return p=B.sent(),[3,3];case 2:p=r.accessToken.secret,B.label=3;case 3:g=Vr.fromString(r.accessToken.target).asArray(),_=new Date(1e3*Number(r.accessToken.expiresOn)),E=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),B.label=4;case 4:return r.appMetadata&&(y="1"===r.appMetadata.familyId?"1":U.EMPTY_STRING),[2,{authority:e.canonicalAuthority,uniqueId:(null==s?void 0:s.claims.oid)||(null==s?void 0:s.claims.sub)||U.EMPTY_STRING,tenantId:(null==s?void 0:s.claims.tid)||U.EMPTY_STRING,scopes:g,account:r.account?r.account.getAccountInfo():null,idToken:s?s.rawToken:U.EMPTY_STRING,idTokenClaims:s?s.claims:{},accessToken:p,fromCache:i,expiresOn:_,correlationId:o.correlationId,extExpiresOn:E,familyId:y,tokenType:(null===(l=r.accessToken)||void 0===l?void 0:l.tokenType)||U.EMPTY_STRING,state:a?a.userRequestState:U.EMPTY_STRING,cloudGraphHostName:(null===(h=r.account)||void 0===h?void 0:h.cloudGraphHostName)||U.EMPTY_STRING,msGraphHost:(null===(f=r.account)||void 0===f?void 0:f.msGraphHost)||U.EMPTY_STRING,code:c}]}})})},n}(),p0=function(n){function t(e){var r=n.call(this,e)||this;return r.includeRedirectUri=!0,r}return Kn(t,n),t.prototype.getAuthCodeUrl=function(e){return fe(this,void 0,void 0,function(){var r;return pe(this,function(i){return r=this.createAuthCodeUrlQueryString(e),[2,Oe.appendQueryString(this.authority.authorizationEndpoint,r)]})})},t.prototype.acquireToken=function(e,r){return fe(this,void 0,void 0,function(){var i,o,s;return pe(this,function(a){switch(a.label){case 0:if(this.logger.info("in acquireToken call"),!e||j.isEmpty(e.code))throw K.createTokenRequestCannotBeMadeError();return i=Hr.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return o=a.sent(),(s=new ad(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(o.body),[4,s.handleServerTokenResponse(o.body,this.authority,i,e,r)];case 2:return[2,a.sent()]}})})},t.prototype.handleFragmentResponse=function(e,r){var i=new ad(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),o=new Oe(e),s=Oe.getDeserializedHash(o.getHash());if(i.validateServerAuthorizationCodeResponse(s,r,this.cryptoUtils),!s.code)throw K.createNoAuthCodeInServerResponseError();return Qt(Qt({},s),{code:s.code})},t.prototype.getLogoutUri=function(e){if(!e)throw Ke.createEmptyLogoutRequestError();var r=this.createLogoutUrlQueryString(e);return Oe.appendQueryString(this.authority.endSessionEndpoint,r)},t.prototype.executeTokenRequest=function(e,r){return fe(this,void 0,void 0,function(){var i,o,s,a,c,l,h;return pe(this,function(f){switch(f.label){case 0:return i={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},[4,this.createTokenRequestBody(r)];case 1:if(o=f.sent(),s=this.createTokenQueryParameters(r),a=void 0,r.clientInfo)try{c=td(r.clientInfo,this.cryptoUtils),a={credential:""+c.uid+mn.CLIENT_INFO_SEPARATOR+c.utid,type:_n.HOME_ACCOUNT_ID}}catch(p){this.logger.verbose("Could not parse client info for CCS Header: "+p)}return l=this.createTokenRequestHeaders(a||r.ccsCredential),h=j.isEmpty(s)?e.tokenEndpoint:e.tokenEndpoint+"?"+s,[2,this.executePostToTokenEndpoint(h,o,l,i)]}})})},t.prototype.createTokenQueryParameters=function(e){var r=new ks;return e.tokenQueryParameters&&r.addExtraQueryParameters(e.tokenQueryParameters),r.createQueryString()},t.prototype.createTokenRequestBody=function(e){return fe(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return pe(this,function(f){switch(f.label){case 0:return(r=new ks).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):Eo.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(r.addClientAssertion((i=this.config.clientCredentials.clientAssertion).assertion),r.addClientAssertionType(i.assertionType)),r.addGrantType(yc.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme!==ot.POP?[3,2]:[4,new rm(this.cryptoUtils).generateCnf(e)];case 1:return s=f.sent(),r.addPopToken(s),[3,3];case 2:if(e.authenticationScheme===ot.SSH){if(!e.sshJwk)throw Ke.createMissingSshJwkError();r.addSshJwk(e.sshJwk)}f.label=3;case 3:if(a=e.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(a),(!j.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),c=void 0,e.clientInfo)try{l=td(e.clientInfo,this.cryptoUtils),c={credential:""+l.uid+mn.CLIENT_INFO_SEPARATOR+l.utid,type:_n.HOME_ACCOUNT_ID}}catch(p){this.logger.verbose("Could not parse client info for CCS Header: "+p)}else c=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&c)switch(c.type){case _n.HOME_ACCOUNT_ID:try{l=Tc(c.credential),r.addCcsOid(l)}catch(p){this.logger.verbose("Could not parse home account ID for CCS Header: "+p)}break;case _n.UPN:r.addCcsUpn(c.credential)}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Ce.RETURN_SPA_CODE])&&r.addExtraQueryParameters(((h={})[Ce.RETURN_SPA_CODE]="1",h)),[2,r.createQueryString()]}})})},t.prototype.createAuthCodeUrlQueryString=function(e){var r=new ks;r.addClientId(this.config.authOptions.clientId);var i=Ku(e.scopes||[],e.extraScopesToConsent||[]);r.addScopes(i),r.addRedirectUri(e.redirectUri);var o=e.correlationId||this.config.cryptoInterface.createNewGuid();if(r.addCorrelationId(o),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==vo.SELECT_ACCOUNT)if(e.sid&&e.prompt===vo.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){var s=this.extractAccountSid(e.account);if(s&&e.prompt===vo.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(s);try{var a=Tc(e.account.homeAccountId);r.addCcsOid(a)}catch(c){this.logger.verbose("Could not parse home account ID for CCS Header: "+c)}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{a=Tc(e.account.homeAccountId),r.addCcsOid(a)}catch(c){this.logger.verbose("Could not parse home account ID for CCS Header: "+c)}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(!j.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()},t.prototype.createLogoutUrlQueryString=function(e){var r=new ks;return e.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&r.addCorrelationId(e.correlationId),e.idTokenHint&&r.addIdTokenHint(e.idTokenHint),e.state&&r.addState(e.state),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters),r.createQueryString()},t.prototype.extractAccountSid=function(e){return e.idTokenClaims&&e.idTokenClaims.sid||null},t}(nm);function xj(n){return n.hasOwnProperty("authorization_endpoint")&&n.hasOwnProperty("token_endpoint")&&n.hasOwnProperty("issuer")}var Lj=function(){function n(t){this.networkInterface=t}return n.prototype.detectRegion=function(t,e){return fe(this,void 0,void 0,function(){var r,i,o,s;return pe(this,function(a){switch(a.label){case 0:if(r=t)return[3,8];a.label=1;case 1:return a.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(U.IMDS_VERSION)];case 2:return(i=a.sent()).status===_o.httpSuccess&&(r=i.body,e.region_source=ai.IMDS),i.status!==_o.httpBadRequest?[3,5]:[4,this.getCurrentVersion()];case 3:return(o=a.sent())?[4,this.getRegionFromIMDS(o)]:(e.region_source=ai.FAILED_AUTO_DETECTION,[2,null]);case 4:(s=a.sent()).status===_o.httpSuccess&&(r=s.body,e.region_source=ai.IMDS),a.label=5;case 5:return[3,7];case 6:return a.sent(),e.region_source=ai.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:e.region_source=ai.ENVIRONMENT_VARIABLE,a.label=9;case 9:return r||(e.region_source=ai.FAILED_AUTO_DETECTION),[2,r||null]}})})},n.prototype.getRegionFromIMDS=function(t){return fe(this,void 0,void 0,function(){return pe(this,function(e){return[2,this.networkInterface.sendGetRequestAsync(U.IMDS_ENDPOINT+"?api-version="+t+"&format=text",n.IMDS_OPTIONS,U.IMDS_TIMEOUT)]})})},n.prototype.getCurrentVersion=function(){return fe(this,void 0,void 0,function(){var t;return pe(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(U.IMDS_ENDPOINT+"?format=json",n.IMDS_OPTIONS)];case 1:return(t=e.sent()).status===_o.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?[2,t.body["newest-versions"][0]]:[2,null];case 2:return e.sent(),[2,null];case 3:return[2]}})})},n.IMDS_OPTIONS={headers:{Metadata:"true"}},n}(),g0=function(){function n(t,e,r,i){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=e,this.cacheManager=r,this.authorityOptions=i,this.regionDiscovery=new Lj(e),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0}}return Object.defineProperty(n.prototype,"authorityType",{get:function(){var t=this.canonicalAuthorityUrlComponents.PathSegments;return t.length&&t[0].toLowerCase()===U.ADFS?ci.Adfs:ci.Default},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(t){this._canonicalAuthority=new Oe(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(t)}throw K.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(t)}throw K.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(t)}throw K.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw K.createLogoutNotSupportedError();var t=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(t)}throw K.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.issuer);return this.replaceTenant(t)}throw K.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),n.prototype.replaceTenant=function(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)},n.prototype.replacePath=function(t){var e=t,i=new Oe(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(function(s,a){var c=i[a];s!==c&&(e=e.replace("/"+c+"/","/"+s+"/"))}),e},Object.defineProperty(n.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===ci.Adfs||this.protocolMode===Dc.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),n.prototype.discoveryComplete=function(){return!!this.metadata},n.prototype.resolveEndpointsAsync=function(){return fe(this,void 0,void 0,function(){var t,e,r,i;return pe(this,function(o){switch(o.label){case 0:return(t=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(t=new Xg).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(t)];case 1:return e=o.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,t.preferred_network),[4,this.updateEndpointMetadata(t)];case 2:return r=o.sent(),e!==mr.CACHE&&r!==mr.CACHE&&(t.resetExpiresAt(),t.updateCanonicalAuthority(this.canonicalAuthority)),i=this.cacheManager.generateAuthorityMetadataCacheKey(t.preferred_cache),this.cacheManager.setAuthorityMetadata(i,t),this.metadata=t,[2]}})})},n.prototype.updateEndpointMetadata=function(t){var e;return fe(this,void 0,void 0,function(){var r,i,o;return pe(this,function(s){switch(s.label){case 0:return(r=this.getEndpointMetadataFromConfig())?(t.updateEndpointMetadata(r,!1),[2,mr.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,mr.CACHE]:[4,this.getEndpointMetadataFromNetwork()];case 1:return(r=s.sent())?(null===(e=this.authorityOptions.azureRegionConfiguration)||void 0===e?void 0:e.azureRegion)?[4,this.regionDiscovery.detectRegion(this.authorityOptions.azureRegionConfiguration.environmentRegion,this.regionDiscoveryMetadata)]:[3,3]:[3,4];case 2:i=s.sent(),o=this.authorityOptions.azureRegionConfiguration.azureRegion===U.AZURE_REGION_AUTO_DISCOVER_FLAG?i:this.authorityOptions.azureRegionConfiguration.azureRegion,this.regionDiscoveryMetadata.region_outcome=this.authorityOptions.azureRegionConfiguration.azureRegion===U.AZURE_REGION_AUTO_DISCOVER_FLAG?i?Pi.AUTO_DETECTION_REQUESTED_SUCCESSFUL:Pi.AUTO_DETECTION_REQUESTED_FAILED:i?this.authorityOptions.azureRegionConfiguration.azureRegion===i?Pi.CONFIGURED_MATCHES_DETECTED:Pi.CONFIGURED_NOT_DETECTED:Pi.CONFIGURED_NO_AUTO_DETECTION,o&&(this.regionDiscoveryMetadata.region_used=o,r=n.replaceWithRegionalInformation(r,o)),s.label=3;case 3:return t.updateEndpointMetadata(r,!0),[2,mr.NETWORK];case 4:throw K.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},n.prototype.isAuthoritySameType=function(t){return new Oe(t.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},n.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(t){throw Ke.createInvalidAuthorityMetadataError()}return null},n.prototype.getEndpointMetadataFromNetwork=function(){return fe(this,void 0,void 0,function(){var t;return pe(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint)];case 1:return[2,xj((t=e.sent()).body)?t.body:null];case 2:return e.sent(),[2,null];case 3:return[2]}})})},n.prototype.updateCloudDiscoveryMetadata=function(t){return fe(this,void 0,void 0,function(){var e;return pe(this,function(r){switch(r.label){case 0:return(e=this.getCloudDiscoveryMetadataFromConfig())?(t.updateCloudDiscoveryMetadata(e,!1),[2,mr.CONFIG]):this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!t.isExpired()?[2,mr.CACHE]:[4,this.getCloudDiscoveryMetadataFromNetwork()];case 1:if(e=r.sent())return t.updateCloudDiscoveryMetadata(e,!0),[2,mr.NETWORK];throw Ke.createUntrustedAuthorityError()}})})},n.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),e=n.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(e)return e}catch(r){throw Ke.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},n.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return fe(this,void 0,void 0,function(){var t,e,r,i;return pe(this,function(o){switch(o.label){case 0:t=""+U.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",e=null,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t)];case 2:return r=o.sent(),i=function(n){return n.hasOwnProperty("tenant_discovery_endpoint")&&n.hasOwnProperty("metadata")}(r.body)?r.body.metadata:[],0===i.length?[2,null]:(e=n.getCloudDiscoveryMetadataFromNetworkResponse(i,this.hostnameAndPort),[3,4]);case 3:return o.sent(),[2,null];case 4:return e||(e=n.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,e]}})})},n.prototype.isInKnownAuthorities=function(){var t=this;return this.authorityOptions.knownAuthorities.filter(function(r){return Oe.getDomainFromUrl(r).toLowerCase()===t.hostnameAndPort}).length>0},n.createCloudDiscoveryMetadataFromHost=function(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}},n.getCloudDiscoveryMetadataFromNetworkResponse=function(t,e){for(var r=0;r<t.length;r++){var i=t[r];if(i.aliases.indexOf(e)>-1)return i}return null},n.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw K.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},n.prototype.isAlias=function(t){return this.metadata.aliases.indexOf(t)>-1},n.isPublicCloudAuthority=function(t){return U.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0},n.buildRegionalAuthorityString=function(t,e,r){var i=new Oe(t);i.validateAsUri();var o=i.getUrlComponents(),s=e+"."+o.HostNameAndPort;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=e+"."+U.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var a=Oe.constructAuthorityUriFromObject(Qt(Qt({},i.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?a+"?"+r:a},n.replaceWithRegionalInformation=function(t,e){return t.authorization_endpoint=n.buildRegionalAuthorityString(t.authorization_endpoint,e),t.token_endpoint=n.buildRegionalAuthorityString(t.token_endpoint,e,"allowestsrnonmsi=true"),t.end_session_endpoint&&(t.end_session_endpoint=n.buildRegionalAuthorityString(t.end_session_endpoint,e)),t},n}(),im=function(){function n(){}return n.createDiscoveredInstance=function(t,e,r,i){return fe(this,void 0,void 0,function(){var o,s;return pe(this,function(a){switch(a.label){case 0:o=n.createInstance(t,e,r,i),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.resolveEndpointsAsync()];case 2:return a.sent(),[2,o];case 3:throw s=a.sent(),K.createEndpointDiscoveryIncompleteError(s);case 4:return[2]}})})},n.createInstance=function(t,e,r,i){if(j.isEmpty(t))throw Ke.createUrlEmptyError();return new g0(t,e,r,i)},n}(),Uj=function(){function n(t,e){this.cacheOutcome=xi.NO_CACHE_HIT,this.cacheManager=e,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||U.EMPTY_STRING,this.wrapperVer=t.wrapperVer||U.EMPTY_STRING,this.telemetryCacheKey=Lt.CACHE_KEY+mn.CACHE_KEY_SEPARATOR+t.clientId}return n.prototype.generateCurrentRequestHeaderValue=function(){var t=""+this.apiId+Lt.VALUE_SEPARATOR+this.cacheOutcome,e=[this.wrapperSKU,this.wrapperVer].join(Lt.VALUE_SEPARATOR),i=[t,this.getRegionDiscoveryFields()].join(Lt.VALUE_SEPARATOR);return[Lt.SCHEMA_VERSION,i,e].join(Lt.CATEGORY_SEPARATOR)},n.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t),r=t.failedRequests.slice(0,2*e).join(Lt.VALUE_SEPARATOR),i=t.errors.slice(0,e).join(Lt.VALUE_SEPARATOR),o=t.errors.length,a=[o,e<o?Lt.OVERFLOW_TRUE:Lt.OVERFLOW_FALSE].join(Lt.VALUE_SEPARATOR);return[Lt.SCHEMA_VERSION,t.cacheHits,r,i,a].join(Lt.CATEGORY_SEPARATOR)},n.prototype.cacheFailedRequest=function(t){var e=this.getLastRequests();e.errors.length>=Lt.MAX_CACHED_ERRORS&&(e.failedRequests.shift(),e.failedRequests.shift(),e.errors.shift()),e.failedRequests.push(this.apiId,this.correlationId),j.isEmpty(t.subError)?j.isEmpty(t.errorCode)?t&&t.toString()?e.errors.push(t.toString()):e.errors.push(Lt.UNKNOWN_ERROR):e.errors.push(t.errorCode):e.errors.push(t.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)},n.prototype.incrementCacheHits=function(){var t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits},n.prototype.getLastRequests=function(){var t=new id;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||t},n.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),e=n.maxErrorsToSend(t);if(e===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var i=new id;i.failedRequests=t.failedRequests.slice(2*e),i.errors=t.errors.slice(e),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}},n.maxErrorsToSend=function(t){var e,r=0,i=0,o=t.errors.length;for(e=0;e<o;e++){var a=t.failedRequests[2*e+1]||U.EMPTY_STRING,c=t.errors[e]||U.EMPTY_STRING;if(!((i+=(t.failedRequests[2*e]||U.EMPTY_STRING).toString().length+a.toString().length+c.length+3)<Lt.MAX_LAST_HEADER_BYTES))break;r+=1}return r},n.prototype.getRegionDiscoveryFields=function(){var t=[];return t.push(this.regionUsed||""),t.push(this.regionSource||""),t.push(this.regionOutcome||""),t.join(",")},n.prototype.updateRegionDiscoveryMetadata=function(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome},n.prototype.setCacheOutcome=function(t){this.cacheOutcome=t},n}(),Vj=function(){function n(t,e,r,i,o,s){this.config=t,this.browserStorage=e,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.correlationId=s||this.browserCrypto.createNewGuid(),this.logger=i.clone("msal.js.browser",tm,this.correlationId)}return n.prototype.clearCacheOnLogout=function(t){return N(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:if(!t)return[3,5];vn.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(vn.generateAccountCacheKey(t))];case 2:return e.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return e.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return e.trys.push([5,8,,9]),[4,this.browserStorage.clear()];case 6:return e.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return e.sent(),this.logger.verbose("No account provided in logout request, clearing all cache items."),[3,9];case 8:return e.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},n.prototype.initializeBaseRequest=function(t){return N(this,void 0,void 0,function(){var e,r,i;return P(this,function(s){switch(s.label){case 0:if(this.logger.verbose("Initializing BaseAuthRequest"),e=t.authority||this.config.auth.authority,r=QS(t&&t.scopes||[]),t.authenticationScheme){if(t.authenticationScheme===ot.SSH){if(!t.sshJwk)throw Ke.createMissingSshJwkError();if(!t.sshKid)throw Ke.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+t.authenticationScheme+'" as configured in Auth request')}else t.authenticationScheme=ot.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.claims&&!j.isEmpty(t.claims)?(i=t,[4,this.browserCrypto.hashString(t.claims)]):[3,2];case 1:i.requestedClaimsHash=s.sent(),s.label=2;case 2:return[2,Ge(Ge({},t),{correlationId:this.correlationId,authority:e,scopes:r})]}})})},n.prototype.getRedirectUri=function(t){this.logger.verbose("getRedirectUri called");var e=t||this.config.auth.redirectUri||st.getCurrentUri();return Oe.getAbsoluteUrl(e,st.getCurrentUri())},n.prototype.initializeServerTelemetryManager=function(t,e){this.logger.verbose("initializeServerTelemetryManager called");var r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:e||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Uj(r,this.browserStorage)},n}(),Ns=function(n){function t(e,r,i,o,s,a,c){var l=n.call(this,e,r,i,o,s,c)||this;return l.navigationClient=a,l}return ln(t,n),t.prototype.initializeAuthorizationCodeRequest=function(e){return N(this,void 0,void 0,function(){var r,i;return P(this,function(o){switch(o.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return r=o.sent(),i=Ge(Ge({},e),{redirectUri:e.redirectUri,code:"",codeVerifier:r.verifier}),e.codeChallenge=r.challenge,e.codeChallengeMethod=U.S256_CODE_CHALLENGE_METHOD,[2,i]}})})},t.prototype.initializeLogoutRequest=function(e){if(this.logger.verbose("initializeLogoutRequest called",null==e?void 0:e.correlationId),this.browserStorage.isInteractionInProgress())throw z.createInteractionInProgressError();var r=Ge({correlationId:this.browserCrypto.createNewGuid()},e);return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",r.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",r.correlationId),r.postLogoutRedirectUri=Oe.getAbsoluteUrl(e.postLogoutRedirectUri,st.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",r.correlationId),r.postLogoutRedirectUri=Oe.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,st.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",r.correlationId),r.postLogoutRedirectUri=Oe.getAbsoluteUrl(st.getCurrentUri(),st.getCurrentUri())),r},t.prototype.createAuthCodeClient=function(e,r){return N(this,void 0,void 0,function(){var i;return P(this,function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,r)];case 1:return i=o.sent(),[2,new p0(i)]}})})},t.prototype.getClientConfiguration=function(e,r){return N(this,void 0,void 0,function(){var i;return P(this,function(o){switch(o.label){case 0:return this.logger.verbose("getClientConfiguration called"),[4,this.getDiscoveredAuthority(r)];case 1:return i=o.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:i,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:"msal.js.browser",version:tm,cpu:"",os:""}}]}})})},t.prototype.validateAndExtractStateFromHash=function(e,r,i){this.logger.verbose("validateAndExtractStateFromHash called",i);var o=Oe.getDeserializedHash(e);if(!o.state)throw z.createHashDoesNotContainStateError();var s=u0.extractBrowserRequestState(this.browserCrypto,o.state);if(!s)throw z.createUnableToParseStateError();if(s.interactionType!==r)throw z.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",i),o.state},t.prototype.getDiscoveredAuthority=function(e){return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),r={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},e?(this.logger.verbose("Creating discovered authority with request authority"),[4,im.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,r)]):[3,2];case 1:case 3:return[2,i.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,im.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,r)]}})})},t.prototype.preflightInteractiveRequest=function(e,r){return N(this,void 0,void 0,function(){return P(this,function(i){switch(i.label){case 0:if(this.logger.verbose("preflightInteractiveRequest called, validating app environment",null==e?void 0:e.correlationId),st.blockReloadInHiddenIframes(),this.browserStorage.isInteractionInProgress(!1))throw z.createInteractionInProgressError();return[4,this.initializeAuthorizationRequest(e,r)];case 1:return[2,i.sent()]}})})},t.prototype.initializeAuthorizationRequest=function(e,r){return N(this,void 0,void 0,function(){var i,s,a,c,l,h;return P(this,function(f){switch(f.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called"),i=this.getRedirectUri(e.redirectUri),s=Ms.setRequestState(this.browserCrypto,e&&e.state||"",{interactionType:r}),c=[{}],[4,this.initializeBaseRequest(e)];case 1:return a=Ge.apply(void 0,[Ge.apply(void 0,c.concat([f.sent()])),{redirectUri:i,state:s,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:Cc.FRAGMENT}]),(l=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account"),this.logger.verbosePii("Setting validated request account: "+l),a.account=l),j.isEmpty(a.loginHint)&&!l&&(h=this.browserStorage.getLegacyLoginHint())&&(a.loginHint=h),this.browserStorage.updateCacheEntries(a.state,a.nonce,a.authority,a.loginHint||"",a.account||null),[2,a]}})})},t}(Vj),Ps=function(){function n(t,e){this.browserStorage=t,this.logger=e,this.unloadWindow=this.unloadWindow.bind(this)}return n.prototype.openPopup=function(t,e){try{var r=void 0;if(e.popup?(r=e.popup,this.logger.verbosePii("Navigating popup window to: "+t),r.location.assign(t)):void 0===e.popup&&(this.logger.verbosePii("Opening popup window to: "+t),r=n.openSizedPopup(t,e.popupName,e.popupWindowAttributes,this.logger)),!r)throw z.createEmptyWindowCreatedError();return r.focus&&r.focus(),this.currentWindow=r,window.addEventListener("beforeunload",this.unloadWindow),r}catch(i){throw this.logger.error("error opening popup "+i.message),this.browserStorage.setInteractionInProgress(!1),z.createPopupWindowError(i.toString())}},n.openSizedPopup=function(t,e,r,i){var o,s,a,c,l=window.screenLeft?window.screenLeft:window.screenX,h=window.screenTop?window.screenTop:window.screenY,f=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,p=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,g=null===(o=r.popupSize)||void 0===o?void 0:o.width,_=null===(s=r.popupSize)||void 0===s?void 0:s.height,E=null===(a=r.popupPosition)||void 0===a?void 0:a.top,y=null===(c=r.popupPosition)||void 0===c?void 0:c.left;return(!g||g<0||g>f)&&(i.verbose("Default popup window width used. Window width not configured or invalid."),g=483),(!_||_<0||_>p)&&(i.verbose("Default popup window height used. Window height not configured or invalid."),_=600),(!E||E<0||E>p)&&(i.verbose("Default popup window top position used. Window top not configured or invalid."),E=Math.max(0,p/2-300+h)),(!y||y<0||y>f)&&(i.verbose("Default popup window left position used. Window left not configured or invalid."),y=Math.max(0,f/2-241.5+l)),window.open(t,e,"width="+g+", height="+_+", top="+E+", left="+y+", scrollbars=yes")},n.prototype.unloadWindow=function(t){this.browserStorage.cleanRequestByInteractionType(q.Popup),this.currentWindow&&this.currentWindow.close(),t.preventDefault()},n.prototype.cleanPopup=function(t){t&&t.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},n.prototype.monitorPopupForSameOrigin=function(t){var e=this;return new Promise(function(r,i){var o=setInterval(function(){if(t.closed)return e.cleanPopup(),clearInterval(o),void i(z.createUserCancelledError());var s=U.EMPTY_STRING;try{s=t.location.href}catch(a){}j.isEmpty(s)||"about:blank"===s||(clearInterval(o),r())},50)})},n.generatePopupName=function(t,e){return"msal."+t+"."+e.scopes.join("-")+"."+e.authority+"."+e.correlationId},n.generateLogoutPopupName=function(t,e){return"msal."+t+"."+(e.account&&e.account.homeAccountId)+"."+e.correlationId},n}(),om=function(){function n(t,e,r,i){this.authModule=t,this.browserStorage=e,this.authCodeRequest=r,this.browserRequestLogger=i}return n.prototype.handleCodeResponseFromHash=function(t,e,r,i){return N(this,void 0,void 0,function(){var o,s,a;return P(this,function(c){if(this.browserRequestLogger.verbose("InteractionHandler.handleCodeResponse called"),j.isEmpty(t))throw z.createEmptyHashError(t);if(o=this.browserStorage.generateStateKey(e),!(s=this.browserStorage.getTemporaryCache(o)))throw K.createStateNotFoundError("Cached State");return a=this.authModule.handleFragmentResponse(t,s),[2,this.handleCodeResponseFromServer(a,e,r,i)]})})},n.prototype.handleCodeResponseFromServer=function(t,e,r,i,o){return void 0===o&&(o=!0),N(this,void 0,void 0,function(){var s,a,c,l,h,f;return P(this,function(p){switch(p.label){case 0:if(this.browserRequestLogger.trace("InteractionHandler.handleCodeResponseFromServer called"),s=this.browserStorage.generateStateKey(e),!(a=this.browserStorage.getTemporaryCache(s)))throw K.createStateNotFoundError("Cached State");return c=this.browserStorage.generateNonceKey(a),l=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=t.code,t.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(t.cloud_instance_host_name,r,i)]:[3,2];case 1:p.sent(),p.label=2;case 2:return o&&(t.nonce=l||void 0),t.state=a,t.client_info?this.authCodeRequest.clientInfo=t.client_info:(h=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=h),[4,this.authModule.acquireToken(this.authCodeRequest,t)];case 3:return f=p.sent(),this.browserStorage.cleanRequestByState(e),[2,f]}})})},n.prototype.updateTokenEndpointAuthority=function(t,e,r){return N(this,void 0,void 0,function(){var o;return P(this,function(s){switch(s.label){case 0:return[4,im.createDiscoveredInstance("https://"+t+"/"+e.tenant+"/",r,this.browserStorage,e.options)];case 1:return o=s.sent(),this.authModule.updateAuthority(o),[2]}})})},n.prototype.checkCcsCredentials=function(){var t=this.browserStorage.getTemporaryCache(Ue.CCS_CREDENTIAL,!0);if(t)try{return JSON.parse(t)}catch(e){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+t)}return null},n}(),Hj=function(n){function t(e,r,i,o){var s=n.call(this,e,r,i,o)||this;return s.popupUtils=new Ps(r,o),s}return ln(t,n),t.prototype.initiateAuthRequest=function(e,r){if(j.isEmpty(e))throw this.browserRequestLogger.error("Navigate url is empty"),z.createEmptyNavigationUriError();return this.browserStorage.setInteractionInProgress(!0),this.browserRequestLogger.infoPii("Navigate to: "+e),this.popupUtils.openPopup(e,r)},t.prototype.monitorPopupForHash=function(e){var r=this;return this.popupUtils.monitorPopupForSameOrigin(e).then(function(){var i=e.location.hash;if(st.clearHash(e),r.popupUtils.cleanPopup(e),!i)throw z.createEmptyHashError(e.location.href);if(Oe.hashContainsKnownProperties(i))return i;throw z.createHashDoesNotContainKnownPropertiesError()})},t}(om),m0=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ln(t,n),t.prototype.acquireToken=function(e){return N(this,void 0,void 0,function(){var r,i,o,s,a;return P(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.preflightInteractiveRequest(e,q.Popup)];case 1:return r=c.sent(),i=Ps.generatePopupName(this.config.auth.clientId,r),o=e.popupWindowAttributes||{},this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),[2,this.acquireTokenPopupAsync(r,i,o)]):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),s=Ps.openSizedPopup("about:blank",i,o,this.logger),[2,this.acquireTokenPopupAsync(r,i,o,s)]);case 2:return a=c.sent(),[2,Promise.reject(a)];case 3:return[2]}})})},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var r=this.initializeLogoutRequest(e),i=Ps.generateLogoutPopupName(this.config.auth.clientId,r),o=e&&e.authority,s=e&&e.mainWindowRedirectUri,a=(null==e?void 0:e.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,i,a,o,void 0,s);this.logger.verbose("asyncPopup set to false, opening popup");var c=Ps.openSizedPopup("about:blank",i,a,this.logger);return this.logoutPopupAsync(r,i,a,o,c,s)}catch(l){return Promise.reject(l)}},t.prototype.acquireTokenPopupAsync=function(e,r,i,o){return N(this,void 0,void 0,function(){var s,a,c,l,h,p,g,_,y;return P(this,function(A){switch(A.label){case 0:this.logger.verbose("acquireTokenPopupAsync called"),s=this.initializeServerTelemetryManager(Ut.acquireTokenPopup),A.label=1;case 1:return A.trys.push([1,7,,8]),[4,this.initializeAuthorizationCodeRequest(e)];case 2:return a=A.sent(),[4,this.createAuthCodeClient(s,e.authority)];case 3:return c=A.sent(),this.logger.verbose("Auth code client created"),[4,c.getAuthCodeUrl(e)];case 4:return l=A.sent(),h=new Hj(c,this.browserStorage,a,this.logger),p=h.initiateAuthRequest(l,{popup:o,popupName:r,popupWindowAttributes:i}),this.eventHandler.emitEvent(Q.POPUP_OPENED,q.Popup,{popupWindow:p},null),[4,h.monitorPopupForHash(p)];case 5:return g=A.sent(),_=this.validateAndExtractStateFromHash(g,q.Popup,e.correlationId),od.removeThrottle(this.browserStorage,this.config.auth.clientId,a),[4,h.handleCodeResponseFromHash(g,_,c.authority,this.networkClient)];case 6:return[2,A.sent()];case 7:throw y=A.sent(),o&&o.close(),y instanceof oe&&y.setCorrelationId(this.correlationId),s.cacheFailedRequest(y),this.browserStorage.cleanRequestByState(e.state),y;case 8:return[2]}})})},t.prototype.logoutPopupAsync=function(e,r,i,o,s,a){return N(this,void 0,void 0,function(){var c,l,h,f,p,g,_,E,y;return P(this,function(A){switch(A.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Q.LOGOUT_START,q.Popup,e),c=this.initializeServerTelemetryManager(Ut.logoutPopup),A.label=1;case 1:return A.trys.push([1,8,,9]),[4,this.clearCacheOnLogout(e.account)];case 2:return A.sent(),this.browserStorage.setInteractionInProgress(!0),[4,this.createAuthCodeClient(c,o)];case 3:l=A.sent(),this.logger.verbose("Auth code client created"),h=l.getLogoutUri(e),this.eventHandler.emitEvent(Q.LOGOUT_SUCCESS,q.Popup,e),f=new Ps(this.browserStorage,this.logger),p=f.openPopup(h,{popupName:r,popupWindowAttributes:i,popup:s}),this.eventHandler.emitEvent(Q.POPUP_OPENED,q.Popup,{popupWindow:p},null),A.label=4;case 4:return A.trys.push([4,6,,7]),[4,f.monitorPopupForSameOrigin(p)];case 5:return A.sent(),this.logger.verbose("Popup successfully redirected to postLogoutRedirectUri"),[3,7];case 6:return g=A.sent(),this.logger.verbose("Error occurred while monitoring popup for same origin. Session on server may remain active. Error: "+g),[3,7];case 7:return f.cleanPopup(p),a?(_={apiId:Ut.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},E=Oe.getAbsoluteUrl(a,st.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecing main window to: "+E),this.navigationClient.navigateInternal(E,_)):this.logger.verbose("No main window navigation requested"),[3,9];case 8:throw y=A.sent(),s&&s.close(),y instanceof oe&&y.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Q.LOGOUT_FAILURE,q.Popup,null,y),this.eventHandler.emitEvent(Q.LOGOUT_END,q.Popup),c.cacheFailedRequest(y),y;case 9:return this.eventHandler.emitEvent(Q.LOGOUT_END,q.Popup),[2]}})})},t}(Ns),v0=function(n){function t(e,r,i,o,s){var a=n.call(this,e,r,i,o)||this;return a.browserCrypto=s,a}return ln(t,n),t.prototype.initiateAuthRequest=function(e,r){return N(this,void 0,void 0,function(){var i;return P(this,function(s){switch(s.label){case 0:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest called"),j.isEmpty(e)?[3,7]:(r.redirectStartPage&&(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Ue.ORIGIN_URI,r.redirectStartPage,!0)),this.browserStorage.setInteractionInProgress(!0),this.browserStorage.setTemporaryCache(Ue.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.browserRequestLogger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),i={apiId:Ut.acquireTokenRedirect,timeout:r.redirectTimeout,noHistory:!1},"function"!=typeof r.onRedirectNavigate?[3,4]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===r.onRedirectNavigate(e)?[3,2]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,r.navigationClient.navigateExternal(e,i)])));case 1:case 5:return s.sent(),[2];case 2:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,r.navigationClient.navigateExternal(e,i)];case 6:return[3,8];case 7:throw this.browserRequestLogger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),z.createEmptyNavigationUriError();case 8:return[2]}})})},t.prototype.handleCodeResponseFromHash=function(e,r,i,o,s){return N(this,void 0,void 0,function(){var a,c,l,h,f,p,g;return P(this,function(_){switch(_.label){case 0:if(this.browserRequestLogger.verbose("RedirectHandler.handleCodeResponse called"),j.isEmpty(e))throw z.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),a=this.browserStorage.generateStateKey(r),!(c=this.browserStorage.getTemporaryCache(a)))throw K.createStateNotFoundError("Cached State");return l=this.authModule.handleFragmentResponse(e,c),h=this.browserStorage.generateNonceKey(c),f=this.browserStorage.getTemporaryCache(h),this.authCodeRequest.code=l.code,l.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(l.cloud_instance_host_name,i,o)]:[3,2];case 1:_.sent(),_.label=2;case 2:return l.nonce=f||void 0,l.state=c,l.client_info?this.authCodeRequest.clientInfo=l.client_info:(p=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=p),s&&od.removeThrottle(this.browserStorage,s,this.authCodeRequest),[4,this.authModule.acquireToken(this.authCodeRequest,l)];case 3:return g=_.sent(),this.browserStorage.cleanRequestByState(r),[2,g]}})})},t}(om),sm=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ln(t,n),t.prototype.acquireToken=function(e){return N(this,void 0,void 0,function(){var r,i,o,s,a,c,l,h;return P(this,function(f){switch(f.label){case 0:return[4,this.preflightInteractiveRequest(e,q.Redirect)];case 1:r=f.sent(),i=this.initializeServerTelemetryManager(Ut.acquireTokenRedirect),f.label=2;case 2:return f.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(r)];case 3:return o=f.sent(),[4,this.createAuthCodeClient(i,r.authority)];case 4:return s=f.sent(),this.logger.verbose("Auth code client created"),a=new v0(s,this.browserStorage,o,this.logger,this.browserCrypto),[4,s.getAuthCodeUrl(r)];case 5:return c=f.sent(),l=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+l),[4,a.initiateAuthRequest(c,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,f.sent()];case 7:throw(h=f.sent())instanceof oe&&h.setCorrelationId(this.correlationId),i.cacheFailedRequest(h),this.browserStorage.cleanRequestByState(r.state),h;case 8:return[2]}})})},t.prototype.handleRedirectPromise=function(e){return N(this,void 0,void 0,function(){var r,i,o,s,a,c,l,h,f,p,g;return P(this,function(_){switch(_.label){case 0:r=this.initializeServerTelemetryManager(Ut.handleRedirectPromise),_.label=1;case 1:if(_.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(i=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(q.Redirect),[2,null];o=void 0;try{o=this.validateAndExtractStateFromHash(i,q.Redirect),st.clearHash(window),this.logger.verbose("State extracted from hash")}catch(E){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+E),this.browserStorage.cleanRequestByInteractionType(q.Redirect),[2,null]}return s=this.browserStorage.getTemporaryCache(Ue.ORIGIN_URI,!0)||"",a=Oe.removeHashFromUrl(s),c=Oe.removeHashFromUrl(window.location.href),a===c&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(i,o,r)]):[3,3];case 2:return l=_.sent(),s.indexOf("#")>-1&&st.replaceHash(s),[2,l];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(i,o,r)]);case 4:return!st.isInIframe()||this.config.system.allowRedirectInIframe?(this.browserStorage.setTemporaryCache(Ue.URL_HASH,i,!0),h={apiId:Ut.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},f=!0,s&&"null"!==s?[3,6]:(p=st.getHomepage(),this.browserStorage.setTemporaryCache(Ue.ORIGIN_URI,p,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(p,h)])):[3,9];case 5:return f=_.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+s),[4,this.navigationClient.navigateInternal(s,h)];case 7:f=_.sent(),_.label=8;case 8:if(!f)return[2,this.handleHash(i,o,r)];_.label=9;case 9:return[2,null];case 10:throw(g=_.sent())instanceof oe&&g.setCorrelationId(this.correlationId),r.cacheFailedRequest(g),this.browserStorage.cleanRequestByInteractionType(q.Redirect),g;case 11:return[2]}})})},t.prototype.getRedirectResponseHash=function(e){this.logger.verbose("getRedirectResponseHash called");var r=Oe.hashContainsKnownProperties(e),i=this.browserStorage.getTemporaryCache(Ue.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Ue.URL_HASH)),r?(this.logger.verbose("Hash contains known properties, returning response hash"),e):(this.logger.verbose("Hash does not contain known properties, returning cached hash"),i)},t.prototype.handleHash=function(e,r,i){return N(this,void 0,void 0,function(){var o,s,a;return P(this,function(l){switch(l.label){case 0:if(o=this.browserStorage.getCachedRequest(r,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),!(s=this.browserStorage.getCachedAuthority(r)))throw z.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(i,s)];case 1:return a=l.sent(),this.logger.verbose("Auth code client created"),[4,new v0(a,this.browserStorage,o,this.logger,this.browserCrypto).handleCodeResponseFromHash(e,r,a.authority,this.networkClient,this.config.auth.clientId)];case 2:return[2,l.sent()]}})})},t.prototype.logout=function(e){return N(this,void 0,void 0,function(){var r,i,o,s,a,l;return P(this,function(h){switch(h.label){case 0:this.logger.verbose("logoutRedirect called"),r=this.initializeLogoutRequest(e),i=this.initializeServerTelemetryManager(Ut.logout),h.label=1;case 1:return h.trys.push([1,10,,11]),this.eventHandler.emitEvent(Q.LOGOUT_START,q.Redirect,e),[4,this.clearCacheOnLogout(r.account)];case 2:return h.sent(),o={apiId:Ut.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},[4,this.createAuthCodeClient(i,e&&e.authority)];case 3:return s=h.sent(),this.logger.verbose("Auth code client created"),a=s.getLogoutUri(r),this.eventHandler.emitEvent(Q.LOGOUT_SUCCESS,q.Redirect,r),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(a)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),[4,this.navigationClient.navigateExternal(a,o)]):[3,7];case 4:return h.sent(),[2];case 5:this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),h.label=6;case 6:return[3,9];case 7:return[4,this.navigationClient.navigateExternal(a,o)];case 8:return h.sent(),[2];case 9:return[3,11];case 10:throw(l=h.sent())instanceof oe&&l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l),this.eventHandler.emitEvent(Q.LOGOUT_FAILURE,q.Redirect,null,l),this.eventHandler.emitEvent(Q.LOGOUT_END,q.Redirect),l;case 11:return this.eventHandler.emitEvent(Q.LOGOUT_END,q.Redirect),[2]}})})},t.prototype.getRedirectStartPage=function(e){var r=e||window.location.href;return Oe.getAbsoluteUrl(r,st.getCurrentUri())},t}(Ns),_0=function(n){function t(e,r,i,o,s){var a=n.call(this,e,r,i,o)||this;return a.navigateFrameWait=s,a}return ln(t,n),t.prototype.initiateAuthRequest=function(e){return N(this,void 0,void 0,function(){var r;return P(this,function(i){switch(i.label){case 0:if(j.isEmpty(e))throw this.browserRequestLogger.info("Navigate url is empty"),z.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(e)]:[3,2];case 1:return r=i.sent(),[3,3];case 2:r=this.loadFrameSync(e),i.label=3;case 3:return[2,r]}})})},t.prototype.monitorIframeForHash=function(e,r){var i=this;return new Promise(function(o,s){r<6e3&&i.browserRequestLogger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+r+"ms) than the default (6000ms). This may result in timeouts.");var c=window.performance.now()+r,l=setInterval(function(){if(window.performance.now()>c)return i.removeHiddenIframe(e),clearInterval(l),void s(z.createMonitorIframeTimeoutError());var h=U.EMPTY_STRING,f=e.contentWindow;try{h=f?f.location.href:U.EMPTY_STRING}catch(g){}if(!j.isEmpty(h)){var p=f?f.location.hash:U.EMPTY_STRING;if(Oe.hashContainsKnownProperties(p))return i.removeHiddenIframe(e),clearInterval(l),void o(p)}},50)})},t.prototype.loadFrame=function(e){var r=this;return new Promise(function(i,o){var s=r.createHiddenIframe();setTimeout(function(){s?(s.src=e,i(s)):o("Unable to load iframe")},r.navigateFrameWait)})},t.prototype.loadFrameSync=function(e){var r=this.createHiddenIframe();return r.src=e,r},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(om),C0=function(n){function t(e,r,i,o,s,a,c,l){var h=n.call(this,e,r,i,o,s,a,l)||this;return h.apiId=c,h}return ln(t,n),t.prototype.acquireToken=function(e){return N(this,void 0,void 0,function(){var r,i,o,s,a,c;return P(this,function(l){switch(l.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),j.isEmpty(e.loginHint)&&j.isEmpty(e.sid)&&(!e.account||j.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==vo.NONE)throw z.createSilentPromptValueError(e.prompt);return[4,this.initializeAuthorizationRequest(Ge(Ge({},e),{prompt:vo.NONE}),q.Silent)];case 1:r=l.sent(),i=this.initializeServerTelemetryManager(this.apiId),l.label=2;case 2:return l.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(r)];case 3:return o=l.sent(),[4,this.createAuthCodeClient(i,r.authority)];case 4:return s=l.sent(),this.logger.verbose("Auth code client created"),[4,s.getAuthCodeUrl(r)];case 5:return a=l.sent(),[4,this.silentTokenHelper(a,o,s,this.logger)];case 6:return[2,l.sent()];case 7:throw(c=l.sent())instanceof oe&&c.setCorrelationId(this.correlationId),i.cacheFailedRequest(c),this.browserStorage.cleanRequestByState(r.state),c;case 8:return[2]}})})},t.prototype.logout=function(){return Promise.reject(z.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,r,i,o){return N(this,void 0,void 0,function(){var s,a,c,l;return P(this,function(h){switch(h.label){case 0:return[4,(s=new _0(i,this.browserStorage,r,o,this.config.system.navigateFrameWait)).initiateAuthRequest(e)];case 1:return a=h.sent(),[4,s.monitorIframeForHash(a,this.config.system.iframeHashTimeout)];case 2:return c=h.sent(),l=this.validateAndExtractStateFromHash(c,q.Silent,r.correlationId),[2,s.handleCodeResponseFromHash(c,l,i.authority,this.networkClient)]}})})},t}(Ns),y0=function(n){function t(e){return n.call(this,e)||this}return Kn(t,n),t.prototype.acquireToken=function(e){return fe(this,void 0,void 0,function(){var r,i,o;return pe(this,function(s){switch(s.label){case 0:return r=Hr.nowSeconds(),[4,this.executeTokenRequest(e,this.authority)];case 1:return i=s.sent(),(o=new ad(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(i.body),[2,o.handleServerTokenResponse(i.body,this.authority,r,e,void 0,void 0,!0)]}})})},t.prototype.acquireTokenByRefreshToken=function(e){return fe(this,void 0,void 0,function(){var o;return pe(this,function(s){if(!e)throw Ke.createEmptyTokenRequestError();if(!e.account)throw K.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(a){if(o=a instanceof Sc&&"invalid_grant"===a.errorCode&&"client_mismatch"===a.subError,a instanceof yo&&a.errorCode===Jg_noTokensFoundError_code||o)return[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw a}return[2,this.acquireTokenWithCachedRefreshToken(e,!1)]})})},t.prototype.acquireTokenWithCachedRefreshToken=function(e,r){return fe(this,void 0,void 0,function(){var i,o;return pe(this,function(s){if(!(i=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,r)))throw yo.createNoTokensFoundError();return o=Qt(Qt({},e),{refreshToken:i.secret,authenticationScheme:e.authenticationScheme||ot.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:_n.HOME_ACCOUNT_ID}}),[2,this.acquireToken(o)]})})},t.prototype.executeTokenRequest=function(e,r){return fe(this,void 0,void 0,function(){var i,o,s,a,c;return pe(this,function(l){switch(l.label){case 0:return[4,this.createTokenRequestBody(e)];case 1:return i=l.sent(),o=this.createTokenQueryParameters(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},c=Oe.appendQueryString(r.tokenEndpoint,o),[2,this.executePostToTokenEndpoint(c,i,s,a)]}})})},t.prototype.createTokenQueryParameters=function(e){var r=new ks;return e.tokenQueryParameters&&r.addExtraQueryParameters(e.tokenQueryParameters),r.createQueryString()},t.prototype.createTokenRequestBody=function(e){return fe(this,void 0,void 0,function(){var r,i,o,a,c;return pe(this,function(l){switch(l.label){case 0:return(r=new ks).addClientId(this.config.authOptions.clientId),r.addScopes(e.scopes),r.addGrantType(yc.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),i=e.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(i),r.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(r.addClientAssertion((o=this.config.clientCredentials.clientAssertion).assertion),r.addClientAssertionType(o.assertionType)),e.authenticationScheme!==ot.POP?[3,2]:[4,new rm(this.cryptoUtils).generateCnf(e)];case 1:return a=l.sent(),r.addPopToken(a),[3,3];case 2:if(e.authenticationScheme===ot.SSH){if(!e.sshJwk)throw Ke.createMissingSshJwkError();r.addSshJwk(e.sshJwk)}l.label=3;case 3:if((!j.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case _n.HOME_ACCOUNT_ID:try{c=Tc(e.ccsCredential.credential),r.addCcsOid(c)}catch(h){this.logger.verbose("Could not parse home account ID for CCS Header: "+h)}break;case _n.UPN:r.addCcsUpn(e.ccsCredential.credential)}return[2,r.createQueryString()]}})})},t}(nm),Bj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ln(t,n),t.prototype.acquireToken=function(e){return N(this,void 0,void 0,function(){var r,i,o,s,a=this;return P(this,function(c){switch(c.label){case 0:return i=[Ge({},e)],[4,this.initializeBaseRequest(e)];case 1:return r=Ge.apply(void 0,i.concat([c.sent()])),o=this.initializeServerTelemetryManager(Ut.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(o,r.authority)];case 2:return s=c.sent(),this.logger.verbose("Refresh token client created"),[2,s.acquireTokenByRefreshToken(r).catch(function(l){throw l instanceof oe&&l.setCorrelationId(a.correlationId),o.cacheFailedRequest(l),l})]}})})},t.prototype.logout=function(){return Promise.reject(z.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,r){return N(this,void 0,void 0,function(){var i;return P(this,function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,r)];case 1:return i=o.sent(),[2,new y0(i)]}})})},t}(Ns),jj=function(){function n(t,e,r,i){this.isBrowserEnvironment="undefined"!=typeof window,this.config=t,this.storage=e,this.logger=r,this.cryptoObj=i}return n.prototype.loadExternalTokens=function(t,e,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!e.id_token)throw z.createUnableToLoadTokenError("Please ensure server response includes id token.");if(t.account)this.loadIdToken(e.id_token,t.account.homeAccountId,t.account.environment,t.account.tenantId,r),this.loadAccessToken(t,e,t.account.homeAccountId,t.account.environment,t.account.tenantId,r);else{if(!t.authority)throw z.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var o=new g0(t.authority,this.config.system.networkClient,this.storage,{protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata});if(r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),this.loadIdToken(e.id_token,r.clientInfo,o.hostnameAndPort,o.tenant,r),this.loadAccessToken(t,e,r.clientInfo,o.hostnameAndPort,o.tenant,r);else{if(!e.client_info)throw z.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),this.loadIdToken(e.id_token,e.client_info,o.hostnameAndPort,o.tenant,r),this.loadAccessToken(t,e,e.client_info,o.hostnameAndPort,o.tenant,r)}}},n.prototype.loadIdToken=function(t,e,r,i,o){var s=nd.createIdTokenEntity(e,r,t,this.config.auth.clientId,i),a=new Oi(t,this.cryptoObj),c=o.clientInfo?vn.createAccount(o.clientInfo,e,a,void 0,void 0,void 0,void 0,r):vn.createGenericAccount(e,a,void 0,void 0,void 0,void 0,r);if(!this.isBrowserEnvironment)throw z.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading id token"),this.storage.setAccount(c),this.storage.setIdTokenCredential(s)},n.prototype.loadAccessToken=function(t,e,r,i,o,s){if(e.access_token){if(!e.expires_in)throw z.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!s.extendedExpiresOn)throw z.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new Vr(t.scopes).printScopes(),h=rd.createAccessTokenEntity(r,i,e.access_token,this.config.auth.clientId,o,a,e.expires_in,s.extendedExpiresOn,this.cryptoObj);if(!this.isBrowserEnvironment)throw z.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(h)}else this.logger.verbose("TokenCache - No access token provided for caching")},n}(),qj=function(n){function t(e){var r=n.call(this,e)||this;return r.includeRedirectUri=!1,r}return ln(t,n),t}(p0),$j=function(n){function t(e,r,i,o,s,a,c,l){var h=n.call(this,e,r,i,o,s,a,l)||this;return h.apiId=c,h}return ln(t,n),t.prototype.acquireToken=function(e){return N(this,void 0,void 0,function(){var r,i,o,s,a,l;return P(this,function(h){switch(h.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw z.createAuthCodeRequiredError();return[4,this.initializeAuthorizationRequest(e,q.Silent)];case 1:r=h.sent(),i=this.initializeServerTelemetryManager(this.apiId),h.label=2;case 2:return h.trys.push([2,4,,5]),o=Ge(Ge({},r),{code:e.code}),[4,this.getClientConfiguration(i,r.authority)];case 3:return s=h.sent(),a=new qj(s),this.logger.verbose("Auth code client created"),[2,new _0(a,this.browserStorage,o,this.logger,this.config.system.navigateFrameWait).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},r.state,a.authority,this.networkClient,!1)];case 4:throw(l=h.sent())instanceof oe&&l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l),this.browserStorage.cleanRequestByState(r.state),l;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(z.createSilentLogoutUnsupportedError())},t}(Ns),Gj=function(){function n(t){this.isBrowserEnvironment="undefined"!=typeof window,this.config=function(n,t){var e=n.auth,r=n.cache,i=n.system,o={clientId:"",authority:""+U.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:"",postLogoutRedirectUri:"",navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Dc.AAD},s={cacheLocation:Jt.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},a={loggerCallback:function(){},logLevel:Mt.Info,piiLoggingEnabled:!1},c=Ge(Ge({},f0),{loggerOptions:a,networkClient:t?st.getBrowserNetworkClient():Sj,navigationClient:new Tj,loadFrameTimeout:0,windowHashTimeout:i&&i.loadFrameTimeout||6e4,iframeHashTimeout:i&&i.loadFrameTimeout||6e3,navigateFrameWait:t&&st.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1});return{auth:Ge(Ge({},o),e),cache:Ge(Ge({},s),r),system:Ge(Ge({},c),i)}}(t,this.isBrowserEnvironment),this.logger=new s0(this.config.system.loggerOptions,"@azure/msal-browser",tm),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.browserCrypto=this.isBrowserEnvironment?new fj(this.logger):ed,this.eventHandler=new Mj(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new d0(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):function(n,t){return new d0(n,{cacheLocation:Jt.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},ed,t)}(this.config.auth.clientId,this.logger),this.tokenCache=new jj(this.config,this.browserStorage,this.logger,this.browserCrypto)}return n.prototype.handleRedirectPromise=function(t){return N(this,void 0,void 0,function(){var e,r,i,o,s,a=this;return P(this,function(c){return this.logger.verbose("handleRedirectPromise called"),e=this.getAllAccounts(),this.isBrowserEnvironment?(void 0===(i=this.redirectResponse.get(r=t||U.EMPTY_STRING))?(this.eventHandler.emitEvent(Q.HANDLE_REDIRECT_START,q.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getTemporaryCache(Ue.CORRELATION_ID,!0)||"",s=new sm(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,o),i=s.handleRedirectPromise(t).then(function(l){return l&&(e.length<a.getAllAccounts().length?(a.eventHandler.emitEvent(Q.LOGIN_SUCCESS,q.Redirect,l),a.logger.verbose("handleRedirectResponse returned result, login success")):(a.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_SUCCESS,q.Redirect,l),a.logger.verbose("handleRedirectResponse returned result, acquire token success"))),a.eventHandler.emitEvent(Q.HANDLE_REDIRECT_END,q.Redirect),l}).catch(function(l){throw a.eventHandler.emitEvent(e.length>0?Q.ACQUIRE_TOKEN_FAILURE:Q.LOGIN_FAILURE,q.Redirect,null,l),a.eventHandler.emitEvent(Q.HANDLE_REDIRECT_END,q.Redirect),l}),this.redirectResponse.set(r,i)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,i]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},n.prototype.acquireTokenRedirect=function(t){return N(this,void 0,void 0,function(){var e,i=this;return P(this,function(o){return this.preflightBrowserEnvironmentCheck(q.Redirect),this.logger.verbose("acquireTokenRedirect called"),e=this.getAllAccounts().length>0,this.eventHandler.emitEvent(e?Q.ACQUIRE_TOKEN_START:Q.LOGIN_START,q.Redirect,t),[2,new sm(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t.correlationId).acquireToken(t).catch(function(s){throw i.eventHandler.emitEvent(e?Q.ACQUIRE_TOKEN_FAILURE:Q.LOGIN_FAILURE,q.Redirect,null,s),s})]})})},n.prototype.acquireTokenPopup=function(t){var e=this;try{this.preflightBrowserEnvironmentCheck(q.Popup),this.logger.verbose("acquireTokenPopup called",t.correlationId)}catch(o){return Promise.reject(o)}var r=this.getAllAccounts();return this.eventHandler.emitEvent(r.length>0?Q.ACQUIRE_TOKEN_START:Q.LOGIN_START,q.Popup,t),new m0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t.correlationId).acquireToken(t).then(function(o){var s=r.length<e.getAllAccounts().length;return e.eventHandler.emitEvent(s?Q.LOGIN_SUCCESS:Q.ACQUIRE_TOKEN_SUCCESS,q.Popup,o),o}).catch(function(o){return e.eventHandler.emitEvent(r.length>0?Q.ACQUIRE_TOKEN_FAILURE:Q.LOGIN_FAILURE,q.Popup,null,o),Promise.reject(o)})},n.prototype.ssoSilent=function(t){return N(this,void 0,void 0,function(){var r,i;return P(this,function(o){switch(o.label){case 0:this.preflightBrowserEnvironmentCheck(q.Silent),this.logger.verbose("ssoSilent called",t.correlationId),this.eventHandler.emitEvent(Q.SSO_SILENT_START,q.Silent,t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,new C0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ut.ssoSilent,t.correlationId).acquireToken(t)];case 2:return r=o.sent(),this.eventHandler.emitEvent(Q.SSO_SILENT_SUCCESS,q.Silent,r),[2,r];case 3:throw i=o.sent(),this.eventHandler.emitEvent(Q.SSO_SILENT_FAILURE,q.Silent,null,i),i;case 4:return[2]}})})},n.prototype.acquireTokenByCode=function(t){return N(this,void 0,void 0,function(){var e,r=this;return P(this,function(i){this.preflightBrowserEnvironmentCheck(q.Silent),this.logger.trace("acquireTokenByCode called",t.correlationId),this.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_BY_CODE_START,q.Silent,t);try{if(!t.code)throw z.createAuthCodeRequiredError();return(e=this.hybridAuthCodeResponses.get(t.code))?this.logger.verbose("Existing acquireTokenByCode request found",t.correlationId):(this.logger.verbose("Initiating new acquireTokenByCode request",t.correlationId),e=this.acquireTokenByCodeAsync(t).then(function(o){return r.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_BY_CODE_SUCCESS,q.Silent,o),r.hybridAuthCodeResponses.delete(t.code),o}).catch(function(o){throw r.hybridAuthCodeResponses.delete(t.code),o}),this.hybridAuthCodeResponses.set(t.code,e)),[2,e]}catch(o){throw this.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_BY_CODE_FAILURE,q.Silent,null,o),o}return[2]})})},n.prototype.acquireTokenByCodeAsync=function(t){return N(this,void 0,void 0,function(){return P(this,function(i){switch(i.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),[4,new $j(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Ut.acquireTokenByCode,t.correlationId).acquireToken(t)];case 1:return[2,i.sent()]}})})},n.prototype.acquireTokenByRefreshToken=function(t){return N(this,void 0,void 0,function(){var r=this;return P(this,function(i){return this.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_NETWORK_START,q.Silent,t),st.blockReloadInHiddenIframes(),[2,new Bj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t.correlationId).acquireToken(t).catch(function(o){if(o instanceof Sc&&"invalid_grant"===o.errorCode&&!(o instanceof yo))return r.logger.verbose("Refresh token expired or invalid, attempting acquire token by iframe",t.correlationId),new C0(r.config,r.browserStorage,r.browserCrypto,r.logger,r.eventHandler,r.navigationClient,Ut.acquireTokenSilent_authCode,t.correlationId).acquireToken(t);throw o})]})})},n.prototype.logout=function(t){return N(this,void 0,void 0,function(){return P(this,function(e){return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead."),[2,this.logoutRedirect(t)]})})},n.prototype.logoutRedirect=function(t){return N(this,void 0,void 0,function(){return P(this,function(r){return this.preflightBrowserEnvironmentCheck(q.Redirect),[2,new sm(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,null==t?void 0:t.correlationId).logout(t)]})})},n.prototype.logoutPopup=function(t){try{return this.preflightBrowserEnvironmentCheck(q.Popup),new m0(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,null==t?void 0:t.correlationId).logout(t)}catch(r){return Promise.reject(r)}},n.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},n.prototype.getAccountByUsername=function(t){var e=this.getAllAccounts();return!j.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+t),e.filter(function(r){return r.username.toLowerCase()===t.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},n.prototype.getAccountByHomeId=function(t){var e=this.getAllAccounts();return!j.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+t),e.filter(function(r){return r.homeAccountId===t})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},n.prototype.getAccountByLocalId=function(t){var e=this.getAllAccounts();return!j.isEmpty(t)&&e&&e.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+t),e.filter(function(r){return r.localAccountId===t})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},n.prototype.setActiveAccount=function(t){this.browserStorage.setActiveAccount(t)},n.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},n.prototype.preflightBrowserEnvironmentCheck=function(t){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),st.blockNonBrowserEnvironment(this.isBrowserEnvironment),st.blockRedirectInIframe(t,this.config.system.allowRedirectInIframe),st.blockReloadInHiddenIframes(),st.blockAcquireTokenInPopups(),t===q.Redirect&&this.config.cache.cacheLocation===Jt.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw Yu.createInMemoryRedirectUnavailableError()},n.prototype.addEventCallback=function(t){return this.eventHandler.addEventCallback(t)},n.prototype.removeEventCallback=function(t){this.eventHandler.removeEventCallback(t)},n.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},n.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},n.prototype.getTokenCache=function(){return this.tokenCache},n.prototype.getLogger=function(){return this.logger},n.prototype.setLogger=function(t){this.logger=t},n.prototype.initializeWrapperLibrary=function(t,e){this.browserStorage.setWrapperMetadata(t,e)},n.prototype.setNavigationClient=function(t){this.navigationClient=t},n.prototype.getConfiguration=function(){return this.config},n}(),zj=function(n){function t(e){return n.call(this,e)||this}return Kn(t,n),t.prototype.acquireToken=function(e){return fe(this,void 0,void 0,function(){var r;return pe(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,o.sent()];case 2:if((r=o.sent())instanceof K&&r.errorCode===k_tokenRefreshRequired_code)return[2,new y0(this.config).acquireTokenByRefreshToken(e)];throw r;case 3:return[2]}})})},t.prototype.acquireCachedToken=function(e){var r,i,o,s;return fe(this,void 0,void 0,function(){var a,c;return pe(this,function(l){switch(l.label){case 0:if(!e)throw Ke.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(xi.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),K.createRefreshRequiredError();if(!e.account)throw K.createNoAccountInSilentRequestError();if(a=e.authority||this.authority.getPreferredCache(),!(c=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,e,a)).accessToken)throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(xi.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),K.createRefreshRequiredError();if(Hr.wasClockTurnedBack(c.accessToken.cachedAt)||Hr.isTokenExpired(c.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(xi.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),K.createRefreshRequiredError();if(c.accessToken.refreshOn&&Hr.isTokenExpired(c.accessToken.refreshOn,0))throw null===(s=this.serverTelemetryManager)||void 0===s||s.setCacheOutcome(xi.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),K.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(c,e)];case 1:return[2,l.sent()]}})})},t.prototype.generateResultFromCacheRecord=function(e,r){return fe(this,void 0,void 0,function(){var i;return pe(this,function(o){switch(o.label){case 0:return e.idToken&&(i=new Oi(e.idToken.secret,this.config.cryptoInterface)),[4,ad.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,i)];case 1:return[2,o.sent()]}})})},t}(nm),Wj=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ln(t,n),t.prototype.acquireToken=function(e){return N(this,void 0,void 0,function(){var r,i,o,s;return P(this,function(a){switch(a.label){case 0:return r=this.initializeServerTelemetryManager(Ut.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(r,e.authority)];case 1:i=a.sent(),this.logger.verbose("Silent auth client created"),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,i.acquireCachedToken(e)];case 3:return o=a.sent(),this.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_SUCCESS,q.Silent,o),[2,o];case 4:throw(s=a.sent())instanceof z&&s.errorCode===O_signingKeyNotFoundInStorage_code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),s;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(z.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,r){return N(this,void 0,void 0,function(){var i;return P(this,function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,r)];case 1:return i=o.sent(),[2,new zj(i)]}})})},t.prototype.initializeSilentRequest=function(e,r){return N(this,void 0,void 0,function(){var i;return P(this,function(o){switch(o.label){case 0:return i=[Ge({},e)],[4,this.initializeBaseRequest(e)];case 1:return[2,Ge.apply(void 0,[Ge.apply(void 0,i.concat([o.sent()])),{account:r,forceRefresh:e.forceRefresh||!1}])]}})})},t}(Ns),Kj=function(n){function t(e){var r=n.call(this,e)||this;return r.activeSilentTokenRequests=new Map,r}return ln(t,n),t.prototype.loginRedirect=function(e){return N(this,void 0,void 0,function(){return P(this,function(r){return this.logger.verbose("loginRedirect called"),[2,this.acquireTokenRedirect(e||KS)]})})},t.prototype.loginPopup=function(e){return this.logger.verbose("loginPopup called"),this.acquireTokenPopup(e||KS)},t.prototype.acquireTokenSilent=function(e){return N(this,void 0,void 0,function(){var r,o,s,a,c=this;return P(this,function(l){if(this.preflightBrowserEnvironmentCheck(q.Silent),this.logger.verbose("acquireTokenSilent called",e.correlationId),!(r=e.account||this.getActiveAccount()))throw z.createNoAccountError();return o=JSON.stringify({clientId:this.config.auth.clientId,authority:e.authority||"",scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid}),void 0===(s=this.activeSilentTokenRequests.get(o))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",e.correlationId),a=this.acquireTokenSilentAsync(e,r).then(function(h){return c.activeSilentTokenRequests.delete(o),h}).catch(function(h){throw c.activeSilentTokenRequests.delete(o),h}),this.activeSilentTokenRequests.set(o,a),[2,a]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",e.correlationId),[2,s])})})},t.prototype.acquireTokenSilentAsync=function(e,r){return N(this,void 0,void 0,function(){var i,o,s=this;return P(this,function(a){switch(a.label){case 0:return[4,(i=new Wj(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId)).initializeSilentRequest(e,r)];case 1:return o=a.sent(),this.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_START,q.Silent,e),[2,i.acquireToken(o).catch(function(){return N(s,void 0,void 0,function(){var c,l;return P(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.acquireTokenByRefreshToken(o)];case 1:return c=h.sent(),this.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_SUCCESS,q.Silent,c),[2,c];case 2:throw l=h.sent(),this.eventHandler.emitEvent(Q.ACQUIRE_TOKEN_FAILURE,q.Silent,null,l),l;case 3:return[2]}})})})]}})})},t}(Gj);function Qj(){return new Kj({auth:{clientId:"9e2a6e76-ec14-4ca5-ab54-d1c55a12545c",redirectUri:"https://lab.oeiprojectflow.org"}})}let Jj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n,bootstrap:[rj]}),n.\u0275inj=Xt({providers:[{provide:vg,useClass:ij,multi:!0},{provide:Zu,useFactory:Qj},Fs],imports:[[iL,UB,o4,aV,OB]]}),n})();(function(){if(JE)throw new Error("Cannot enable prod mode after platform setup.");QE=!1})(),nL().bootstrapModule(Jj).catch(n=>console.error(n))}},Nt=>{Nt(Nt.s=934)}]);