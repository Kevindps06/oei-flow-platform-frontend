<div
  *ngIf="waitTasks.length > 0 || loading"
  [ngClass]="{
    'fade-in': waitTasks.length > 0,
    'fade-out': waitTasks.length === 0,
    'd-none': waitTasks.length === 0 && loading === false
  }"
  class="position-fixed top-0"
  style="
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 11;
  "
  (animationstart)="animationstart($event)"
  (animationend)="animationend($event)"
>
  <div
    class="position-absolute top-50 start-50 translate-middle"
    style="width: 50vw"
  >
    <div class="row g-3">
      <div class="col-12 text-center">
        <img
          src="../../../assets/loading.svg"
          height="100px"
          width="100px"
          class="img-fluid"
        />
      </div>
      <div class="col-12">
        <div class="progress">
          <div
            class="
              progress-bar progress-bar-striped progress-bar-animated
              text-dark
            "
            role="progressbar"
            [ngStyle]="{
              width: (waitTasks.length > 0 ? waitTasks[0].progress : 100) + '%'
            }"
          >
            {{ waitTasks.length > 0 ? waitTasks[0].progress : "" }}%
          </div>
        </div>
      </div>
      <div class="col-12 text-center">
        <p class="fs-4 text-light">
          {{ waitTasks.length > 0 ? waitTasks[0].description : "" }}
        </p>
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div
    class="
      card
      shadow-lg
      bg-body
      rounded
      border-primary border-0 border border-5
      my-3
      border-start
    "
  >
    <img src="../../../assets/banner.png" class="card-img-top" />
    <div class="card-body">
      <div class="row g-3">
        <div class="col-12">
          <h4 class="card-title text-center" style="white-space: pre-wrap">
            {{ title }}
          </h4>
        </div>
        <div class="col-12">
          <p class="card-text" style="white-space: pre-wrap">{{ description }}</p>
        </div>
      </div>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item"></li>
      <li class="list-group-item">
        <div class="mt-3">
          <app-forms-financiera-registration
            *ngIf="isRoute('/forms/financiera/registration')"
            (onWaitTasksChange)="setWaitTasks($event)"
          >
          </app-forms-financiera-registration>
          <app-forms-financiera-invoice
            *ngIf="isRoute('/forms/financiera/invoice')"
            (onWaitTasksChange)="setWaitTasks($event)"
          ></app-forms-financiera-invoice>
          <app-forms-coordinacionlogistica
            *ngIf="isRoute('/forms/coordinacionlogistica')"
            (onWaitTasksChange)="setWaitTasks($event)"
          >
          </app-forms-coordinacionlogistica>
          <app-forms-juridica-contratacion-convenio-request
            *ngIf="isRoute('/forms/juridica/contratacion/convenio/request')"
            [convenios]="convenios"
            (onWaitTasksChange)="setWaitTasks($event)"
          ></app-forms-juridica-contratacion-convenio-request>
          <app-forms-juridica-contratacion-request
            *ngIf="isRoute('/forms/juridica/contratacion/request')"
            [convenios]="convenios"
            (onWaitTasksChange)="setWaitTasks($event)"
          ></app-forms-juridica-contratacion-request>
        </div>
      </li>
    </ul>
  </div>
</div>
